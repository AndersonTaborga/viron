:root {
  --component-application-menu-width: 192px;
  --component-application-header-height: 64px;
}

.Application {
  position: relative;
  display: block;
  height: 100%;
  color: var(--theme-app-text);
  background-color: var(--theme-app-bg);

  &__container {
    display: grid;
    height: 100%;
    transition-duration: 300ms;
    transition-property: grid-template-columns;
    grid-template-areas: "aside header" "aside main";
    /* minmaxを使わないと正しく高さが計算されないbug有り。(safari) */
    grid-template-rows: var(--component-application-header-height) minmax(0, 1fr);
    grid-template-columns: var(--component-application-menu-width) minmax(0, 1fr);
  }

  & &__container {
    z-index: 1;
  }

  & .Application_Drawers {
    z-index: 2;
  }

  & .Application_Modals {
    z-index: 3;
  }

  & .Application_Mediapreviews {
    z-index: 4;
  }

  & .Application_Popovers {
    z-index: 5;
  }

  & .Application_Toasts {
    z-index: 6;
  }

  & .Application_ProgressLinear {
    z-index: 7;
  }

  & .Application_Dimmer {
    z-index: 8;
  }

  & .Application_Blocker {
    z-index: 9;
  }

  & .Application_Splash {
    z-index: 10;
  }

  &__aside {
    @apply --layout-stretch-center;
    grid-area: aside;
  }

  &__asideAdjuster {
    /* for Safari bug */
    position: relative;
    flex-grow: 1;
    overflow: hidden;
  }

  &__asideContent {
    /* for Safari bug */
    position: absolute;
    top: 0;
    left: 0;
    width: var(--component-application-menu-width);
    height: 100%;

    & .Application_Menu,
    & .Application_Poster {
      height: 100%;
    }
  }

  &__header {
    @apply --layout-stretch-center;
    grid-area: header;

    & .Application_Header {
      flex-grow: 1;
    }
  }

  &__main {
    overflow-y: scroll;
    grid-area: main;
  }

  &__page {
    /* Chromeのバグ対応 DnDすると要素の横幅が0になる.. */
    min-height: 101%;
    /* Safariのposition:stickyバグ対応 */
    padding-top: 24px;
  }

  &--desktop&--asideClosed {
    .Application__container {
      grid-template-columns: 0 minmax(0, 1fr);
    }
  }

  &--desktop {
    & .Application__main {
      padding: 0 24px 24px;
    }
  }

  &--mobile {
    & .Application__container {
      grid-template-areas: "header" "main";
      grid-template-columns: minmax(0, 1fr);
    }

    & .Application__main {
      padding: 0 4px 24px;
    }
  }

  /* theme関連 */
  &--standard {
    --theme-app-text: var(--theme-standard-app-text);
    --theme-app-bg: var(--theme-standard-app-bg);
    --theme-poster-overlay: var(--theme-standard-poster-overlay);
    --theme-menu-logo: var(--theme-standard-menu-logo);
    --theme-menu-text: var(--theme-standard-menu-text);
    --theme-menu-arrow: var(--theme-standard-menu-arrow);
    --theme-menu-overlay: var(--theme-standard-menu-overlay);
    --theme-header-bg: var(--theme-standard-header-bg);
    --theme-endpointCard-bg: var(--theme-standard-endpointCard-bg);
    --theme-endpointCard-border: var(--theme-standard-endpointCard-border);
  }

  &--midnight {
    --theme-app-text: var(--theme-midnight-app-text);
    --theme-app-bg: var(--theme-midnight-app-bg);
    --theme-poster-overlay: var(--theme-midnight-poster-overlay);
    --theme-menu-logo: var(--theme-midnight-menu-logo);
    --theme-menu-text: var(--theme-midnight-menu-text);
    --theme-menu-arrow: var(--theme-midnight-menu-arrow);
    --theme-menu-overlay: var(--theme-midnight-menu-overlay);
    --theme-header-bg: var(--theme-midnight-header-bg);
    --theme-endpointCard-bg: var(--theme-midnight-endpointCard-bg);
    --theme-endpointCard-border: var(--theme-midnight-endpointCard-border);
  }

  &--terminal {
    --theme-app-text: var(--theme-terminal-app-text);
    --theme-app-bg: var(--theme-terminal-app-bg);
    --theme-poster-overlay: var(--theme-terminal-poster-overlay);
    --theme-menu-logo: var(--theme-terminal-menu-logo);
    --theme-menu-text: var(--theme-terminal-menu-text);
    --theme-menu-arrow: var(--theme-terminal-menu-arrow);
    --theme-menu-overlay: var(--theme-terminal-menu-overlay);
    --theme-header-bg: var(--theme-terminal-header-bg);
    --theme-endpointCard-bg: var(--theme-terminal-endpointCard-bg);
    --theme-endpointCard-border: var(--theme-terminal-endpointCard-border);
  }
}
