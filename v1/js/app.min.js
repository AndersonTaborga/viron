(function(){var commonjsGlobal=typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function unwrapExports(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x["default"]:x}function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports}var riot_1=createCommonjsModule(function(module,exports){(function(global,factory){factory(exports)})(commonjsGlobal,function(exports){"use strict";var __TAGS_CACHE=[];var __TAG_IMPL={};var YIELD_TAG="yield";var GLOBAL_MIXIN="__global_mixin";var ATTRS_PREFIX="riot-";var REF_DIRECTIVES=["ref","data-ref"];var IS_DIRECTIVE="data-is";var CONDITIONAL_DIRECTIVE="if";var LOOP_DIRECTIVE="each";var LOOP_NO_REORDER_DIRECTIVE="no-reorder";var SHOW_DIRECTIVE="show";var HIDE_DIRECTIVE="hide";var KEY_DIRECTIVE="key";var RIOT_EVENTS_KEY="__riot-events__";var T_STRING="string";var T_OBJECT="object";var T_UNDEF="undefined";var T_FUNCTION="function";var XLINK_NS="http://www.w3.org/1999/xlink";var SVG_NS="http://www.w3.org/2000/svg";var XLINK_REGEX=/^xlink:(\w+)/;var WIN=typeof window===T_UNDEF?undefined:window;var RE_SPECIAL_TAGS=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/;var RE_SPECIAL_TAGS_NO_OPTION=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;var RE_EVENTS_PREFIX=/^on/;var RE_HTML_ATTRS=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;var CASE_SENSITIVE_ATTRIBUTES={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"};var RE_BOOL_ATTRS=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/;var IE_VERSION=(WIN&&WIN.document||{}).documentMode|0;function $$(selector,ctx){return[].slice.call((ctx||document).querySelectorAll(selector))}function $(selector,ctx){return(ctx||document).querySelector(selector)}function createFrag(){return document.createDocumentFragment()}function createDOMPlaceholder(){return document.createTextNode("")}function isSvg(el){var owner=el.ownerSVGElement;return!!owner||owner===null}function mkEl(name){return name==="svg"?document.createElementNS(SVG_NS,name):document.createElement(name)}function setInnerHTML(container,html,isSvg){if(isSvg){var node=container.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="'+SVG_NS+'">'+html+"</svg>","application/xml").documentElement,true);container.appendChild(node)}else{container.innerHTML=html}}function toggleVisibility(dom,show){dom.style.display=show?"":"none";dom.hidden=show?false:true}function remAttr(dom,name){dom.removeAttribute(name)}function styleObjectToString(style){return Object.keys(style).reduce(function(acc,prop){return acc+" "+prop+": "+style[prop]+";"},"")}function getAttr(dom,name){return dom.getAttribute(name)}function setAttr(dom,name,val){var xlink=XLINK_REGEX.exec(name);if(xlink&&xlink[1]){dom.setAttributeNS(XLINK_NS,xlink[1],val)}else{dom.setAttribute(name,val)}}function safeInsert(root,curr,next){root.insertBefore(curr,next.parentNode&&next)}function walkAttrs(html,fn){if(!html){return}var m;while(m=RE_HTML_ATTRS.exec(html)){fn(m[1].toLowerCase(),m[2]||m[3]||m[4])}}function walkNodes(dom,fn,context){if(dom){var res=fn(dom,context);var next;if(res===false){return}dom=dom.firstChild;while(dom){next=dom.nextSibling;walkNodes(dom,fn,res);dom=next}}}var dom=Object.freeze({$$:$$,$:$,createFrag:createFrag,createDOMPlaceholder:createDOMPlaceholder,isSvg:isSvg,mkEl:mkEl,setInnerHTML:setInnerHTML,toggleVisibility:toggleVisibility,remAttr:remAttr,styleObjectToString:styleObjectToString,getAttr:getAttr,setAttr:setAttr,safeInsert:safeInsert,walkAttrs:walkAttrs,walkNodes:walkNodes});var styleNode;var cssTextProp;var byName={};var remainder=[];var needsInject=false;if(WIN){styleNode=function(){var newNode=mkEl("style");var userNode=$("style[type=riot]");setAttr(newNode,"type","text/css");if(userNode){if(userNode.id){newNode.id=userNode.id}userNode.parentNode.replaceChild(newNode,userNode)}else{document.head.appendChild(newNode)}return newNode}();cssTextProp=styleNode.styleSheet}var styleManager={styleNode:styleNode,add:function add(css,name){if(name){byName[name]=css}else{remainder.push(css)}needsInject=true},inject:function inject(){if(!WIN||!needsInject){return}needsInject=false;var style=Object.keys(byName).map(function(k){return byName[k]}).concat(remainder).join("\n");if(cssTextProp){cssTextProp.cssText=style}else{styleNode.innerHTML=style}}};var skipRegex=function(){var beforeReChars="[{(,;:?=|&!^~>%*/";var beforeReWords=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"];var wordsLastChar=beforeReWords.reduce(function(s,w){return s+w.slice(-1)},"");var RE_REGEX=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/;var RE_VN_CHAR=/[$\w]/;function prev(code,pos){while(--pos>=0&&/\s/.test(code[pos])){}return pos}function _skipRegex(code,start){var re=/.*/g;var pos=re.lastIndex=start++;var match=re.exec(code)[0].match(RE_REGEX);if(match){var next=pos+match[0].length;pos=prev(code,pos);var c=code[pos];if(pos<0||~beforeReChars.indexOf(c)){return next}if(c==="."){if(code[pos-1]==="."){start=next}}else if(c==="+"||c==="-"){if(code[--pos]!==c||(pos=prev(code,pos))<0||!RE_VN_CHAR.test(code[pos])){start=next}}else if(~wordsLastChar.indexOf(c)){var end=pos+1;while(--pos>=0&&RE_VN_CHAR.test(code[pos])){}if(~beforeReWords.indexOf(code.slice(pos+1,end))){start=next}}}return start}return _skipRegex}();var brackets=function(UNDEF){var REGLOB="g",R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,R_STRINGS=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,S_QBLOCKS=R_STRINGS.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,UNSUPPORTED=RegExp("[\\"+"x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),NEED_ESCAPE=/(?=[[\]()*+?.^$|])/g,S_QBLOCK2=R_STRINGS.source+"|"+/(\/)(?![*\/])/.source,FINDBRACES={"(":RegExp("([()])|"+S_QBLOCK2,REGLOB),"[":RegExp("([[\\]])|"+S_QBLOCK2,REGLOB),"{":RegExp("([{}])|"+S_QBLOCK2,REGLOB)},DEFAULT="{ }";var _pairs=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+S_QBLOCK2,REGLOB),DEFAULT,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/];var cachedBrackets=UNDEF,_regex,_cache=[],_settings;function _loopback(re){return re}function _rewrite(re,bp){if(!bp){bp=_cache}return new RegExp(re.source.replace(/{/g,bp[2]).replace(/}/g,bp[3]),re.global?REGLOB:"")}function _create(pair){if(pair===DEFAULT){return _pairs}var arr=pair.split(" ");if(arr.length!==2||UNSUPPORTED.test(pair)){throw new Error('Unsupported brackets "'+pair+'"')}arr=arr.concat(pair.replace(NEED_ESCAPE,"\\").split(" "));arr[4]=_rewrite(arr[1].length>1?/{[\S\s]*?}/:_pairs[4],arr);arr[5]=_rewrite(pair.length>3?/\\({|})/g:_pairs[5],arr);arr[6]=_rewrite(_pairs[6],arr);arr[7]=RegExp("\\\\("+arr[3]+")|([[({])|("+arr[3]+")|"+S_QBLOCK2,REGLOB);arr[8]=pair;return arr}function _brackets(reOrIdx){return reOrIdx instanceof RegExp?_regex(reOrIdx):_cache[reOrIdx]}_brackets.split=function split(str,tmpl,_bp){if(!_bp){_bp=_cache}var parts=[],match,isexpr,start,pos,re=_bp[6];var qblocks=[];var prevStr="";var mark,lastIndex;isexpr=start=re.lastIndex=0;while(match=re.exec(str)){lastIndex=re.lastIndex;pos=match.index;if(isexpr){if(match[2]){var ch=match[2];var rech=FINDBRACES[ch];var ix=1;rech.lastIndex=lastIndex;while(match=rech.exec(str)){if(match[1]){if(match[1]===ch){++ix}else if(!--ix){break}}else{rech.lastIndex=pushQBlock(match.index,rech.lastIndex,match[2])}}re.lastIndex=ix?str.length:rech.lastIndex;continue}if(!match[3]){re.lastIndex=pushQBlock(pos,lastIndex,match[4]);continue}}if(!match[1]){unescapeStr(str.slice(start,pos));start=re.lastIndex;re=_bp[6+(isexpr^=1)];re.lastIndex=start}}if(str&&start<str.length){unescapeStr(str.slice(start))}parts.qblocks=qblocks;return parts;function unescapeStr(s){if(prevStr){s=prevStr+s;prevStr=""}if(tmpl||isexpr){parts.push(s&&s.replace(_bp[5],"$1"))}else{parts.push(s)}}function pushQBlock(_pos,_lastIndex,slash){if(slash){_lastIndex=skipRegex(str,_pos)}if(tmpl&&_lastIndex>_pos+2){mark="‚Åó"+qblocks.length+"~";qblocks.push(str.slice(_pos,_lastIndex));prevStr+=str.slice(start,_pos)+mark;start=_lastIndex}return _lastIndex}};_brackets.hasExpr=function hasExpr(str){return _cache[4].test(str)};_brackets.loopKeys=function loopKeys(expr){var m=expr.match(_cache[9]);return m?{key:m[1],pos:m[2],val:_cache[0]+m[3].trim()+_cache[1]}:{val:expr.trim()}};_brackets.array=function array(pair){return pair?_create(pair):_cache};function _reset(pair){if((pair||(pair=DEFAULT))!==_cache[8]){_cache=_create(pair);_regex=pair===DEFAULT?_loopback:_rewrite;_cache[9]=_regex(_pairs[9])}cachedBrackets=pair}function _setSettings(o){var b;o=o||{};b=o.brackets;Object.defineProperty(o,"brackets",{set:_reset,get:function(){return cachedBrackets},enumerable:true});_settings=o;_reset(b)}Object.defineProperty(_brackets,"settings",{set:_setSettings,get:function(){return _settings}});_brackets.settings=typeof riot!=="undefined"&&riot.settings||{};_brackets.set=_reset;_brackets.skipRegex=skipRegex;_brackets.R_STRINGS=R_STRINGS;_brackets.R_MLCOMMS=R_MLCOMMS;_brackets.S_QBLOCKS=S_QBLOCKS;_brackets.S_QBLOCK2=S_QBLOCK2;return _brackets}();var tmpl=function(){var _cache={};function _tmpl(str,data){if(!str){return str}return(_cache[str]||(_cache[str]=_create(str))).call(data,_logErr.bind({data:data,tmpl:str}))}_tmpl.hasExpr=brackets.hasExpr;_tmpl.loopKeys=brackets.loopKeys;_tmpl.clearCache=function(){_cache={}};_tmpl.errorHandler=null;function _logErr(err,ctx){err.riotData={tagName:ctx&&ctx.__&&ctx.__.tagName,_riot_id:ctx&&ctx._riot_id};if(_tmpl.errorHandler){_tmpl.errorHandler(err)}else if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(err.message);console.log("<%s> %s",err.riotData.tagName||"Unknown tag",this.tmpl);console.log(this.data)}}function _create(str){var expr=_getTmpl(str);if(expr.slice(0,11)!=="try{return "){expr="return "+expr}return new Function("E",expr+";")}var RE_DQUOTE=/\u2057/g;var RE_QBMARK=/\u2057(\d+)~/g;function _getTmpl(str){var parts=brackets.split(str.replace(RE_DQUOTE,'"'),1);var qstr=parts.qblocks;var expr;if(parts.length>2||parts[0]){var i,j,list=[];for(i=j=0;i<parts.length;++i){expr=parts[i];if(expr&&(expr=i&1?_parseExpr(expr,1,qstr):'"'+expr.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')){list[j++]=expr}}expr=j<2?list[0]:"["+list.join(",")+'].join("")'}else{expr=_parseExpr(parts[1],0,qstr)}if(qstr.length){expr=expr.replace(RE_QBMARK,function(_,pos){return qstr[pos].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})}return expr}var RE_CSNAME=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/;var RE_BREND={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function _parseExpr(expr,asText,qstr){expr=expr.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1");if(expr){var list=[],cnt=0,match;while(expr&&(match=expr.match(RE_CSNAME))&&!match.index){var key,jsb,re=/,|([[{(])|$/g;expr=RegExp.rightContext;key=match[2]?qstr[match[2]].slice(1,-1).trim().replace(/\s+/g," "):match[1];while(jsb=(match=re.exec(expr))[1]){skipBraces(jsb,re)}jsb=expr.slice(0,match.index);expr=RegExp.rightContext;list[cnt++]=_wrapExpr(jsb,1,key)}expr=!cnt?_wrapExpr(expr,asText):cnt>1?"["+list.join(",")+'].join(" ").trim()':list[0]}return expr;function skipBraces(ch,re){var mm,lv=1,ir=RE_BREND[ch];ir.lastIndex=re.lastIndex;while(mm=ir.exec(expr)){if(mm[0]===ch){++lv}else if(!--lv){break}}re.lastIndex=lv?expr.length:ir.lastIndex}}var JS_CONTEXT='"in this?this:'+(typeof window!=="object"?"global":"window")+").",JS_VARNAME=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,JS_NOPROPS=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function _wrapExpr(expr,asText,key){var tb;expr=expr.replace(JS_VARNAME,function(match,p,mvar,pos,s){if(mvar){pos=tb?0:pos+match.length;if(mvar!=="this"&&mvar!=="global"&&mvar!=="window"){match=p+'("'+mvar+JS_CONTEXT+mvar;if(pos){tb=(s=s[pos])==="."||s==="("||s==="["}}else if(pos){tb=!JS_NOPROPS.test(s.slice(pos))}}return match});if(tb){expr="try{return "+expr+"}catch(e){E(e,this)}"}if(key){expr=(tb?"function(){"+expr+"}.call(this)":"("+expr+")")+'?"'+key+'":""'}else if(asText){expr="function(v){"+(tb?expr.replace("return ","v="):"v=("+expr+")")+';return v||v===0?v:""}.call(this)'}return expr}_tmpl.version=brackets.version="v3.0.8";return _tmpl}();var observable$1=function(el){el=el||{};var callbacks={},slice=Array.prototype.slice;Object.defineProperties(el,{on:{value:function(event,fn){if(typeof fn=="function"){(callbacks[event]=callbacks[event]||[]).push(fn)}return el},enumerable:false,writable:false,configurable:false},off:{value:function(event,fn){if(event=="*"&&!fn){callbacks={}}else{if(fn){var arr=callbacks[event];for(var i=0,cb;cb=arr&&arr[i];++i){if(cb==fn){arr.splice(i--,1)}}}else{delete callbacks[event]}}return el},enumerable:false,writable:false,configurable:false},one:{value:function(event,fn){function on(){el.off(event,on);fn.apply(el,arguments)}return el.on(event,on)},enumerable:false,writable:false,configurable:false},trigger:{value:function(event){var arguments$1=arguments;var arglen=arguments.length-1,args=new Array(arglen),fns,fn,i;for(i=0;i<arglen;i++){args[i]=arguments$1[i+1]}fns=slice.call(callbacks[event]||[],0);for(i=0;fn=fns[i];++i){fn.apply(el,args)}if(callbacks["*"]&&event!="*"){el.trigger.apply(el,["*",event].concat(args))}return el},enumerable:false,writable:false,configurable:false}});return el};function isBoolAttr(value){return RE_BOOL_ATTRS.test(value)}function isFunction(value){return typeof value===T_FUNCTION}function isObject(value){return value&&typeof value===T_OBJECT}function isUndefined(value){return typeof value===T_UNDEF}function isString(value){return typeof value===T_STRING}function isBlank(value){return isNil(value)||value===""}function isNil(value){return isUndefined(value)||value===null}function isArray(value){return Array.isArray(value)||value instanceof Array}function isWritable(obj,key){var descriptor=getPropDescriptor(obj,key);return isUndefined(obj[key])||descriptor&&descriptor.writable}var check=Object.freeze({isBoolAttr:isBoolAttr,isFunction:isFunction,isObject:isObject,isUndefined:isUndefined,isString:isString,isBlank:isBlank,isNil:isNil,isArray:isArray,isWritable:isWritable});function each(list,fn){var len=list?list.length:0;var i=0;for(;i<len;i++){fn(list[i],i)}return list}function contains(array,item){return array.indexOf(item)!==-1}function toCamel(str){return str.replace(/-(\w)/g,function(_,c){return c.toUpperCase()})}function startsWith(str,value){return str.slice(0,value.length)===value}function defineProperty(el,key,value,options){Object.defineProperty(el,key,extend({value:value,enumerable:false,writable:false,configurable:true},options));return el}var uid=function(){var i=-1;return function(){return++i}}();var getPropDescriptor=function(o,k){return Object.getOwnPropertyDescriptor(o,k)};function extend(src){var obj;var i=1;var args=arguments;var l=args.length;for(;i<l;i++){if(obj=args[i]){for(var key in obj){if(isWritable(src,key)){src[key]=obj[key]}}}}return src}var misc=Object.freeze({each:each,contains:contains,toCamel:toCamel,startsWith:startsWith,defineProperty:defineProperty,uid:uid,getPropDescriptor:getPropDescriptor,extend:extend});var settings$1=extend(Object.create(brackets.settings),{skipAnonymousTags:true,autoUpdate:true});function handleEvent(dom,handler,e){var ptag=this.__.parent;var item=this.__.item;if(!item){while(ptag&&!item){item=ptag.__.item;ptag=ptag.__.parent}}if(isWritable(e,"currentTarget")){e.currentTarget=dom}if(isWritable(e,"target")){e.target=e.srcElement}if(isWritable(e,"which")){e.which=e.charCode||e.keyCode}e.item=item;handler.call(this,e);if(!settings$1.autoUpdate){return}if(!e.preventUpdate){var p=getImmediateCustomParentTag(this);if(p.isMounted){p.update()}}}function setEventHandler(name,handler,dom,tag){var eventName;var cb=handleEvent.bind(tag,dom,handler);dom[name]=null;eventName=name.replace(RE_EVENTS_PREFIX,"");if(!contains(tag.__.listeners,dom)){tag.__.listeners.push(dom)}if(!dom[RIOT_EVENTS_KEY]){dom[RIOT_EVENTS_KEY]={}}if(dom[RIOT_EVENTS_KEY][name]){dom.removeEventListener(eventName,dom[RIOT_EVENTS_KEY][name])}dom[RIOT_EVENTS_KEY][name]=cb;dom.addEventListener(eventName,cb,false)}function updateDataIs(expr,parent,tagName){var tag=expr.tag||expr.dom._tag;var ref;var ref$1=tag?tag.__:{};var head=ref$1.head;var isVirtual=expr.dom.tagName==="VIRTUAL";if(tag&&expr.tagName===tagName){tag.update();return}if(tag){if(isVirtual){ref=createDOMPlaceholder();head.parentNode.insertBefore(ref,head)}tag.unmount(true)}if(!isString(tagName)){return}expr.impl=__TAG_IMPL[tagName];if(!expr.impl){return}expr.tag=tag=initChildTag(expr.impl,{root:expr.dom,parent:parent,tagName:tagName},expr.dom.innerHTML,parent);each(expr.attrs,function(a){return setAttr(tag.root,a.name,a.value)});expr.tagName=tagName;tag.mount();if(isVirtual){makeReplaceVirtual(tag,ref||tag.root)}parent.__.onUnmount=function(){var delName=tag.opts.dataIs;arrayishRemove(tag.parent.tags,delName,tag);arrayishRemove(tag.__.parent.tags,delName,tag);tag.unmount()}}function normalizeAttrName(attrName){if(!attrName){return null}attrName=attrName.replace(ATTRS_PREFIX,"");if(CASE_SENSITIVE_ATTRIBUTES[attrName]){attrName=CASE_SENSITIVE_ATTRIBUTES[attrName]}return attrName}function updateExpression(expr){if(this.root&&getAttr(this.root,"virtualized")){return}var dom=expr.dom;var attrName=normalizeAttrName(expr.attr);var isToggle=contains([SHOW_DIRECTIVE,HIDE_DIRECTIVE],attrName);var isVirtual=expr.root&&expr.root.tagName==="VIRTUAL";var ref=this.__;var isAnonymous=ref.isAnonymous;var parent=dom&&(expr.parent||dom.parentNode);var isStyleAttr=attrName==="style";var isClassAttr=attrName==="class";var value;if(expr._riot_id){if(expr.__.wasCreated){expr.update()}else{expr.mount();if(isVirtual){makeReplaceVirtual(expr,expr.root)}}return}if(expr.update){return expr.update()}var context=isToggle&&!isAnonymous?inheritParentProps.call(this):this;value=tmpl(expr.expr,context);var hasValue=!isBlank(value);var isObj=isObject(value);if(isObj){if(isClassAttr){value=tmpl(JSON.stringify(value),this)}else if(isStyleAttr){value=styleObjectToString(value)}}if(expr.attr&&(!expr.wasParsedOnce||!hasValue||value===false)){remAttr(dom,getAttr(dom,expr.attr)?expr.attr:attrName)}if(expr.bool){value=value?attrName:false}if(expr.isRtag){return updateDataIs(expr,this,value)}if(expr.wasParsedOnce&&expr.value===value){return}expr.value=value;expr.wasParsedOnce=true;if(isObj&&!isClassAttr&&!isStyleAttr&&!isToggle){return}if(!hasValue){value=""}if(!attrName){value+="";if(parent){expr.parent=parent;if(parent.tagName==="TEXTAREA"){parent.value=value;if(!IE_VERSION){dom.nodeValue=value}}else{dom.nodeValue=value}}return}if(isFunction(value)){setEventHandler(attrName,value,dom,this)}else if(isToggle){toggleVisibility(dom,attrName===HIDE_DIRECTIVE?!value:value)}else{if(expr.bool){dom[attrName]=value}if(attrName==="value"&&dom.value!==value){dom.value=value}else if(hasValue&&value!==false){setAttr(dom,attrName,value)}if(isStyleAttr&&dom.hidden){toggleVisibility(dom,false)}}}function updateAllExpressions(expressions){each(expressions,updateExpression.bind(this))}var IfExpr={init:function init(dom,tag,expr){remAttr(dom,CONDITIONAL_DIRECTIVE);this.tag=tag;this.expr=expr;this.stub=createDOMPlaceholder();this.pristine=dom;var p=dom.parentNode;p.insertBefore(this.stub,dom);p.removeChild(dom);return this},update:function update(){this.value=tmpl(this.expr,this.tag);if(this.value&&!this.current){this.current=this.pristine.cloneNode(true);this.stub.parentNode.insertBefore(this.current,this.stub);this.expressions=parseExpressions.apply(this.tag,[this.current,true])}else if(!this.value&&this.current){unmountAll(this.expressions);if(this.current._tag){this.current._tag.unmount()}else if(this.current.parentNode){this.current.parentNode.removeChild(this.current)}this.current=null;this.expressions=[]}if(this.value){updateAllExpressions.call(this.tag,this.expressions)}},unmount:function unmount(){unmountAll(this.expressions||[])}};var RefExpr={init:function init(dom,parent,attrName,attrValue){this.dom=dom;this.attr=attrName;this.rawValue=attrValue;this.parent=parent;this.hasExp=tmpl.hasExpr(attrValue);return this},update:function update(){var old=this.value;var customParent=this.parent&&getImmediateCustomParentTag(this.parent);var tagOrDom=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?tmpl(this.rawValue,this.parent):this.rawValue;if(!isBlank(old)&&customParent){arrayishRemove(customParent.refs,old,tagOrDom)}if(!isBlank(this.value)&&isString(this.value)){if(customParent){arrayishAdd(customParent.refs,this.value,tagOrDom,null,this.parent.__.index)}if(this.value!==old){setAttr(this.dom,this.attr,this.value)}}else{remAttr(this.dom,this.attr)}if(!this.dom.__ref){this.dom.__ref=tagOrDom}},unmount:function unmount(){var tagOrDom=this.tag||this.dom;var customParent=this.parent&&getImmediateCustomParentTag(this.parent);if(!isBlank(this.value)&&customParent){arrayishRemove(customParent.refs,this.value,tagOrDom)}}};function mkitem(expr,key,val,base){var item=base?Object.create(base):{};item[expr.key]=key;if(expr.pos){item[expr.pos]=val}return item}function unmountRedundant(items,tags){var i=tags.length;var j=items.length;while(i>j){i--;remove.apply(tags[i],[tags,i])}}function remove(tags,i){tags.splice(i,1);this.unmount();arrayishRemove(this.parent,this,this.__.tagName,true)}function moveNestedTags(i){var this$1=this;each(Object.keys(this.tags),function(tagName){moveChildTag.apply(this$1.tags[tagName],[tagName,i])})}function move(root,nextTag,isVirtual){if(isVirtual){moveVirtual.apply(this,[root,nextTag])}else{safeInsert(root,this.root,nextTag.root)}}function insert(root,nextTag,isVirtual){if(isVirtual){makeVirtual.apply(this,[root,nextTag])}else{safeInsert(root,this.root,nextTag.root)}}function append(root,isVirtual){if(isVirtual){makeVirtual.call(this,root)}else{root.appendChild(this.root)}}function getItemId(keyAttr,originalItem,keyedItem,hasKeyAttrExpr){if(keyAttr){return hasKeyAttrExpr?tmpl(keyAttr,keyedItem):originalItem[keyAttr]}return originalItem}function _each(dom,parent,expr){var mustReorder=typeof getAttr(dom,LOOP_NO_REORDER_DIRECTIVE)!==T_STRING||remAttr(dom,LOOP_NO_REORDER_DIRECTIVE);var keyAttr=getAttr(dom,KEY_DIRECTIVE);var hasKeyAttrExpr=keyAttr?tmpl.hasExpr(keyAttr):false;var tagName=getTagName(dom);var impl=__TAG_IMPL[tagName];var parentNode=dom.parentNode;var placeholder=createDOMPlaceholder();var child=getTag(dom);var ifExpr=getAttr(dom,CONDITIONAL_DIRECTIVE);var tags=[];var isLoop=true;var innerHTML=dom.innerHTML;var isAnonymous=!__TAG_IMPL[tagName];var isVirtual=dom.tagName==="VIRTUAL";var oldItems=[];var hasKeys;remAttr(dom,LOOP_DIRECTIVE);remAttr(dom,KEY_DIRECTIVE);expr=tmpl.loopKeys(expr);expr.isLoop=true;if(ifExpr){remAttr(dom,CONDITIONAL_DIRECTIVE)}parentNode.insertBefore(placeholder,dom);parentNode.removeChild(dom);expr.update=function updateEach(){expr.value=tmpl(expr.val,parent);var items=expr.value;var frag=createFrag();var isObject$$1=!isArray(items)&&!isString(items);var root=placeholder.parentNode;var tmpItems=[];if(!root){return}if(isObject$$1){hasKeys=items||false;items=hasKeys?Object.keys(items).map(function(key){return mkitem(expr,items[key],key)}):[]}else{hasKeys=false}if(ifExpr){items=items.filter(function(item,i){if(expr.key&&!isObject$$1){return!!tmpl(ifExpr,mkitem(expr,item,i,parent))}return!!tmpl(ifExpr,extend(Object.create(parent),item))})}each(items,function(_item,i){var item=!hasKeys&&expr.key?mkitem(expr,_item,i):_item;var itemId=getItemId(keyAttr,_item,item,hasKeyAttrExpr);var doReorder=mustReorder&&typeof _item===T_OBJECT&&!hasKeys;var oldPos=oldItems.indexOf(itemId);var isNew=oldPos===-1;var pos=!isNew&&doReorder?oldPos:i;var tag=tags[pos];var mustAppend=i>=oldItems.length;var mustCreate=doReorder&&isNew||!doReorder&&!tag;if(mustCreate){tag=createTag(impl,{parent:parent,isLoop:isLoop,isAnonymous:isAnonymous,tagName:tagName,root:dom.cloneNode(isAnonymous),item:item,index:i},innerHTML);tag.mount();if(mustAppend){append.apply(tag,[frag||root,isVirtual])}else{insert.apply(tag,[root,tags[i],isVirtual])}if(!mustAppend){oldItems.splice(i,0,item)}tags.splice(i,0,tag);if(child){arrayishAdd(parent.tags,tagName,tag,true)}}else if(pos!==i&&doReorder){if(keyAttr||contains(items,oldItems[pos])){move.apply(tag,[root,tags[i],isVirtual]);tags.splice(i,0,tags.splice(pos,1)[0]);oldItems.splice(i,0,oldItems.splice(pos,1)[0])}if(expr.pos){tag[expr.pos]=i}if(!child&&tag.tags){moveNestedTags.call(tag,i)}}tag.__.item=item;tag.__.index=i;tag.__.parent=parent;tmpItems[i]=itemId;if(!mustCreate){tag.update(item)}});unmountRedundant(items,tags);oldItems=tmpItems.slice();root.insertBefore(frag,placeholder)};expr.unmount=function(){each(tags,function(t){t.unmount()})};return expr}function parseExpressions(root,mustIncludeRoot){var this$1=this;var expressions=[];walkNodes(root,function(dom){var type=dom.nodeType;var attr;var tagImpl;if(!mustIncludeRoot&&dom===root){return}if(type===3&&dom.parentNode.tagName!=="STYLE"&&tmpl.hasExpr(dom.nodeValue)){expressions.push({dom:dom,expr:dom.nodeValue})}if(type!==1){return}var isVirtual=dom.tagName==="VIRTUAL";if(attr=getAttr(dom,LOOP_DIRECTIVE)){if(isVirtual){setAttr(dom,"loopVirtual",true)}expressions.push(_each(dom,this$1,attr));return false}if(attr=getAttr(dom,CONDITIONAL_DIRECTIVE)){expressions.push(Object.create(IfExpr).init(dom,this$1,attr));return false}if(attr=getAttr(dom,IS_DIRECTIVE)){if(tmpl.hasExpr(attr)){expressions.push({isRtag:true,expr:attr,dom:dom,attrs:[].slice.call(dom.attributes)});return false}}tagImpl=getTag(dom);if(isVirtual){if(getAttr(dom,"virtualized")){dom.parentElement.removeChild(dom)}if(!tagImpl&&!getAttr(dom,"virtualized")&&!getAttr(dom,"loopVirtual")){tagImpl={tmpl:dom.outerHTML}}}if(tagImpl&&(dom!==root||mustIncludeRoot)){if(isVirtual&&!getAttr(dom,IS_DIRECTIVE)){setAttr(dom,"virtualized",true);var tag=createTag({tmpl:dom.outerHTML},{root:dom,parent:this$1},dom.innerHTML);expressions.push(tag)}else{expressions.push(initChildTag(tagImpl,{root:dom,parent:this$1},dom.innerHTML,this$1));return false}}parseAttributes.apply(this$1,[dom,dom.attributes,function(attr,expr){if(!expr){return}expressions.push(expr)}])});return expressions}function parseAttributes(dom,attrs,fn){var this$1=this;each(attrs,function(attr){if(!attr){return false}var name=attr.name;var bool=isBoolAttr(name);var expr;if(contains(REF_DIRECTIVES,name)&&dom.tagName.toLowerCase()!==YIELD_TAG){expr=Object.create(RefExpr).init(dom,this$1,name,attr.value)}else if(tmpl.hasExpr(attr.value)){expr={dom:dom,expr:attr.value,attr:name,bool:bool}}fn(attr,expr)})}var reHasYield=/<yield\b/i;var reYieldAll=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi;var reYieldSrc=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi;var reYieldDest=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi;var rootEls={tr:"tbody",th:"tr",td:"tr",col:"colgroup"};var tblTags=IE_VERSION&&IE_VERSION<10?RE_SPECIAL_TAGS:RE_SPECIAL_TAGS_NO_OPTION;var GENERIC="div";var SVG="svg";function specialTags(el,tmpl,tagName){var select=tagName[0]==="o",parent=select?"select>":"table>";el.innerHTML="<"+parent+tmpl.trim()+"</"+parent;parent=el.firstChild;if(select){parent.selectedIndex=-1}else{var tname=rootEls[tagName];if(tname&&parent.childElementCount===1){parent=$(tname,parent)}}return parent}function replaceYield(tmpl,html){if(!reHasYield.test(tmpl)){return tmpl}var src={};html=html&&html.replace(reYieldSrc,function(_,ref,text){src[ref]=src[ref]||text;return""}).trim();return tmpl.replace(reYieldDest,function(_,ref,def){return src[ref]||def||""}).replace(reYieldAll,function(_,def){return html||def||""})}function mkdom(tmpl,html,isSvg$$1){var match=tmpl&&tmpl.match(/^\s*<([-\w]+)/);var tagName=match&&match[1].toLowerCase();var el=mkEl(isSvg$$1?SVG:GENERIC);tmpl=replaceYield(tmpl,html);if(tblTags.test(tagName)){el=specialTags(el,tmpl,tagName)}else{setInnerHTML(el,tmpl,isSvg$$1)}return el}function Tag$1(el,opts){var ref=this;var name=ref.name;var tmpl=ref.tmpl;var css=ref.css;var attrs=ref.attrs;var onCreate=ref.onCreate;if(!__TAG_IMPL[name]){tag$1(name,tmpl,css,attrs,onCreate);__TAG_IMPL[name].class=this.constructor}mountTo(el,name,opts,this);if(css){styleManager.inject()}return this}function tag$1(name,tmpl,css,attrs,fn){if(isFunction(attrs)){fn=attrs;if(/^[\w-]+\s?=/.test(css)){attrs=css;css=""}else{attrs=""}}if(css){if(isFunction(css)){fn=css}else{styleManager.add(css)}}name=name.toLowerCase();__TAG_IMPL[name]={name:name,tmpl:tmpl,attrs:attrs,fn:fn};return name}function tag2$1(name,tmpl,css,attrs,fn){if(css){styleManager.add(css,name)}__TAG_IMPL[name]={name:name,tmpl:tmpl,attrs:attrs,fn:fn};return name}function mount$1(selector,tagName,opts){var tags=[];var elem,allTags;function pushTagsTo(root){if(root.tagName){var riotTag=getAttr(root,IS_DIRECTIVE),tag;if(tagName&&riotTag!==tagName){riotTag=tagName;setAttr(root,IS_DIRECTIVE,tagName)}tag=mountTo(root,riotTag||root.tagName.toLowerCase(),opts);if(tag){tags.push(tag)}}else if(root.length){each(root,pushTagsTo)}}styleManager.inject();if(isObject(tagName)){opts=tagName;tagName=0}if(isString(selector)){selector=selector==="*"?allTags=selectTags():selector+selectTags(selector.split(/, */));elem=selector?$$(selector):[]}else{elem=selector}if(tagName==="*"){tagName=allTags||selectTags();if(elem.tagName){elem=$$(tagName,elem)}else{var nodeList=[];each(elem,function(_el){return nodeList.push($$(tagName,_el))});elem=nodeList}tagName=0}pushTagsTo(elem);return tags}var mixins={};var globals=mixins[GLOBAL_MIXIN]={};var mixins_id=0;function mixin$1(name,mix,g){if(isObject(name)){mixin$1("__"+mixins_id+++"__",name,true);return}var store=g?globals:mixins;if(!mix){if(isUndefined(store[name])){throw new Error("Unregistered mixin: "+name)}return store[name]}store[name]=isFunction(mix)?extend(mix.prototype,store[name]||{})&&mix:extend(store[name]||{},mix)}function update$1(){return each(__TAGS_CACHE,function(tag){return tag.update()})}function unregister$1(name){__TAG_IMPL[name]=null}var version$1="v3.7.4";var core=Object.freeze({Tag:Tag$1,tag:tag$1,tag2:tag2$1,mount:mount$1,mixin:mixin$1,update:update$1,unregister:unregister$1,version:version$1});function updateOpts(isLoop,parent,isAnonymous,opts,instAttrs){if(isLoop&&isAnonymous){return}var ctx=isLoop?inheritParentProps.call(this):parent||this;each(instAttrs,function(attr){if(attr.expr){updateExpression.call(ctx,attr.expr)}opts[toCamel(attr.name).replace(ATTRS_PREFIX,"")]=attr.expr?attr.expr.value:attr.value})}function setMountState(value){var ref=this.__;var isAnonymous=ref.isAnonymous;defineProperty(this,"isMounted",value);if(!isAnonymous){if(value){this.trigger("mount")}else{this.trigger("unmount");this.off("*");this.__.wasCreated=false}}}function createTag(impl,conf,innerHTML){if(impl===void 0){impl={}}if(conf===void 0){conf={}}var tag=conf.context||{};var opts=extend({},conf.opts);var parent=conf.parent;var isLoop=conf.isLoop;var isAnonymous=!!conf.isAnonymous;var skipAnonymous=settings$1.skipAnonymousTags&&isAnonymous;var item=conf.item;var index=conf.index;var instAttrs=[];var implAttrs=[];var expressions=[];var root=conf.root;var tagName=conf.tagName||getTagName(root);var isVirtual=tagName==="virtual";var isInline=!isVirtual&&!impl.tmpl;var dom;if(!skipAnonymous){observable$1(tag)}if(impl.name&&root._tag){root._tag.unmount(true)}defineProperty(tag,"isMounted",false);defineProperty(tag,"__",{isAnonymous:isAnonymous,instAttrs:instAttrs,innerHTML:innerHTML,tagName:tagName,index:index,isLoop:isLoop,isInline:isInline,listeners:[],virts:[],wasCreated:false,tail:null,head:null,parent:null,item:null});defineProperty(tag,"_riot_id",uid());defineProperty(tag,"root",root);extend(tag,{opts:opts},item);defineProperty(tag,"parent",parent||null);defineProperty(tag,"tags",{});defineProperty(tag,"refs",{});if(isInline||isLoop&&isAnonymous){dom=root}else{if(!isVirtual){root.innerHTML=""}dom=mkdom(impl.tmpl,innerHTML,isSvg(root))}defineProperty(tag,"update",function tagUpdate(data){var nextOpts={};var canTrigger=tag.isMounted&&!skipAnonymous;if(isAnonymous&&parent){extend(tag,parent)}extend(tag,data);updateOpts.apply(tag,[isLoop,parent,isAnonymous,nextOpts,instAttrs]);if(canTrigger&&tag.isMounted&&isFunction(tag.shouldUpdate)&&!tag.shouldUpdate(data,nextOpts)){return tag}extend(opts,nextOpts);if(canTrigger){tag.trigger("update",data)}updateAllExpressions.call(tag,expressions);if(canTrigger){tag.trigger("updated")}return tag});defineProperty(tag,"mixin",function tagMixin(){each(arguments,function(mix){var instance;var obj;var props=[];var propsBlacklist=["init","__proto__"];mix=isString(mix)?mixin$1(mix):mix;if(isFunction(mix)){instance=new mix}else{instance=mix}var proto=Object.getPrototypeOf(instance);do{props=props.concat(Object.getOwnPropertyNames(obj||instance))}while(obj=Object.getPrototypeOf(obj||instance));each(props,function(key){if(!contains(propsBlacklist,key)){var descriptor=getPropDescriptor(instance,key)||getPropDescriptor(proto,key);var hasGetterSetter=descriptor&&(descriptor.get||descriptor.set);if(!tag.hasOwnProperty(key)&&hasGetterSetter){Object.defineProperty(tag,key,descriptor)}else{tag[key]=isFunction(instance[key])?instance[key].bind(tag):instance[key]}}});if(instance.init){instance.init.bind(tag)(opts)}});return tag});defineProperty(tag,"mount",function tagMount(){root._tag=tag;parseAttributes.apply(parent,[root,root.attributes,function(attr,expr){if(!isAnonymous&&RefExpr.isPrototypeOf(expr)){expr.tag=tag}attr.expr=expr;instAttrs.push(attr)}]);walkAttrs(impl.attrs,function(k,v){implAttrs.push({name:k,value:v})});parseAttributes.apply(tag,[root,implAttrs,function(attr,expr){if(expr){expressions.push(expr)}else{setAttr(root,attr.name,attr.value)}}]);updateOpts.apply(tag,[isLoop,parent,isAnonymous,opts,instAttrs]);var globalMixin=mixin$1(GLOBAL_MIXIN);if(globalMixin&&!skipAnonymous){for(var i in globalMixin){if(globalMixin.hasOwnProperty(i)){tag.mixin(globalMixin[i])}}}if(impl.fn){impl.fn.call(tag,opts)}if(!skipAnonymous){tag.trigger("before-mount")}each(parseExpressions.apply(tag,[dom,isAnonymous]),function(e){return expressions.push(e)});tag.update(item);if(!isAnonymous&&!isInline){while(dom.firstChild){root.appendChild(dom.firstChild)}}defineProperty(tag,"root",root);if(!skipAnonymous&&tag.parent){var p=getImmediateCustomParentTag(tag.parent);p.one(!p.isMounted?"mount":"updated",function(){setMountState.call(tag,true)})}else{setMountState.call(tag,true)}tag.__.wasCreated=true;return tag});defineProperty(tag,"unmount",function tagUnmount(mustKeepRoot){var el=tag.root;var p=el.parentNode;var tagIndex=__TAGS_CACHE.indexOf(tag);if(!skipAnonymous){tag.trigger("before-unmount")}walkAttrs(impl.attrs,function(name){if(startsWith(name,ATTRS_PREFIX)){name=name.slice(ATTRS_PREFIX.length)}remAttr(root,name)});tag.__.listeners.forEach(function(dom){Object.keys(dom[RIOT_EVENTS_KEY]).forEach(function(eventName){dom.removeEventListener(eventName,dom[RIOT_EVENTS_KEY][eventName])})});if(tagIndex!==-1){__TAGS_CACHE.splice(tagIndex,1)}if(parent&&!isAnonymous){var ptag=getImmediateCustomParentTag(parent);if(isVirtual){Object.keys(tag.tags).forEach(function(tagName){return arrayishRemove(ptag.tags,tagName,tag.tags[tagName])})}else{arrayishRemove(ptag.tags,tagName,tag)}}if(tag.__.virts){each(tag.__.virts,function(v){if(v.parentNode){v.parentNode.removeChild(v)}})}unmountAll(expressions);each(instAttrs,function(a){return a.expr&&a.expr.unmount&&a.expr.unmount()});if(mustKeepRoot){setInnerHTML(el,"")}else if(p){p.removeChild(el)}if(tag.__.onUnmount){tag.__.onUnmount()}if(!tag.isMounted){setMountState.call(tag,true)}setMountState.call(tag,false);delete tag.root._tag;return tag});return tag}function getTag(dom){return dom.tagName&&__TAG_IMPL[getAttr(dom,IS_DIRECTIVE)||getAttr(dom,IS_DIRECTIVE)||dom.tagName.toLowerCase()]}function moveChildTag(tagName,newPos){var parent=this.parent;var tags;if(!parent){return}tags=parent.tags[tagName];if(isArray(tags)){tags.splice(newPos,0,tags.splice(tags.indexOf(this),1)[0])}else{arrayishAdd(parent.tags,tagName,this)}}function initChildTag(child,opts,innerHTML,parent){var tag=createTag(child,opts,innerHTML);var tagName=opts.tagName||getTagName(opts.root,true);var ptag=getImmediateCustomParentTag(parent);defineProperty(tag,"parent",ptag);tag.__.parent=parent;arrayishAdd(ptag.tags,tagName,tag);if(ptag!==parent){arrayishAdd(parent.tags,tagName,tag)}return tag}function getImmediateCustomParentTag(tag){var ptag=tag;while(ptag.__.isAnonymous){if(!ptag.parent){break}ptag=ptag.parent}return ptag}function unmountAll(expressions){each(expressions,function(expr){if(expr.unmount){expr.unmount(true)}else if(expr.tagName){expr.tag.unmount(true)}else if(expr.unmount){expr.unmount()}})}function getTagName(dom,skipDataIs){var child=getTag(dom);var namedTag=!skipDataIs&&getAttr(dom,IS_DIRECTIVE);return namedTag&&!tmpl.hasExpr(namedTag)?namedTag:child?child.name:dom.tagName.toLowerCase()}function arrayishAdd(obj,key,value,ensureArray,index){var dest=obj[key];var isArr=isArray(dest);var hasIndex=!isUndefined(index);if(dest&&dest===value){return}if(!dest&&ensureArray){obj[key]=[value]}else if(!dest){obj[key]=value}else{if(isArr){var oldIndex=dest.indexOf(value);if(oldIndex===index){return}if(oldIndex!==-1){dest.splice(oldIndex,1)}if(hasIndex){dest.splice(index,0,value)}else{dest.push(value)}}else{obj[key]=[dest,value]}}}function arrayishRemove(obj,key,value,ensureArray){if(isArray(obj[key])){var index=obj[key].indexOf(value);if(index!==-1){obj[key].splice(index,1)}if(!obj[key].length){delete obj[key]}else if(obj[key].length===1&&!ensureArray){obj[key]=obj[key][0]}}else if(obj[key]===value){delete obj[key]}}function mountTo(root,tagName,opts,ctx){var impl=__TAG_IMPL[tagName];var implClass=__TAG_IMPL[tagName].class;var context=ctx||(implClass?Object.create(implClass.prototype):{});var innerHTML=root._innerHTML=root._innerHTML||root.innerHTML;var conf=extend({root:root,opts:opts,context:context},{parent:opts?opts.parent:null});var tag;if(impl&&root){tag=createTag(impl,conf,innerHTML)}if(tag&&tag.mount){tag.mount(true);if(!contains(__TAGS_CACHE,tag)){__TAGS_CACHE.push(tag)}}return tag}function makeReplaceVirtual(tag,ref){var frag=createFrag();makeVirtual.call(tag,frag);ref.parentNode.replaceChild(frag,ref)}function makeVirtual(src,target){var this$1=this;var head=createDOMPlaceholder();var tail=createDOMPlaceholder();var frag=createFrag();var sib;var el;this.root.insertBefore(head,this.root.firstChild);this.root.appendChild(tail);this.__.head=el=head;this.__.tail=tail;while(el){sib=el.nextSibling;frag.appendChild(el);this$1.__.virts.push(el);el=sib}if(target){src.insertBefore(frag,target.__.head)}else{src.appendChild(frag)}}function inheritParentProps(){if(this.parent){return extend(Object.create(this),this.parent)}return this}function moveVirtual(src,target){var this$1=this;var el=this.__.head;var sib;var frag=createFrag();while(el){sib=el.nextSibling;frag.appendChild(el);el=sib;if(el===this$1.__.tail){frag.appendChild(el);src.insertBefore(frag,target.__.head);break}}}function selectTags(tags){if(!tags){var keys=Object.keys(__TAG_IMPL);return keys+selectTags(keys)}return tags.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(list,t){var name=t.trim().toLowerCase();return list+",["+IS_DIRECTIVE+'="'+name+'"]'},"")}var tags=Object.freeze({getTag:getTag,moveChildTag:moveChildTag,initChildTag:initChildTag,getImmediateCustomParentTag:getImmediateCustomParentTag,unmountAll:unmountAll,getTagName:getTagName,arrayishAdd:arrayishAdd,arrayishRemove:arrayishRemove,mountTo:mountTo,makeReplaceVirtual:makeReplaceVirtual,makeVirtual:makeVirtual,inheritParentProps:inheritParentProps,moveVirtual:moveVirtual,selectTags:selectTags});var settings=settings$1;var util={tmpl:tmpl,brackets:brackets,styleManager:styleManager,vdom:__TAGS_CACHE,styleNode:styleManager.styleNode,dom:dom,check:check,misc:misc,tags:tags};var Tag=Tag$1;var tag=tag$1;var tag2=tag2$1;var mount=mount$1;var mixin=mixin$1;var update=update$1;var unregister=unregister$1;var version=version$1;var observable=observable$1;var riot$1=extend({},core,{observable:observable$1,settings:settings,util:util});exports.settings=settings;exports.util=util;exports.Tag=Tag;exports.tag=tag;exports.tag2=tag2;exports.mount=mount;exports.mixin=mixin;exports.update=update;exports.unregister=unregister;exports.version=version;exports.observable=observable;exports["default"]=riot$1;Object.defineProperty(exports,"__esModule",{value:true})})});var riot$1=unwrapExports(riot_1);var _extends$1=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _classCallCheck$1(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var consoleLogger={type:"logger",log:function log(args){this.output("log",args)},warn:function warn(args){this.output("warn",args)},error:function error(args){this.output("error",args)},output:function output(type,args){var _console;if(console&&console[type]){(_console=console)[type].apply(_console,_toConsumableArray(args))}}};var Logger=function(){function Logger(concreteLogger){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck$1(this,Logger);this.init(concreteLogger,options)}Logger.prototype.init=function init(concreteLogger){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.prefix=options.prefix||"i18next:";this.logger=concreteLogger||consoleLogger;this.options=options;this.debug=options.debug};Logger.prototype.setDebug=function setDebug(bool){this.debug=bool};Logger.prototype.log=function log(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return this.forward(args,"log","",true)};Logger.prototype.warn=function warn(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}return this.forward(args,"warn","",true)};Logger.prototype.error=function error(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}return this.forward(args,"error","")};Logger.prototype.deprecate=function deprecate(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4]}return this.forward(args,"warn","WARNING DEPRECATED: ",true)};Logger.prototype.forward=function forward(args,lvl,prefix,debugOnly){if(debugOnly&&!this.debug){return null}if(typeof args[0]==="string"){args[0]=""+prefix+this.prefix+" "+args[0]}return this.logger[lvl](args)};Logger.prototype.create=function create(moduleName){return new Logger(this.logger,_extends$1({prefix:this.prefix+":"+moduleName+":"},this.options))};return Logger}();var baseLogger=new Logger;function _classCallCheck$2(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var EventEmitter=function(){function EventEmitter(){_classCallCheck$2(this,EventEmitter);this.observers={}}EventEmitter.prototype.on=function on(events,listener){var _this=this;events.split(" ").forEach(function(event){_this.observers[event]=_this.observers[event]||[];_this.observers[event].push(listener)})};EventEmitter.prototype.off=function off(event,listener){var _this2=this;if(!this.observers[event]){return}this.observers[event].forEach(function(){if(!listener){delete _this2.observers[event]}else{var index=_this2.observers[event].indexOf(listener);if(index>-1){_this2.observers[event].splice(index,1)}}})};EventEmitter.prototype.emit=function emit(event){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}if(this.observers[event]){var cloned=[].concat(this.observers[event]);cloned.forEach(function(observer){observer.apply(undefined,args)})}if(this.observers["*"]){var _cloned=[].concat(this.observers["*"]);_cloned.forEach(function(observer){var _ref;observer.apply(observer,(_ref=[event]).concat.apply(_ref,args))})}};return EventEmitter}();function makeString(object){if(object==null){return""}return""+object}function copy(a,s,t){a.forEach(function(m){if(s[m]){t[m]=s[m]}})}function getLastOfPath(object,path,Empty){function cleanKey(key){return key&&key.indexOf("###")>-1?key.replace(/###/g,"."):key}function canNotTraverseDeeper(){return!object||typeof object==="string"}var stack=typeof path!=="string"?[].concat(path):path.split(".");while(stack.length>1){if(canNotTraverseDeeper()){return{}}var key=cleanKey(stack.shift());if(!object[key]&&Empty){object[key]=new Empty}object=object[key]}if(canNotTraverseDeeper()){return{}}return{obj:object,k:cleanKey(stack.shift())}}function setPath(object,path,newValue){var _getLastOfPath=getLastOfPath(object,path,Object),obj=_getLastOfPath.obj,k=_getLastOfPath.k;obj[k]=newValue}function pushPath(object,path,newValue,concat){var _getLastOfPath2=getLastOfPath(object,path,Object),obj=_getLastOfPath2.obj,k=_getLastOfPath2.k;obj[k]=obj[k]||[];if(concat){obj[k]=obj[k].concat(newValue)}if(!concat){obj[k].push(newValue)}}function getPath(object,path){var _getLastOfPath3=getLastOfPath(object,path),obj=_getLastOfPath3.obj,k=_getLastOfPath3.k;if(!obj){return undefined}return obj[k]}function deepExtend(target,source,overwrite){for(var prop in source){if(prop in target){if(typeof target[prop]==="string"||target[prop]instanceof String||typeof source[prop]==="string"||source[prop]instanceof String){if(overwrite){target[prop]=source[prop]}}else{deepExtend(target[prop],source[prop],overwrite)}}else{target[prop]=source[prop]}}return target}function regexEscape(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape(data){if(typeof data==="string"){return data.replace(/[&<>"'\/]/g,function(s){return _entityMap[s]})}return data}var _extends$2=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _defaults$1(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck$3(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn$1(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits$1(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass){Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults$1(subClass,superClass)}}var ResourceStore=function(_EventEmitter){_inherits$1(ResourceStore,_EventEmitter);function ResourceStore(data){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{ns:["translation"],defaultNS:"translation"};_classCallCheck$3(this,ResourceStore);var _this=_possibleConstructorReturn$1(this,_EventEmitter.call(this));_this.data=data||{};_this.options=options;return _this}ResourceStore.prototype.addNamespaces=function addNamespaces(ns){if(this.options.ns.indexOf(ns)<0){this.options.ns.push(ns)}};ResourceStore.prototype.removeNamespaces=function removeNamespaces(ns){var index=this.options.ns.indexOf(ns);if(index>-1){this.options.ns.splice(index,1)}};ResourceStore.prototype.getResource=function getResource(lng,ns,key){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var keySeparator=options.keySeparator||this.options.keySeparator;if(keySeparator===undefined){keySeparator="."}var path=[lng,ns];if(key&&typeof key!=="string"){path=path.concat(key)}if(key&&typeof key==="string"){path=path.concat(keySeparator?key.split(keySeparator):key)}if(lng.indexOf(".")>-1){path=lng.split(".")}return getPath(this.data,path)};ResourceStore.prototype.addResource=function addResource(lng,ns,key,value){var options=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{silent:false};var keySeparator=this.options.keySeparator;if(keySeparator===undefined){keySeparator="."}var path=[lng,ns];if(key){path=path.concat(keySeparator?key.split(keySeparator):key)}if(lng.indexOf(".")>-1){path=lng.split(".");value=ns;ns=path[1]}this.addNamespaces(ns);setPath(this.data,path,value);if(!options.silent){this.emit("added",lng,ns,key,value)}};ResourceStore.prototype.addResources=function addResources(lng,ns,resources){for(var m in resources){if(typeof resources[m]==="string"){this.addResource(lng,ns,m,resources[m],{silent:true})}}this.emit("added",lng,ns,resources)};ResourceStore.prototype.addResourceBundle=function addResourceBundle(lng,ns,resources,deep,overwrite){var path=[lng,ns];if(lng.indexOf(".")>-1){path=lng.split(".");deep=resources;resources=ns;ns=path[1]}this.addNamespaces(ns);var pack=getPath(this.data,path)||{};if(deep){deepExtend(pack,resources,overwrite)}else{pack=_extends$2({},pack,resources)}setPath(this.data,path,pack);this.emit("added",lng,ns,resources)};ResourceStore.prototype.removeResourceBundle=function removeResourceBundle(lng,ns){if(this.hasResourceBundle(lng,ns)){delete this.data[lng][ns]}this.removeNamespaces(ns);this.emit("removed",lng,ns)};ResourceStore.prototype.hasResourceBundle=function hasResourceBundle(lng,ns){return this.getResource(lng,ns)!==undefined};ResourceStore.prototype.getResourceBundle=function getResourceBundle(lng,ns){if(!ns){ns=this.options.defaultNS}if(this.options.compatibilityAPI==="v1"){return _extends$2({},this.getResource(lng,ns))}return this.getResource(lng,ns)};ResourceStore.prototype.toJSON=function toJSON(){return this.data};return ResourceStore}(EventEmitter);var postProcessor={processors:{},addPostProcessor:function addPostProcessor(module){this.processors[module.name]=module},handle:function handle(processors,value,key,options,translator){var _this=this;processors.forEach(function(processor){if(_this.processors[processor]){value=_this.processors[processor].process(value,key,options,translator)}});return value}};var _extends$3=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _typeof$1=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function _defaults$2(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck$4(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn$2(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits$2(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass){Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults$2(subClass,superClass)}}var Translator=function(_EventEmitter){_inherits$2(Translator,_EventEmitter);function Translator(services){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck$4(this,Translator);var _this=_possibleConstructorReturn$2(this,_EventEmitter.call(this));copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],services,_this);_this.options=options;_this.logger=baseLogger.create("translator");return _this}Translator.prototype.changeLanguage=function changeLanguage(lng){if(lng){this.language=lng}};Translator.prototype.exists=function exists(key){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{interpolation:{}};var resolved=this.resolve(key,options);return resolved&&resolved.res!==undefined};Translator.prototype.extractFromKey=function extractFromKey(key,options){var nsSeparator=options.nsSeparator||this.options.nsSeparator;if(nsSeparator===undefined){nsSeparator=":"}var keySeparator=options.keySeparator||this.options.keySeparator||".";var namespaces=options.ns||this.options.defaultNS;if(nsSeparator&&key.indexOf(nsSeparator)>-1){var parts=key.split(nsSeparator);if(nsSeparator!==keySeparator||nsSeparator===keySeparator&&this.options.ns.indexOf(parts[0])>-1){namespaces=parts.shift()}key=parts.join(keySeparator)}if(typeof namespaces==="string"){namespaces=[namespaces]}return{key:key,namespaces:namespaces}};Translator.prototype.translate=function translate(keys){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if((typeof options==="undefined"?"undefined":_typeof$1(options))!=="object"){options=this.options.overloadTranslationOptionHandler(arguments)}if(keys===undefined||keys===null||keys===""){return""}if(typeof keys==="number"){keys=String(keys)}if(typeof keys==="string"){keys=[keys]}var keySeparator=options.keySeparator||this.options.keySeparator||".";var _extractFromKey=this.extractFromKey(keys[keys.length-1],options),key=_extractFromKey.key,namespaces=_extractFromKey.namespaces;var namespace=namespaces[namespaces.length-1];var lng=options.lng||this.language;var appendNamespaceToCIMode=options.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(lng&&lng.toLowerCase()==="cimode"){if(appendNamespaceToCIMode){var nsSeparator=options.nsSeparator||this.options.nsSeparator;return namespace+nsSeparator+key}return key}var resolved=this.resolve(keys,options);var res=resolved&&resolved.res;var usedKey=resolved&&resolved.usedKey||key;var resType=Object.prototype.toString.apply(res);var noObject=["[object Number]","[object Function]","[object RegExp]"];var joinArrays=options.joinArrays!==undefined?options.joinArrays:this.options.joinArrays;if(res&&typeof res!=="string"&&noObject.indexOf(resType)<0&&!(joinArrays&&resType==="[object Array]")){if(!options.returnObjects&&!this.options.returnObjects){this.logger.warn("accessing an object - but returnObjects options is not enabled!");return this.options.returnedObjectHandler?this.options.returnedObjectHandler(usedKey,res,options):"key '"+key+" ("+this.language+")' returned an object instead of string."}if(options.keySeparator||this.options.keySeparator){var copy$$1=resType==="[object Array]"?[]:{};for(var m in res){if(Object.prototype.hasOwnProperty.call(res,m)){copy$$1[m]=this.translate(""+usedKey+keySeparator+m,_extends$3({},options,{joinArrays:false,ns:namespaces}))}}res=copy$$1}}else if(joinArrays&&resType==="[object Array]"){res=res.join(joinArrays);if(res){res=this.extendTranslation(res,keys,options)}}else{var usedDefault=false;var _usedKey=false;if(!this.isValidLookup(res)&&options.defaultValue!==undefined){usedDefault=true;res=options.defaultValue}if(!this.isValidLookup(res)){_usedKey=true;res=key}if(_usedKey||usedDefault){this.logger.log("missingKey",lng,namespace,key,res);var lngs=[];var fallbackLngs=this.languageUtils.getFallbackCodes(this.options.fallbackLng,options.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fallbackLngs&&fallbackLngs[0]){for(var i=0;i<fallbackLngs.length;i++){lngs.push(fallbackLngs[i])}}else if(this.options.saveMissingTo==="all"){lngs=this.languageUtils.toResolveHierarchy(options.lng||this.language)}else{lngs.push(options.lng||this.language)}if(this.options.saveMissing){if(this.options.missingKeyHandler){this.options.missingKeyHandler(lngs,namespace,key,res)}else if(this.backendConnector&&this.backendConnector.saveMissing){this.backendConnector.saveMissing(lngs,namespace,key,res)}}this.emit("missingKey",lngs,namespace,key,res)}res=this.extendTranslation(res,keys,options);if(_usedKey&&res===key&&this.options.appendNamespaceToMissingKey){res=namespace+":"+key}if(_usedKey&&this.options.parseMissingKeyHandler){res=this.options.parseMissingKeyHandler(res)}}return res};Translator.prototype.extendTranslation=function extendTranslation(res,key,options){var _this2=this;if(options.interpolation){this.interpolator.init(_extends$3({},options,{interpolation:_extends$3({},this.options.interpolation,options.interpolation)}))}var data=options.replace&&typeof options.replace!=="string"?options.replace:options;if(this.options.interpolation.defaultVariables){data=_extends$3({},this.options.interpolation.defaultVariables,data)}res=this.interpolator.interpolate(res,data,options.lng||this.language);if(options.nest!==false){res=this.interpolator.nest(res,function(){return _this2.translate.apply(_this2,arguments)},options)}if(options.interpolation){this.interpolator.reset()}var postProcess=options.postProcess||this.options.postProcess;var postProcessorNames=typeof postProcess==="string"?[postProcess]:postProcess;if(res!==undefined&&postProcessorNames&&postProcessorNames.length&&options.applyPostProcessor!==false){res=postProcessor.handle(postProcessorNames,res,key,options,this)}return res};Translator.prototype.resolve=function resolve(keys){var _this3=this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var found=void 0;var usedKey=void 0;if(typeof keys==="string"){keys=[keys]}keys.forEach(function(k){if(_this3.isValidLookup(found)){return}var extracted=_this3.extractFromKey(k,options);var key=extracted.key;usedKey=key;var namespaces=extracted.namespaces;if(_this3.options.fallbackNS){namespaces=namespaces.concat(_this3.options.fallbackNS)}var needsPluralHandling=options.count!==undefined&&typeof options.count!=="string";var needsContextHandling=options.context!==undefined&&typeof options.context==="string"&&options.context!=="";var codes=options.lngs?options.lngs:_this3.languageUtils.toResolveHierarchy(options.lng||_this3.language);namespaces.forEach(function(ns){if(_this3.isValidLookup(found)){return}codes.forEach(function(code){if(_this3.isValidLookup(found)){return}var finalKey=key;var finalKeys=[finalKey];var pluralSuffix=void 0;if(needsPluralHandling){pluralSuffix=_this3.pluralResolver.getSuffix(code,options.count)}if(needsPluralHandling&&needsContextHandling){finalKeys.push(finalKey+pluralSuffix)}if(needsContextHandling){finalKeys.push(finalKey+=""+_this3.options.contextSeparator+options.context)}if(needsPluralHandling){finalKeys.push(finalKey+=pluralSuffix)}var possibleKey=void 0;while(possibleKey=finalKeys.pop()){if(!_this3.isValidLookup(found)){found=_this3.getResource(code,ns,possibleKey,options)}}})})});return{res:found,usedKey:usedKey}};Translator.prototype.isValidLookup=function isValidLookup(res){return res!==undefined&&!(!this.options.returnNull&&res===null)&&!(!this.options.returnEmptyString&&res==="")};Translator.prototype.getResource=function getResource(code,ns,key){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return this.resourceStore.getResource(code,ns,key,options)};return Translator}(EventEmitter);function _classCallCheck$5(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function capitalize(string){return string.charAt(0).toUpperCase()+string.slice(1)}var LanguageUtil=function(){function LanguageUtil(options){_classCallCheck$5(this,LanguageUtil);this.options=options;this.whitelist=this.options.whitelist||false;this.logger=baseLogger.create("languageUtils")}LanguageUtil.prototype.getScriptPartFromCode=function getScriptPartFromCode(code){if(!code||code.indexOf("-")<0){return null}var p=code.split("-");if(p.length===2){return null}p.pop();return this.formatLanguageCode(p.join("-"))};LanguageUtil.prototype.getLanguagePartFromCode=function getLanguagePartFromCode(code){if(!code||code.indexOf("-")<0){return code}var p=code.split("-");return this.formatLanguageCode(p[0])};LanguageUtil.prototype.formatLanguageCode=function formatLanguageCode(code){if(typeof code==="string"&&code.indexOf("-")>-1){var specialCases=["hans","hant","latn","cyrl","cans","mong","arab"];var p=code.split("-");if(this.options.lowerCaseLng){p=p.map(function(part){return part.toLowerCase()})}else if(p.length===2){p[0]=p[0].toLowerCase();p[1]=p[1].toUpperCase();if(specialCases.indexOf(p[1].toLowerCase())>-1){p[1]=capitalize(p[1].toLowerCase())}}else if(p.length===3){p[0]=p[0].toLowerCase();if(p[1].length===2){p[1]=p[1].toUpperCase()}if(p[0]!=="sgn"&&p[2].length===2){p[2]=p[2].toUpperCase()}if(specialCases.indexOf(p[1].toLowerCase())>-1){p[1]=capitalize(p[1].toLowerCase())}if(specialCases.indexOf(p[2].toLowerCase())>-1){p[2]=capitalize(p[2].toLowerCase())}}return p.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?code.toLowerCase():code};LanguageUtil.prototype.isWhitelisted=function isWhitelisted(code){if(this.options.load==="languageOnly"||this.options.nonExplicitWhitelist){code=this.getLanguagePartFromCode(code)}return!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(code)>-1};LanguageUtil.prototype.getFallbackCodes=function getFallbackCodes(fallbacks,code){if(!fallbacks){return[]}if(typeof fallbacks==="string"){fallbacks=[fallbacks]}if(Object.prototype.toString.apply(fallbacks)==="[object Array]"){return fallbacks}if(!code){return fallbacks.default||[]}var found=fallbacks[code];if(!found){found=fallbacks[this.getScriptPartFromCode(code)]}if(!found){found=fallbacks[this.formatLanguageCode(code)]}if(!found){found=fallbacks.default}return found||[]};LanguageUtil.prototype.toResolveHierarchy=function toResolveHierarchy(code,fallbackCode){var _this=this;var fallbackCodes=this.getFallbackCodes(fallbackCode||this.options.fallbackLng||[],code);var codes=[];var addCode=function addCode(c){if(!c){return}if(_this.isWhitelisted(c)){codes.push(c)}else{_this.logger.warn("rejecting non-whitelisted language code: "+c)}};if(typeof code==="string"&&code.indexOf("-")>-1){if(this.options.load!=="languageOnly"){addCode(this.formatLanguageCode(code))}if(this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"){addCode(this.getScriptPartFromCode(code))}if(this.options.load!=="currentOnly"){addCode(this.getLanguagePartFromCode(code))}}else if(typeof code==="string"){addCode(this.formatLanguageCode(code))}fallbackCodes.forEach(function(fc){if(codes.indexOf(fc)<0){addCode(_this.formatLanguageCode(fc))}});return codes};return LanguageUtil}();function _classCallCheck$6(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}];var _rulesPluralsTypes={1:function _(n){return Number(n>1)},2:function _(n){return Number(n!=1)},3:function _(n){return 0},4:function _(n){return Number(n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2)},5:function _(n){return Number(n===0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5)},6:function _(n){return Number(n==1?0:n>=2&&n<=4?1:2)},7:function _(n){return Number(n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2)},8:function _(n){return Number(n==1?0:n==2?1:n!=8&&n!=11?2:3)},9:function _(n){return Number(n>=2)},10:function _(n){return Number(n==1?0:n==2?1:n<7?2:n<11?3:4)},11:function _(n){return Number(n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3)},12:function _(n){return Number(n%10!=1||n%100==11)},13:function _(n){return Number(n!==0)},14:function _(n){return Number(n==1?0:n==2?1:n==3?2:3)},15:function _(n){return Number(n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2)},16:function _(n){return Number(n%10==1&&n%100!=11?0:n!==0?1:2)},17:function _(n){return Number(n==1||n%10==1?0:1)},18:function _(n){return Number(n==0?0:n==1?1:2)},19:function _(n){return Number(n==1?0:n===0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3)},20:function _(n){return Number(n==1?0:n===0||n%100>0&&n%100<20?1:2)},21:function _(n){return Number(n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0)}};function createRules(){var rules={};sets.forEach(function(set){set.lngs.forEach(function(l){rules[l]={numbers:set.nr,plurals:_rulesPluralsTypes[set.fc]}})});return rules}var PluralResolver=function(){function PluralResolver(languageUtils){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck$6(this,PluralResolver);this.languageUtils=languageUtils;this.options=options;this.logger=baseLogger.create("pluralResolver");this.rules=createRules()}PluralResolver.prototype.addRule=function addRule(lng,obj){this.rules[lng]=obj};PluralResolver.prototype.getRule=function getRule(code){return this.rules[code]||this.rules[this.languageUtils.getLanguagePartFromCode(code)]};PluralResolver.prototype.needsPlural=function needsPlural(code){var rule=this.getRule(code);return rule&&rule.numbers.length>1};PluralResolver.prototype.getSuffix=function getSuffix(code,count){var _this=this;var rule=this.getRule(code);if(rule){var idx=rule.noAbs?rule.plurals(count):rule.plurals(Math.abs(count));var suffix=rule.numbers[idx];if(this.options.simplifyPluralSuffix&&rule.numbers.length===2&&rule.numbers[0]===1){if(suffix===2){suffix="plural"}else if(suffix===1){suffix=""}}var returnSuffix=function returnSuffix(){return _this.options.prepend&&suffix.toString()?_this.options.prepend+suffix.toString():suffix.toString()};if(this.options.compatibilityJSON==="v1"){if(suffix===1){return""}if(typeof suffix==="number"){return"_plural_"+suffix.toString()}return returnSuffix()}else if(this.options.compatibilityJSON==="v2"||rule.numbers.length===2&&rule.numbers[0]===1){return returnSuffix()}else if(rule.numbers.length===2&&rule.numbers[0]===1){return returnSuffix()}return this.options.prepend&&idx.toString()?this.options.prepend+idx.toString():idx.toString()}this.logger.warn("no plural rule found for: "+code);return""};return PluralResolver}();var _extends$4=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _classCallCheck$7(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Interpolator=function(){function Interpolator(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck$7(this,Interpolator);this.logger=baseLogger.create("interpolator");this.init(options,true)}Interpolator.prototype.init=function init(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var reset=arguments[1];if(reset){this.options=options;this.format=options.interpolation&&options.interpolation.format||function(value){return value};this.escape=options.interpolation&&options.interpolation.escape||escape}if(!options.interpolation){options.interpolation={escapeValue:true}}var iOpts=options.interpolation;this.escapeValue=iOpts.escapeValue!==undefined?iOpts.escapeValue:true;this.prefix=iOpts.prefix?regexEscape(iOpts.prefix):iOpts.prefixEscaped||"{{";this.suffix=iOpts.suffix?regexEscape(iOpts.suffix):iOpts.suffixEscaped||"}}";this.formatSeparator=iOpts.formatSeparator?iOpts.formatSeparator:iOpts.formatSeparator||",";this.unescapePrefix=iOpts.unescapeSuffix?"":iOpts.unescapePrefix||"-";this.unescapeSuffix=this.unescapePrefix?"":iOpts.unescapeSuffix||"";this.nestingPrefix=iOpts.nestingPrefix?regexEscape(iOpts.nestingPrefix):iOpts.nestingPrefixEscaped||regexEscape("$t(");this.nestingSuffix=iOpts.nestingSuffix?regexEscape(iOpts.nestingSuffix):iOpts.nestingSuffixEscaped||regexEscape(")");this.maxReplaces=iOpts.maxReplaces?iOpts.maxReplaces:1e3;this.resetRegExp()};Interpolator.prototype.reset=function reset(){if(this.options){this.init(this.options)}};Interpolator.prototype.resetRegExp=function resetRegExp(){var regexpStr=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(regexpStr,"g");var regexpUnescapeStr=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(regexpUnescapeStr,"g");var nestingRegexpStr=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(nestingRegexpStr,"g")};Interpolator.prototype.interpolate=function interpolate(str,data,lng){var _this=this;var match=void 0;var value=void 0;var replaces=void 0;function regexSafe(val){return val.replace(/\$/g,"$$$$")}var handleFormat=function handleFormat(key){if(key.indexOf(_this.formatSeparator)<0){return getPath(data,key)}var p=key.split(_this.formatSeparator);var k=p.shift().trim();var f=p.join(_this.formatSeparator).trim();return _this.format(getPath(data,k),f,lng)};this.resetRegExp();replaces=0;while(match=this.regexpUnescape.exec(str)){value=handleFormat(match[1].trim());str=str.replace(match[0],value);this.regexpUnescape.lastIndex=0;replaces++;if(replaces>=this.maxReplaces){break}}replaces=0;while(match=this.regexp.exec(str)){value=handleFormat(match[1].trim());if(typeof value!=="string"){value=makeString(value)}if(!value){this.logger.warn("missed to pass in variable "+match[1]+" for interpolating "+str);value=""}value=this.escapeValue?regexSafe(this.escape(value)):regexSafe(value);str=str.replace(match[0],value);this.regexp.lastIndex=0;replaces++;if(replaces>=this.maxReplaces){break}}return str};Interpolator.prototype.nest=function nest(str,fc){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var match=void 0;var value=void 0;var clonedOptions=_extends$4({},options);clonedOptions.applyPostProcessor=false;function handleHasOptions(key){if(key.indexOf(",")<0){return key}var p=key.split(",");key=p.shift();var optionsString=p.join(",");optionsString=this.interpolate(optionsString,clonedOptions);optionsString=optionsString.replace(/'/g,'"');try{clonedOptions=JSON.parse(optionsString)}catch(e){this.logger.error("failed parsing options string in nesting for key "+key,e)}return key}while(match=this.nestingRegexp.exec(str)){value=fc(handleHasOptions.call(this,match[1].trim()),clonedOptions);if(value&&match[0]===str&&typeof value!=="string"){return value}if(typeof value!=="string"){value=makeString(value)}if(!value){this.logger.warn("missed to resolve "+match[1]+" for nesting "+str);value=""}str=str.replace(match[0],value);this.regexp.lastIndex=0}return str};return Interpolator}();var _extends$5=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i){break}}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]){_i["return"]()}}finally{if(_d){throw _e}}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();function _defaults$3(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck$8(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn$3(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits$3(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass){Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults$3(subClass,superClass)}}function remove(arr,what){var found=arr.indexOf(what);while(found!==-1){arr.splice(found,1);found=arr.indexOf(what)}}var Connector=function(_EventEmitter){_inherits$3(Connector,_EventEmitter);function Connector(backend,store,services){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};_classCallCheck$8(this,Connector);var _this=_possibleConstructorReturn$3(this,_EventEmitter.call(this));_this.backend=backend;_this.store=store;_this.languageUtils=services.languageUtils;_this.options=options;_this.logger=baseLogger.create("backendConnector");_this.state={};_this.queue=[];if(_this.backend&&_this.backend.init){_this.backend.init(services,options.backend,options)}return _this}Connector.prototype.queueLoad=function queueLoad(languages,namespaces,callback){var _this2=this;var toLoad=[];var pending=[];var toLoadLanguages=[];var toLoadNamespaces=[];languages.forEach(function(lng){var hasAllNamespaces=true;namespaces.forEach(function(ns){var name=lng+"|"+ns;if(_this2.store.hasResourceBundle(lng,ns)){_this2.state[name]=2}else if(_this2.state[name]<0){}else if(_this2.state[name]===1){if(pending.indexOf(name)<0){pending.push(name)}}else{_this2.state[name]=1;hasAllNamespaces=false;if(pending.indexOf(name)<0){pending.push(name)}if(toLoad.indexOf(name)<0){toLoad.push(name)}if(toLoadNamespaces.indexOf(ns)<0){toLoadNamespaces.push(ns)}}});if(!hasAllNamespaces){toLoadLanguages.push(lng)}});if(toLoad.length||pending.length){this.queue.push({pending:pending,loaded:{},errors:[],callback:callback})}return{toLoad:toLoad,pending:pending,toLoadLanguages:toLoadLanguages,toLoadNamespaces:toLoadNamespaces}};Connector.prototype.loaded=function loaded(name,err,data){var _this3=this;var _name$split=name.split("|"),_name$split2=_slicedToArray(_name$split,2),lng=_name$split2[0],ns=_name$split2[1];if(err){this.emit("failedLoading",lng,ns,err)}if(data){this.store.addResourceBundle(lng,ns,data)}this.state[name]=err?-1:2;this.queue.forEach(function(q){pushPath(q.loaded,[lng],ns);remove(q.pending,name);if(err){q.errors.push(err)}if(q.pending.length===0&&!q.done){_this3.emit("loaded",q.loaded);q.done=true;if(q.errors.length){q.callback(q.errors)}else{q.callback()}}});this.queue=this.queue.filter(function(q){return!q.done})};Connector.prototype.read=function read(lng,ns,fcName){var tried=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var _this4=this;var wait=arguments.length>4&&arguments[4]!==undefined?arguments[4]:250;var callback=arguments[5];if(!lng.length){return callback(null,{})}return this.backend[fcName](lng,ns,function(err,data){if(err&&data&&tried<5){setTimeout(function(){_this4.read.call(_this4,lng,ns,fcName,tried+1,wait*2,callback)},wait);return}callback(err,data)})};Connector.prototype.load=function load(languages,namespaces,callback){var _this5=this;if(!this.backend){this.logger.warn("No backend was added via i18next.use. Will not load resources.");return callback&&callback()}var options=_extends$5({},this.backend.options,this.options.backend);if(typeof languages==="string"){languages=this.languageUtils.toResolveHierarchy(languages)}if(typeof namespaces==="string"){namespaces=[namespaces]}var toLoad=this.queueLoad(languages,namespaces,callback);if(!toLoad.toLoad.length){if(!toLoad.pending.length){callback()}return null}if(options.allowMultiLoading&&this.backend.readMulti){this.read(toLoad.toLoadLanguages,toLoad.toLoadNamespaces,"readMulti",null,null,function(err,data){if(err){_this5.logger.warn("loading namespaces "+toLoad.toLoadNamespaces.join(", ")+" for languages "+toLoad.toLoadLanguages.join(", ")+" via multiloading failed",err)}if(!err&&data){_this5.logger.log("successfully loaded namespaces "+toLoad.toLoadNamespaces.join(", ")+" for languages "+toLoad.toLoadLanguages.join(", ")+" via multiloading",data)}toLoad.toLoad.forEach(function(name){var _name$split3=name.split("|"),_name$split4=_slicedToArray(_name$split3,2),l=_name$split4[0],n=_name$split4[1];var bundle=getPath(data,[l,n]);if(bundle){_this5.loaded(name,err,bundle)}else{var error="loading namespace "+n+" for language "+l+" via multiloading failed";_this5.loaded(name,error);_this5.logger.error(error)}})})}else{toLoad.toLoad.forEach(function(name){_this5.loadOne(name)})}};Connector.prototype.reload=function reload(languages,namespaces){var _this6=this;if(!this.backend){this.logger.warn("No backend was added via i18next.use. Will not load resources.")}var options=_extends$5({},this.backend.options,this.options.backend);if(typeof languages==="string"){languages=this.languageUtils.toResolveHierarchy(languages)}if(typeof namespaces==="string"){namespaces=[namespaces]}if(options.allowMultiLoading&&this.backend.readMulti){this.read(languages,namespaces,"readMulti",null,null,function(err,data){if(err){_this6.logger.warn("reloading namespaces "+namespaces.join(", ")+" for languages "+languages.join(", ")+" via multiloading failed",err)}if(!err&&data){_this6.logger.log("successfully reloaded namespaces "+namespaces.join(", ")+" for languages "+languages.join(", ")+" via multiloading",data)}languages.forEach(function(l){namespaces.forEach(function(n){var bundle=getPath(data,[l,n]);if(bundle){_this6.loaded(l+"|"+n,err,bundle)}else{var error="reloading namespace "+n+" for language "+l+" via multiloading failed";_this6.loaded(l+"|"+n,error);_this6.logger.error(error)}})})})}else{languages.forEach(function(l){namespaces.forEach(function(n){_this6.loadOne(l+"|"+n,"re")})})}};Connector.prototype.loadOne=function loadOne(name){var _this7=this;var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var _name$split5=name.split("|"),_name$split6=_slicedToArray(_name$split5,2),lng=_name$split6[0],ns=_name$split6[1];this.read(lng,ns,"read",null,null,function(err,data){if(err){_this7.logger.warn(prefix+"loading namespace "+ns+" for language "+lng+" failed",err)}if(!err&&data){_this7.logger.log(prefix+"loaded namespace "+ns+" for language "+lng,data)}_this7.loaded(name,err,data)})};Connector.prototype.saveMissing=function saveMissing(languages,namespace,key,fallbackValue){if(this.backend&&this.backend.create){this.backend.create(languages,namespace,key,fallbackValue)}if(!languages||!languages[0]){return}this.store.addResource(languages[0],namespace,key,fallbackValue)};return Connector}(EventEmitter);var _extends$6=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _defaults$4(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck$9(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn$4(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits$4(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass){Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults$4(subClass,superClass)}}var Connector$1=function(_EventEmitter){_inherits$4(Connector,_EventEmitter);function Connector(cache,store,services){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};_classCallCheck$9(this,Connector);var _this=_possibleConstructorReturn$4(this,_EventEmitter.call(this));_this.cache=cache;_this.store=store;_this.services=services;_this.options=options;_this.logger=baseLogger.create("cacheConnector");if(_this.cache&&_this.cache.init){_this.cache.init(services,options.cache,options)}return _this}Connector.prototype.load=function load(languages,namespaces,callback){var _this2=this;if(!this.cache){return callback&&callback()}var options=_extends$6({},this.cache.options,this.options.cache);var loadLngs=typeof languages==="string"?this.services.languageUtils.toResolveHierarchy(languages):languages;if(options.enabled){this.cache.load(loadLngs,function(err,data){if(err){_this2.logger.error("loading languages "+loadLngs.join(", ")+" from cache failed",err)}if(data){for(var l in data){if(Object.prototype.hasOwnProperty.call(data,l)){for(var n in data[l]){if(Object.prototype.hasOwnProperty.call(data[l],n)){if(n!=="i18nStamp"){var bundle=data[l][n];if(bundle){_this2.store.addResourceBundle(l,n,bundle)}}}}}}}if(callback){callback()}})}else if(callback){callback()}};Connector.prototype.save=function save(){if(this.cache&&this.options.cache&&this.options.cache.enabled){this.cache.save(this.store.data)}};return Connector}(EventEmitter);function get(){return{debug:false,initImmediate:true,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:false,whitelist:false,nonExplicitWhitelist:false,load:"all",preload:false,simplifyPluralSuffix:true,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:false,saveMissingTo:"fallback",missingKeyHandler:false,postProcess:false,returnNull:true,returnEmptyString:true,returnObjects:false,joinArrays:false,returnedObjectHandler:function returnedObjectHandler(){},parseMissingKeyHandler:false,appendNamespaceToMissingKey:false,appendNamespaceToCIMode:false,overloadTranslationOptionHandler:function handle(args){return{defaultValue:args[1]}},interpolation:{escapeValue:true,format:function format(value,_format,lng){return value},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function transformOptions(options){if(typeof options.ns==="string"){options.ns=[options.ns]}if(typeof options.fallbackLng==="string"){options.fallbackLng=[options.fallbackLng]}if(typeof options.fallbackNS==="string"){options.fallbackNS=[options.fallbackNS]}if(options.whitelist&&options.whitelist.indexOf("cimode")<0){options.whitelist.push("cimode")}return options}var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass){Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}}function noop(){}var I18n=function(_EventEmitter){_inherits(I18n,_EventEmitter);function I18n(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments[1];_classCallCheck(this,I18n);var _this=_possibleConstructorReturn(this,_EventEmitter.call(this));_this.options=transformOptions(options);_this.services={};_this.logger=baseLogger;_this.modules={external:[]};if(callback&&!_this.isInitialized&&!options.isClone){var _ret;if(!_this.options.initImmediate){return _ret=_this.init(options,callback),_possibleConstructorReturn(_this,_ret)}setTimeout(function(){_this.init(options,callback)},0)}return _this}I18n.prototype.init=function init(){var _this2=this;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments[1];if(typeof options==="function"){callback=options;options={}}this.options=_extends({},get(),this.options,transformOptions(options));this.format=this.options.interpolation.format;if(!callback){callback=noop}function createClassOnDemand(ClassOrObject){if(!ClassOrObject){return null}if(typeof ClassOrObject==="function"){return new ClassOrObject}return ClassOrObject}if(!this.options.isClone){if(this.modules.logger){baseLogger.init(createClassOnDemand(this.modules.logger),this.options)}else{baseLogger.init(null,this.options)}var lu=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var s=this.services;s.logger=baseLogger;s.resourceStore=this.store;s.resourceStore.on("added removed",function(lng,ns){s.cacheConnector.save()});s.languageUtils=lu;s.pluralResolver=new PluralResolver(lu,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix});s.interpolator=new Interpolator(this.options);s.backendConnector=new Connector(createClassOnDemand(this.modules.backend),s.resourceStore,s,this.options);s.backendConnector.on("*",function(event){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}_this2.emit.apply(_this2,[event].concat(args))});s.backendConnector.on("loaded",function(loaded){s.cacheConnector.save()});s.cacheConnector=new Connector$1(createClassOnDemand(this.modules.cache),s.resourceStore,s,this.options);s.cacheConnector.on("*",function(event){for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2]}_this2.emit.apply(_this2,[event].concat(args))});if(this.modules.languageDetector){s.languageDetector=createClassOnDemand(this.modules.languageDetector);s.languageDetector.init(s,this.options.detection,this.options)}this.translator=new Translator(this.services,this.options);this.translator.on("*",function(event){for(var _len3=arguments.length,args=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){args[_key3-1]=arguments[_key3]}_this2.emit.apply(_this2,[event].concat(args))});this.modules.external.forEach(function(m){if(m.init){m.init(_this2)}})}var storeApi=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"];storeApi.forEach(function(fcName){_this2[fcName]=function(){var _store;return(_store=_this2.store)[fcName].apply(_store,arguments)}});var load=function load(){_this2.changeLanguage(_this2.options.lng,function(err,t){_this2.isInitialized=true;_this2.logger.log("initialized",_this2.options);_this2.emit("initialized",_this2.options);callback(err,t)})};if(this.options.resources||!this.options.initImmediate){load()}else{setTimeout(load,0)}return this};I18n.prototype.loadResources=function loadResources(){var _this3=this;var callback=arguments.length>0&&arguments[0]!==undefined?arguments[0]:noop;if(!this.options.resources){if(this.language&&this.language.toLowerCase()==="cimode"){return callback()}var toLoad=[];var append=function append(lng){if(!lng){return}var lngs=_this3.services.languageUtils.toResolveHierarchy(lng);lngs.forEach(function(l){if(toLoad.indexOf(l)<0){toLoad.push(l)}})};if(!this.language){var fallbacks=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);fallbacks.forEach(function(l){return append(l)})}else{append(this.language)}if(this.options.preload){this.options.preload.forEach(function(l){return append(l)})}this.services.cacheConnector.load(toLoad,this.options.ns,function(){_this3.services.backendConnector.load(toLoad,_this3.options.ns,callback)})}else{callback(null)}};I18n.prototype.reloadResources=function reloadResources(lngs,ns){if(!lngs){lngs=this.languages}if(!ns){ns=this.options.ns}this.services.backendConnector.reload(lngs,ns)};I18n.prototype.use=function use(module){if(module.type==="backend"){this.modules.backend=module}if(module.type==="cache"){this.modules.cache=module}if(module.type==="logger"||module.log&&module.warn&&module.error){this.modules.logger=module}if(module.type==="languageDetector"){this.modules.languageDetector=module}if(module.type==="postProcessor"){postProcessor.addPostProcessor(module)}if(module.type==="3rdParty"){this.modules.external.push(module)}return this};I18n.prototype.changeLanguage=function changeLanguage(lng,callback){var _this4=this;var done=function done(err,l){_this4.translator.changeLanguage(l);if(l){_this4.emit("languageChanged",l);_this4.logger.log("languageChanged",l)}if(callback){callback(err,function(){return _this4.t.apply(_this4,arguments)})}};var setLng=function setLng(l){if(l){_this4.language=l;_this4.languages=_this4.services.languageUtils.toResolveHierarchy(l);if(_this4.services.languageDetector){_this4.services.languageDetector.cacheUserLanguage(l)}}_this4.loadResources(function(err){done(err,l)})};if(!lng&&this.services.languageDetector&&!this.services.languageDetector.async){setLng(this.services.languageDetector.detect())}else if(!lng&&this.services.languageDetector&&this.services.languageDetector.async){this.services.languageDetector.detect(setLng)}else{setLng(lng)}};I18n.prototype.getFixedT=function getFixedT(lng,ns){var _this5=this;var fixedT=function fixedT(key,opts){for(var _len4=arguments.length,rest=Array(_len4>2?_len4-2:0),_key4=2;_key4<_len4;_key4++){rest[_key4-2]=arguments[_key4]}var options=_extends({},opts);if((typeof opts==="undefined"?"undefined":_typeof(opts))!=="object"){options=_this5.options.overloadTranslationOptionHandler([key,opts].concat(rest))}options.lng=options.lng||fixedT.lng;options.lngs=options.lngs||fixedT.lngs;options.ns=options.ns||fixedT.ns;return _this5.t(key,options)};if(typeof lng==="string"){fixedT.lng=lng}else{fixedT.lngs=lng}fixedT.ns=ns;return fixedT};I18n.prototype.t=function t(){var _translator;return this.translator&&(_translator=this.translator).translate.apply(_translator,arguments)};I18n.prototype.exists=function exists(){var _translator2;return this.translator&&(_translator2=this.translator).exists.apply(_translator2,arguments)};I18n.prototype.setDefaultNamespace=function setDefaultNamespace(ns){this.options.defaultNS=ns};I18n.prototype.loadNamespaces=function loadNamespaces(ns,callback){var _this6=this;if(!this.options.ns){return callback&&callback()}if(typeof ns==="string"){ns=[ns]}ns.forEach(function(n){if(_this6.options.ns.indexOf(n)<0){_this6.options.ns.push(n)}});this.loadResources(callback)};I18n.prototype.loadLanguages=function loadLanguages(lngs,callback){if(typeof lngs==="string"){lngs=[lngs]}var preloaded=this.options.preload||[];var newLngs=lngs.filter(function(lng){return preloaded.indexOf(lng)<0});if(!newLngs.length){return callback()}this.options.preload=preloaded.concat(newLngs);this.loadResources(callback)};I18n.prototype.dir=function dir(lng){if(!lng){lng=this.languages&&this.languages.length>0?this.languages[0]:this.language}if(!lng){return"rtl"}var rtlLngs=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng))>=0?"rtl":"ltr"};I18n.prototype.createInstance=function createInstance(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments[1];return new I18n(options,callback)};I18n.prototype.cloneInstance=function cloneInstance(){var _this7=this;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:noop;var mergedOptions=_extends({},this.options,options,{isClone:true});var clone=new I18n(mergedOptions);var membersToCopy=["store","services","language"];membersToCopy.forEach(function(m){clone[m]=_this7[m]});clone.translator=new Translator(clone.services,clone.options);clone.translator.on("*",function(event){for(var _len5=arguments.length,args=Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++){args[_key5-1]=arguments[_key5]}clone.emit.apply(clone,[event].concat(args))});clone.init(mergedOptions,callback);clone.translator.options=clone.options;return clone};return I18n}(EventEmitter);var i18next$1=new I18n;var changeLanguage=i18next$1.changeLanguage.bind(i18next$1);var cloneInstance=i18next$1.cloneInstance.bind(i18next$1);var createInstance=i18next$1.createInstance.bind(i18next$1);var dir=i18next$1.dir.bind(i18next$1);var exists=i18next$1.exists.bind(i18next$1);var getFixedT=i18next$1.getFixedT.bind(i18next$1);var init=i18next$1.init.bind(i18next$1);var loadLanguages=i18next$1.loadLanguages.bind(i18next$1);var loadNamespaces=i18next$1.loadNamespaces.bind(i18next$1);var loadResources=i18next$1.loadResources.bind(i18next$1);var off=i18next$1.off.bind(i18next$1);var on=i18next$1.on.bind(i18next$1);var setDefaultNamespace=i18next$1.setDefaultNamespace.bind(i18next$1);var t=i18next$1.t.bind(i18next$1);var use=i18next$1.use.bind(i18next$1);var arr=[];var each=arr.forEach;var slice=arr.slice;function defaults(obj){each.call(slice.call(arguments,1),function(source){if(source){for(var prop in source){if(obj[prop]===undefined){obj[prop]=source[prop]}}}});return obj}var cookie={create:function create(name,value,minutes,domain){var expires=void 0;if(minutes){var date=new Date;date.setTime(date.getTime()+minutes*60*1e3);expires="; expires="+date.toGMTString()}else{expires=""}domain=domain?"domain="+domain+";":"";document.cookie=name+"="+value+expires+";"+domain+"path=/"},read:function read(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===" "){c=c.substring(1,c.length)}if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length)}}return null},remove:function remove(name){this.create(name,"",-1)}};var cookie$1={name:"cookie",lookup:function lookup(options){var found=void 0;if(options.lookupCookie&&typeof document!=="undefined"){var c=cookie.read(options.lookupCookie);if(c){found=c}}return found},cacheUserLanguage:function cacheUserLanguage(lng,options){if(options.lookupCookie&&typeof document!=="undefined"){cookie.create(options.lookupCookie,lng,options.cookieMinutes,options.cookieDomain)}}};var querystring={name:"querystring",lookup:function lookup(options){var found=void 0;if(typeof window!=="undefined"){var query=window.location.search.substring(1);var params=query.split("&");for(var i=0;i<params.length;i++){var pos=params[i].indexOf("=");if(pos>0){var key=params[i].substring(0,pos);if(key===options.lookupQuerystring){found=params[i].substring(pos+1)}}}}return found}};var hasLocalStorageSupport=void 0;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;var testKey="i18next.translate.boo";window.localStorage.setItem(testKey,"foo");window.localStorage.removeItem(testKey)}catch(e){hasLocalStorageSupport=false}var localStorage={name:"localStorage",lookup:function lookup(options){var found=void 0;if(options.lookupLocalStorage&&hasLocalStorageSupport){var lng=window.localStorage.getItem(options.lookupLocalStorage);if(lng){found=lng}}return found},cacheUserLanguage:function cacheUserLanguage(lng,options){if(options.lookupLocalStorage&&hasLocalStorageSupport){window.localStorage.setItem(options.lookupLocalStorage,lng)}}};var navigator$1={name:"navigator",lookup:function lookup(options){var found=[];if(typeof navigator!=="undefined"){if(navigator.languages){for(var i=0;i<navigator.languages.length;i++){found.push(navigator.languages[i])}}if(navigator.userLanguage){found.push(navigator.userLanguage)}if(navigator.language){found.push(navigator.language)}}return found.length>0?found:undefined}};var htmlTag={name:"htmlTag",lookup:function lookup(options){var found=void 0;var htmlTag=options.htmlTag||(typeof document!=="undefined"?document.documentElement:null);if(htmlTag&&typeof htmlTag.getAttribute==="function"){found=htmlTag.getAttribute("lang")}return found}};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor){descriptor.writable=true}Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps){defineProperties(Constructor.prototype,protoProps)}if(staticProps){defineProperties(Constructor,staticProps)}return Constructor}}();function _classCallCheck$10(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function getDefaults(){return{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var Browser=function(){function Browser(services){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck$10(this,Browser);this.type="languageDetector";this.detectors={};this.init(services,options)}_createClass(Browser,[{key:"init",value:function init(services){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i18nOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.services=services;this.options=defaults(options,this.options||{},getDefaults());this.i18nOptions=i18nOptions;this.addDetector(cookie$1);this.addDetector(querystring);this.addDetector(localStorage);this.addDetector(navigator$1);this.addDetector(htmlTag)}},{key:"addDetector",value:function addDetector(detector){this.detectors[detector.name]=detector}},{key:"detect",value:function detect(detectionOrder){var _this=this;if(!detectionOrder){detectionOrder=this.options.order}var detected=[];detectionOrder.forEach(function(detectorName){if(_this.detectors[detectorName]){var lookup=_this.detectors[detectorName].lookup(_this.options);if(lookup&&typeof lookup==="string"){lookup=[lookup]}if(lookup){detected=detected.concat(lookup)}}});var found=void 0;detected.forEach(function(lng){if(found){return}var cleanedLng=_this.services.languageUtils.formatLanguageCode(lng);if(_this.services.languageUtils.isWhitelisted(cleanedLng)){found=cleanedLng}});return found||this.i18nOptions.fallbackLng[0]}},{key:"cacheUserLanguage",value:function cacheUserLanguage(lng,caches){var _this2=this;if(!caches){caches=this.options.caches}if(!caches){return}if(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(lng)>-1){return}caches.forEach(function(cacheName){if(_this2.detectors[cacheName]){_this2.detectors[cacheName].cacheUserLanguage(lng,_this2.options)}})}}]);return Browser}();Browser.type="languageDetector";var ja={word:{manage:"ÁÆ°ÁêÜÁîªÈù¢",dashboard:"„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ"}};var en={};var i18n={init:()=>{return new Promise((resolve,reject)=>{i18next$1.use(Browser).init({fallbackLng:"ja",resources:{ja:{translation:ja},en:{translation:en}}},err=>{if(err){reject(err);return}resolve()})})},get:()=>{return i18next$1}};const i18n$1=i18next$1;function append(arr1,arr2){if(arr2==null){return arr1}var pad=arr1.length,i=-1,len=arr2.length;while(++i<len){arr1[pad+i]=arr2[i]}return arr1}var append_1=append;function identity(val){return val}var identity_1=identity;function prop(name){return function(obj){return obj[name]}}var prop_1=prop;function hasOwn(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var hasOwn_1=hasOwn;var _hasDontEnumBug;var _dontEnums;function checkDontEnum(){_dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];_hasDontEnumBug=true;for(var key in{toString:null}){_hasDontEnumBug=false}}function forIn(obj,fn,thisObj){var key,i=0;if(_hasDontEnumBug==null){checkDontEnum()}for(key in obj){if(exec(fn,obj,key,thisObj)===false){break}}if(_hasDontEnumBug){var ctor=obj.constructor,isProto=!!ctor&&obj===ctor.prototype;while(key=_dontEnums[i++]){if((key!=="constructor"||!isProto&&hasOwn_1(obj,key))&&obj[key]!==Object.prototype[key]){if(exec(fn,obj,key,thisObj)===false){break}}}}}function exec(fn,obj,key,thisObj){return fn.call(thisObj,obj[key],key,obj)}var forIn_1=forIn;function forOwn(obj,fn,thisObj){forIn_1(obj,function(val,key){if(hasOwn_1(obj,key)){return fn.call(thisObj,obj[key],key,obj)}})}var forOwn_1=forOwn;var _rKind=/^\[object (.*)\]$/;var _toString=Object.prototype.toString;var UNDEF;function kindOf(val){if(val===null){return"Null"}else if(val===UNDEF){return"Undefined"}else{return _rKind.exec(_toString.call(val))[1]}}var kindOf_1=kindOf;function isKind(val,kind){return kindOf_1(val)===kind}var isKind_1=isKind;var isArray=Array.isArray||function(val){return isKind_1(val,"Array")};var isArray_1=isArray;function containsMatch(array,pattern){var i=-1,length=array.length;while(++i<length){if(deepMatches(array[i],pattern)){return true}}return false}function matchArray(target,pattern){var i=-1,patternLength=pattern.length;while(++i<patternLength){if(!containsMatch(target,pattern[i])){return false}}return true}function matchObject(target,pattern){var result=true;forOwn_1(pattern,function(val,key){if(!deepMatches(target[key],val)){return result=false}});return result}function deepMatches(target,pattern){if(target&&typeof target==="object"&&pattern&&typeof pattern==="object"){if(isArray_1(target)&&isArray_1(pattern)){return matchArray(target,pattern)}else{return matchObject(target,pattern)}}else{return target===pattern}}var deepMatches_1=deepMatches;function makeIterator(src,thisObj){if(src==null){return identity_1}switch(typeof src){case"function":return typeof thisObj!=="undefined"?function(val,i,arr){return src.call(thisObj,val,i,arr)}:src;case"object":return function(val){return deepMatches_1(val,src)};case"string":case"number":return prop_1(src)}}var makeIterator_=makeIterator;function collect(arr,callback,thisObj){callback=makeIterator_(callback,thisObj);var results=[];if(arr==null){return results}var i=-1,len=arr.length;while(++i<len){var value=callback(arr[i],i,arr);if(value!=null){append_1(results,value)}}return results}var collect_1=collect;function indexOf(arr,item,fromIndex){fromIndex=fromIndex||0;if(arr==null){return-1}var len=arr.length,i=fromIndex<0?len+fromIndex:fromIndex;while(i<len){if(arr[i]===item){return i}i++}return-1}var indexOf_1=indexOf;function combine(arr1,arr2){if(arr2==null){return arr1}var i=-1,len=arr2.length;while(++i<len){if(indexOf_1(arr1,arr2[i])===-1){arr1.push(arr2[i])}}return arr1}var combine_1=combine;function filter(arr,callback,thisObj){callback=makeIterator_(callback,thisObj);var results=[];if(arr==null){return results}var i=-1,len=arr.length,value;while(++i<len){value=arr[i];if(callback(value,i,arr)){results.push(value)}}return results}var filter_1=filter;function compact(arr){return filter_1(arr,function(val){return val!=null})}var compact_1=compact;function contains(arr,val){return indexOf_1(arr,val)!==-1}var contains_1=contains;function unique(arr,compare){compare=compare||isEqual;return filter_1(arr,function(item,i,arr){var n=arr.length;while(++i<n){if(compare(item,arr[i])){return false}}return true})}function isEqual(a,b){return a===b}var unique_1=unique;function some(arr,callback,thisObj){callback=makeIterator_(callback,thisObj);var result=false;if(arr==null){return result}var i=-1,len=arr.length;while(++i<len){if(callback(arr[i],i,arr)){result=true;break}}return result}var some_1=some;function slice$1(arr,start,end){var len=arr.length;if(start==null){start=0}else if(start<0){start=Math.max(len+start,0)}else{start=Math.min(start,len)}if(end==null){end=len}else if(end<0){end=Math.max(len+end,0)}else{end=Math.min(end,len)}var result=[];while(start<end){result.push(arr[start++])}return result}var slice_1=slice$1;function difference(arr){var arrs=slice_1(arguments,1),result=filter_1(unique_1(arr),function(needle){return!some_1(arrs,function(haystack){return contains_1(haystack,needle)})});return result}var difference_1=difference;function is(x,y){if(x===y){return x!==0||1/x===1/y}return x!==x&&y!==y}var is_1=is;function every(arr,callback,thisObj){callback=makeIterator_(callback,thisObj);var result=true;if(arr==null){return result}var i=-1,len=arr.length;while(++i<len){if(!callback(arr[i],i,arr)){result=false;break}}return result}var every_1=every;function equals(a,b,callback){callback=callback||is_1;if(!isArray_1(a)||!isArray_1(b)){return callback(a,b)}if(a.length!==b.length){return false}return every_1(a,makeCompare(callback),b)}function makeCompare(callback){return function(value,i){return i in this&&callback(value,this[i])}}var equals_1=equals;function findIndex(arr,iterator,thisObj){iterator=makeIterator_(iterator,thisObj);if(arr==null){return-1}var i=-1,len=arr.length;while(++i<len){if(iterator(arr[i],i,arr)){return i}}return-1}var findIndex_1=findIndex;function find(arr,iterator,thisObj){var idx=findIndex_1(arr,iterator,thisObj);return idx>=0?arr[idx]:void 0}var find_1=find;function findLastIndex(arr,iterator,thisObj){iterator=makeIterator_(iterator,thisObj);if(arr==null){return-1}var n=arr.length;while(--n>=0){if(iterator(arr[n],n,arr)){return n}}return-1}var findLastIndex_1=findLastIndex;function findLast(arr,iterator,thisObj){var idx=findLastIndex_1(arr,iterator,thisObj);return idx>=0?arr[idx]:void 0}var findLast_1=findLast;function flattenTo(arr,result,level){if(level===0){append_1(result,arr);return result}var value,i=-1,len=arr.length;while(++i<len){value=arr[i];if(isArray_1(value)){flattenTo(value,result,level-1)}else{result.push(value)}}return result}function flatten(arr,level){if(arr==null){return[]}level=level==null?-1:level;return flattenTo(arr,[],level)}var flatten_1=flatten;function forEach(arr,callback,thisObj){if(arr==null){return}var i=-1,len=arr.length;while(++i<len){if(callback.call(thisObj,arr[i],i,arr)===false){break}}}var forEach_1=forEach;function groupBy(arr,categorize,thisObj){if(categorize){categorize=makeIterator_(categorize,thisObj)}else{categorize=identity_1}var buckets={};forEach_1(arr,function(element){var bucket=categorize(element);if(!(bucket in buckets)){buckets[bucket]=[]}buckets[bucket].push(element)});return buckets}var groupBy_1=groupBy;function indicesOf(arr,item,fromIndex){var results=[];if(arr==null){return results}fromIndex=typeof fromIndex==="number"?fromIndex:0;var length=arr.length;var cursor=fromIndex>=0?fromIndex:length+fromIndex;while(cursor<length){if(arr[cursor]===item){results.push(cursor)}cursor++}return results}var indicesOf_1=indicesOf;function insert(arr,rest_items){var diff=difference_1(slice_1(arguments,1),arr);if(diff.length){Array.prototype.push.apply(arr,diff)}return arr.length}var insert_1=insert;function intersection(arr){var arrs=slice_1(arguments,1),result=filter_1(unique_1(arr),function(needle){return every_1(arrs,function(haystack){return contains_1(haystack,needle)})});return result}var intersection_1=intersection;function invoke(arr,methodName,var_args){if(arr==null){return arr}var args=slice_1(arguments,2);var i=-1,len=arr.length,value;while(++i<len){value=arr[i];value[methodName].apply(value,args)}return arr}var invoke_1=invoke;function isValidString(val){return val!=null&&val!==""}function join(items,separator){separator=separator||"";return filter_1(items,isValidString).join(separator)}var join_1=join;function last(arr){if(arr==null||arr.length<1){return undefined}return arr[arr.length-1]}var last_1=last;function lastIndexOf(arr,item,fromIndex){if(arr==null){return-1}var len=arr.length;fromIndex=fromIndex==null||fromIndex>=len?len-1:fromIndex;fromIndex=fromIndex<0?len+fromIndex:fromIndex;while(fromIndex>=0){if(arr[fromIndex]===item){return fromIndex}fromIndex--}return-1}var lastIndexOf_1=lastIndexOf;function map(arr,callback,thisObj){callback=makeIterator_(callback,thisObj);var results=[];if(arr==null){return results}var i=-1,len=arr.length;while(++i<len){results[i]=callback(arr[i],i,arr)}return results}var map_1=map;function max(arr,iterator,thisObj){if(arr==null||!arr.length){return Infinity}else if(arr.length&&!iterator){return Math.max.apply(Math,arr)}else{iterator=makeIterator_(iterator,thisObj);var result,compare=-Infinity,value,temp;var i=-1,len=arr.length;while(++i<len){value=arr[i];temp=iterator(value,i,arr);if(temp>compare){compare=temp;result=value}}return result}}var max_1=max;function min(arr,iterator,thisObj){if(arr==null||!arr.length){return-Infinity}else if(arr.length&&!iterator){return Math.min.apply(Math,arr)}else{iterator=makeIterator_(iterator,thisObj);var result,compare=Infinity,value,temp;var i=-1,len=arr.length;while(++i<len){value=arr[i];temp=iterator(value,i,arr);if(temp<compare){compare=temp;result=value}}return result}}var min_1=min;var MIN_INT=-2147483648;var MAX_INT=2147483647;function random(){return random.get()}random.get=Math.random;var random_1=random;function rand(min,max){min=min==null?MIN_INT:min;max=max==null?MAX_INT:max;return min+(max-min)*random_1()}var rand_1=rand;function randInt(min,max){min=min==null?MIN_INT:~~min;max=max==null?MAX_INT:~~max;return Math.round(rand_1(min-.5,max+.499999999999))}var randInt_1=randInt;function pick(arr,nItems){if(nItems!=null){var result=[];if(nItems>0&&arr&&arr.length){nItems=nItems>arr.length?arr.length:nItems;while(nItems--){result.push(pickOne(arr))}}return result}return arr&&arr.length?pickOne(arr):void 0}function pickOne(arr){var idx=randInt_1(0,arr.length-1);return arr.splice(idx,1)[0]}var pick_1=pick;function pluck(arr,propName){return map_1(arr,propName)}var pluck_1=pluck;function range(start,stop,step){if(stop==null){stop=start;start=0}step=step||1;var result=[],nSteps=countSteps_1(stop-start,step),i=start;while(i<=stop){result.push(i);i+=step}return result}var range_1=range;function reduce(arr,fn,initVal){var hasInit=arguments.length>2,result=initVal;if(arr==null||!arr.length){if(!hasInit){throw new Error("reduce of empty array with no initial value")}else{return initVal}}var i=-1,len=arr.length;while(++i<len){if(!hasInit){result=arr[i];hasInit=true}else{result=fn(result,arr[i],i,arr)}}return result}var reduce_1=reduce;function reduceRight(arr,fn,initVal){var hasInit=arguments.length>2;if(arr==null||!arr.length){if(hasInit){return initVal}else{throw new Error("reduce of empty array with no initial value")}}var i=arr.length,result=initVal,value;while(--i>=0){value=arr[i];if(!hasInit){result=value;hasInit=true}else{result=fn(result,value,i,arr)}}return result}var reduceRight_1=reduceRight;function reject(arr,callback,thisObj){callback=makeIterator_(callback,thisObj);var results=[];if(arr==null){return results}var i=-1,len=arr.length,value;while(++i<len){value=arr[i];if(!callback(value,i,arr)){results.push(value)}}return results}var reject_1=reject;function remove$1(arr,item){var idx=indexOf_1(arr,item);if(idx!==-1){arr.splice(idx,1)}}var remove_1=remove$1;function removeAll(arr,item){var idx=indexOf_1(arr,item);while(idx!==-1){arr.splice(idx,1);idx=indexOf_1(arr,item,idx)}}var removeAll_1=removeAll;function reverse(array){var copy=array.slice();copy.reverse();return copy}var reverse_1=reverse;function shuffle(arr){var results=[],rnd;if(arr==null){return results}var i=-1,len=arr.length;while(++i<len){if(!i){results[0]=arr[0]}else{rnd=randInt_1(0,i);results[i]=results[rnd];results[rnd]=arr[i]}}return results}var shuffle_1=shuffle;function mergeSort(arr,compareFn){if(arr==null){return[]}else if(arr.length<2){return arr}if(compareFn==null){compareFn=defaultCompare}var mid,left,right;mid=~~(arr.length/2);left=mergeSort(arr.slice(0,mid),compareFn);right=mergeSort(arr.slice(mid,arr.length),compareFn);return merge(left,right,compareFn)}function defaultCompare(a,b){return a<b?-1:a>b?1:0}function merge(left,right,compareFn){var result=[];while(left.length&&right.length){if(compareFn(left[0],right[0])<=0){result.push(left.shift())}else{result.push(right.shift())}}if(left.length){result.push.apply(result,left)}if(right.length){result.push.apply(result,right)}return result}var sort=mergeSort;function sortBy(arr,callback,context){callback=makeIterator_(callback,context);return sort(arr,function(a,b){a=callback(a);b=callback(b);return a<b?-1:a>b?1:0})}var sortBy_1=sortBy;function split(array,segments){segments=segments||2;var results=[];if(array==null){return results}var minLength=Math.floor(array.length/segments),remainder=array.length%segments,i=0,len=array.length,segmentIndex=0,segmentLength;while(i<len){segmentLength=minLength;if(segmentIndex<remainder){segmentLength++}results.push(array.slice(i,i+segmentLength));segmentIndex++;i+=segmentLength}return results}var split_1=split;function take(n,callback,thisObj){var i=-1;var arr=[];if(!thisObj){while(++i<n){arr[i]=callback(i,n)}}else{while(++i<n){arr[i]=callback.call(thisObj,i,n)}}return arr}var take_1=take;function isFunction(val){return isKind_1(val,"Function")}var isFunction_1=isFunction;function toLookup(arr,key){var result={};if(arr==null){return result}var i=-1,len=arr.length,value;if(isFunction_1(key)){while(++i<len){value=arr[i];result[key(value)]=value}}else{while(++i<len){value=arr[i];result[value[key]]=value}}return result}var toLookup_1=toLookup;function union(arrs){var arguments$1=arguments;var results=[];var i=-1,len=arguments.length;while(++i<len){append_1(results,arguments$1[i])}return unique_1(results)}var union_1=union;function xor(arr1,arr2){arr1=unique_1(arr1);arr2=unique_1(arr2);var a1=filter_1(arr1,function(item){return!contains_1(arr2,item)}),a2=filter_1(arr2,function(item){return!contains_1(arr1,item)});return a1.concat(a2)}var xor_1=xor;function getLength(arr){return arr==null?0:arr.length}function zip(arr){var arguments$1=arguments;var len=arr?max_1(map_1(arguments,getLength)):0,results=[],i=-1;while(++i<len){results.push(map_1(arguments$1,function(item){return item==null?undefined:item[i]}))}return results}var zip_1=zip;var array={append:append_1,collect:collect_1,combine:combine_1,compact:compact_1,contains:contains_1,difference:difference_1,equals:equals_1,every:every_1,filter:filter_1,find:find_1,findIndex:findIndex_1,findLast:findLast_1,findLastIndex:findLastIndex_1,flatten:flatten_1,forEach:forEach_1,groupBy:groupBy_1,indexOf:indexOf_1,indicesOf:indicesOf_1,insert:insert_1,intersection:intersection_1,invoke:invoke_1,join:join_1,last:last_1,lastIndexOf:lastIndexOf_1,map:map_1,max:max_1,min:min_1,pick:pick_1,pluck:pluck_1,range:range_1,reduce:reduce_1,reduceRight:reduceRight_1,reject:reject_1,remove:remove_1,removeAll:removeAll_1,reverse:reverse_1,shuffle:shuffle_1,slice:slice_1,some:some_1,sort:sort,sortBy:sortBy_1,split:split_1,take:take_1,toLookup:toLookup_1,union:union_1,unique:unique_1,xor:xor_1,zip:zip_1};var array_1=array.find;var array_2=array.forEach;var index$1=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=="[object Array]"};var index=pathToRegexp;var parse_1=parse;var compile_1=compile;var tokensToFunction_1=tokensToFunction;var tokensToRegExp_1=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(str,options){var tokens=[];var key=0;var index=0;var path="";var defaultDelimiter=options&&options.delimiter||"/";var res;while((res=PATH_REGEXP.exec(str))!=null){var m=res[0];var escaped=res[1];var offset=res.index;path+=str.slice(index,offset);index=offset+m.length;if(escaped){path+=escaped[1];continue}var next=str[index];var prefix=res[2];var name=res[3];var capture=res[4];var group=res[5];var modifier=res[6];var asterisk=res[7];if(path){tokens.push(path);path=""}var partial=prefix!=null&&next!=null&&next!==prefix;var repeat=modifier==="+"||modifier==="*";var optional=modifier==="?"||modifier==="*";var delimiter=res[2]||defaultDelimiter;var pattern=capture||group;tokens.push({name:name||key++,prefix:prefix||"",delimiter:delimiter,optional:optional,repeat:repeat,partial:partial,asterisk:!!asterisk,pattern:pattern?escapeGroup(pattern):asterisk?".*":"[^"+escapeString(delimiter)+"]+?"})}if(index<str.length){path+=str.substr(index)}if(path){tokens.push(path)}return tokens}function compile(str,options){return tokensToFunction(parse(str,options))}function encodeURIComponentPretty(str){return encodeURI(str).replace(/[\/?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(str){return encodeURI(str).replace(/[?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(tokens){var matches=new Array(tokens.length);for(var i=0;i<tokens.length;i++){if(typeof tokens[i]==="object"){matches[i]=new RegExp("^(?:"+tokens[i].pattern+")$")}}return function(obj,opts){var path="";var data=obj||{};var options=opts||{};var encode=options.pretty?encodeURIComponentPretty:encodeURIComponent;for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){path+=token;continue}var value=data[token.name];var segment;if(value==null){if(token.optional){if(token.partial){path+=token.prefix}continue}else{throw new TypeError('Expected "'+token.name+'" to be defined')}}if(index$1(value)){if(!token.repeat){throw new TypeError('Expected "'+token.name+'" to not repeat, but received `'+JSON.stringify(value)+"`")}if(value.length===0){if(token.optional){continue}else{throw new TypeError('Expected "'+token.name+'" to not be empty')}}for(var j=0;j<value.length;j++){segment=encode(value[j]);if(!matches[i].test(segment)){throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'", but received `'+JSON.stringify(segment)+"`")}path+=(j===0?token.prefix:token.delimiter)+segment}continue}segment=token.asterisk?encodeAsterisk(value):encode(value);if(!matches[i].test(segment)){throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"')}path+=token.prefix+segment}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(re,keys){re.keys=keys;return re}function flags(options){return options.sensitive?"":"i"}function regexpToRegexp(path,keys){var groups=path.source.match(/\((?!\?)/g);if(groups){for(var i=0;i<groups.length;i++){keys.push({name:i,prefix:null,delimiter:null,optional:false,repeat:false,partial:false,asterisk:false,pattern:null})}}return attachKeys(path,keys)}function arrayToRegexp(path,keys,options){var parts=[];for(var i=0;i<path.length;i++){parts.push(pathToRegexp(path[i],keys,options).source)}var regexp=new RegExp("(?:"+parts.join("|")+")",flags(options));return attachKeys(regexp,keys)}function stringToRegexp(path,keys,options){return tokensToRegExp(parse(path,options),keys,options)}function tokensToRegExp(tokens,keys,options){if(!index$1(keys)){options=keys||options;keys=[]}options=options||{};var strict=options.strict;var end=options.end!==false;var route="";for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){route+=escapeString(token)}else{var prefix=escapeString(token.prefix);var capture="(?:"+token.pattern+")";keys.push(token);if(token.repeat){capture+="(?:"+prefix+capture+")*"}if(token.optional){if(!token.partial){capture="(?:"+prefix+"("+capture+"))?"}else{capture=prefix+"("+capture+")?"}}else{capture=prefix+"("+capture+")"}route+=capture}}var delimiter=escapeString(options.delimiter||"/");var endsWithDelimiter=route.slice(-delimiter.length)===delimiter;if(!strict){route=(endsWithDelimiter?route.slice(0,-delimiter.length):route)+"(?:"+delimiter+"(?=$))?"}if(end){route+="$"}else{route+=strict&&endsWithDelimiter?"":"(?="+delimiter+"|$)"}return attachKeys(new RegExp("^"+route,flags(options)),keys)}function pathToRegexp(path,keys,options){if(!index$1(keys)){options=keys||options;keys=[]}options=options||{};if(path instanceof RegExp){return regexpToRegexp(path,keys)}if(index$1(path)){return arrayToRegexp(path,keys,options)}return stringToRegexp(path,keys,options)}index.parse=parse_1;index.compile=compile_1;index.tokensToFunction=tokensToFunction_1;index.tokensToRegExp=tokensToRegExp_1;var commonjsGlobal$1=typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function unwrapExports$1(x){return x&&x.__esModule?x["default"]:x}function createCommonjsModule$1(fn,module){return module={exports:{}},fn(module,module.exports),module.exports}var promise=createCommonjsModule$1(function(module){(function(root){var setTimeoutFunc=setTimeout;function noop(){}function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}function Promise(fn){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new")}if(typeof fn!=="function"){throw new TypeError("not a function")}this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];doResolve(fn,this)}function handle(self,deferred){while(self._state===3){self=self._value}if(self._state===0){self._deferreds.push(deferred);return}self._handled=true;Promise._immediateFn(function(){var cb=self._state===1?deferred.onFulfilled:deferred.onRejected;if(cb===null){(self._state===1?resolve:reject)(deferred.promise,self._value);return}var ret;try{ret=cb(self._value)}catch(e){reject(deferred.promise,e);return}resolve(deferred.promise,ret)})}function resolve(self,newValue){try{if(newValue===self){throw new TypeError("A promise cannot be resolved with itself.")}if(newValue&&(typeof newValue==="object"||typeof newValue==="function")){var then=newValue.then;if(newValue instanceof Promise){self._state=3;self._value=newValue;finale(self);return}else if(typeof then==="function"){doResolve(bind(then,newValue),self);return}}self._state=1;self._value=newValue;finale(self)}catch(e){reject(self,e)}}function reject(self,newValue){self._state=2;self._value=newValue;finale(self)}function finale(self){if(self._state===2&&self._deferreds.length===0){Promise._immediateFn(function(){if(!self._handled){Promise._unhandledRejectionFn(self._value)}})}for(var i=0,len=self._deferreds.length;i<len;i++){handle(self,self._deferreds[i])}self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled=typeof onFulfilled==="function"?onFulfilled:null;this.onRejected=typeof onRejected==="function"?onRejected:null;this.promise=promise}function doResolve(fn,self){var done=false;try{fn(function(value){if(done){return}done=true;resolve(self,value)},function(reason){if(done){return}done=true;reject(self,reason)})}catch(ex){if(done){return}done=true;reject(self,ex)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);handle(this,new Handler(onFulfilled,onRejected,prom));return prom};Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){if(args.length===0){return resolve([])}var remaining=args.length;function res(i,val){try{if(val&&(typeof val==="object"||typeof val==="function")){var then=val.then;if(typeof then==="function"){then.call(val,function(val){res(i,val)},reject);return}}args[i]=val;if(--remaining===0){resolve(args)}}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++){res(i,args[i])}})};Promise.resolve=function(value){if(value&&typeof value==="object"&&value.constructor===Promise){return value}return new Promise(function(resolve){resolve(value)})};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})};Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++){values[i].then(resolve,reject)}})};Promise._immediateFn=typeof setImmediate==="function"&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)};Promise._unhandledRejectionFn=function _unhandledRejectionFn(err){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",err)}};Promise._setImmediateFn=function _setImmediateFn(fn){Promise._immediateFn=fn};Promise._setUnhandledRejectionFn=function _setUnhandledRejectionFn(fn){Promise._unhandledRejectionFn=fn};if("object"!=="undefined"&&module.exports){module.exports=Promise}else if(!root.Promise){root.Promise=Promise}})(commonjsGlobal$1)});var warning=function(){};{warning=function(condition,format,args){var arguments$1=arguments;var len=arguments.length;args=new Array(len>2?len-2:0);for(var key=2;key<len;key++){args[key-2]=arguments$1[key]}if(format===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(format.length<10||/^[s\W]*$/.test(format)){throw new Error("The warning format should be able to uniquely identify this "+"warning. Please, use a more descriptive format than: "+format)}if(!condition){var argIndex=0;var message="Warning: "+format.replace(/%s/g,function(){return args[argIndex++]});if(typeof console!=="undefined"){console.error(message)}try{throw new Error(message)}catch(x){}}}}var browser=warning;var invariant=function(condition,format,a,b,c,d,e,f){{if(format===undefined){throw new Error("invariant requires an error message argument")}}if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]}));error.name="Invariant Violation"}error.framesToPop=1;throw error}};var browser$1=invariant;var isAbsolute=function isAbsolute(pathname){return pathname.charAt(0)==="/"};var spliceOne=function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1){list[i]=list[k]}list.pop()};var resolvePathname=function resolvePathname(to){var from=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var toParts=to&&to.split("/")||[];var fromParts=from&&from.split("/")||[];var isToAbs=to&&isAbsolute(to);var isFromAbs=from&&isAbsolute(from);var mustEndAbs=isToAbs||isFromAbs;if(to&&isAbsolute(to)){fromParts=toParts}else if(toParts.length){fromParts.pop();fromParts=fromParts.concat(toParts)}if(!fromParts.length){return"/"}var hasTrailingSlash=void 0;if(fromParts.length){var last=fromParts[fromParts.length-1];hasTrailingSlash=last==="."||last===".."||last===""}else{hasTrailingSlash=false}var up=0;for(var i=fromParts.length;i>=0;i--){var part=fromParts[i];if(part==="."){spliceOne(fromParts,i)}else if(part===".."){spliceOne(fromParts,i);up++}else if(up){spliceOne(fromParts,i);up--}}if(!mustEndAbs){for(;up--;up){fromParts.unshift("..")}}if(mustEndAbs&&fromParts[0]!==""&&(!fromParts[0]||!isAbsolute(fromParts[0]))){fromParts.unshift("")}var result=fromParts.join("/");if(hasTrailingSlash&&result.substr(-1)!=="/"){result+="/"}return result};var index$3=resolvePathname;var index$4=createCommonjsModule$1(function(module,exports){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var valueEqual=function valueEqual(a,b){if(a===b){return true}if(a==null||b==null){return false}if(Array.isArray(a)){return Array.isArray(b)&&a.length===b.length&&a.every(function(item,index){return valueEqual(item,b[index])})}var aType=typeof a==="undefined"?"undefined":_typeof(a);var bType=typeof b==="undefined"?"undefined":_typeof(b);if(aType!==bType){return false}if(aType==="object"){var aValue=a.valueOf();var bValue=b.valueOf();if(aValue!==a||bValue!==b){return valueEqual(aValue,bValue)}var aKeys=Object.keys(a);var bKeys=Object.keys(b);if(aKeys.length!==bKeys.length){return false}return aKeys.every(function(key){return valueEqual(a[key],b[key])})}return false};exports.default=valueEqual});var valueEqual=unwrapExports$1(index$4);var addLeadingSlash=function addLeadingSlash(path){return path.charAt(0)==="/"?path:"/"+path};var stripLeadingSlash=function stripLeadingSlash(path){return path.charAt(0)==="/"?path.substr(1):path};var hasBasename=function hasBasename(path,prefix){return new RegExp("^"+prefix+"(\\/|\\?|#|$)","i").test(path)};var stripBasename=function stripBasename(path,prefix){return hasBasename(path,prefix)?path.substr(prefix.length):path};var stripTrailingSlash=function stripTrailingSlash(path){return path.charAt(path.length-1)==="/"?path.slice(0,-1):path};var parsePath=function parsePath(path){var pathname=path||"/";var search="";var hash="";var hashIndex=pathname.indexOf("#");if(hashIndex!==-1){hash=pathname.substr(hashIndex);pathname=pathname.substr(0,hashIndex)}var searchIndex=pathname.indexOf("?");if(searchIndex!==-1){search=pathname.substr(searchIndex);pathname=pathname.substr(0,searchIndex)}return{pathname:pathname,search:search==="?"?"":search,hash:hash==="#"?"":hash}};var createPath=function createPath(location){var pathname=location.pathname,search=location.search,hash=location.hash;var path=pathname||"/";if(search&&search!=="?"){path+=search.charAt(0)==="?"?search:"?"+search}if(hash&&hash!=="#"){path+=hash.charAt(0)==="#"?hash:"#"+hash}return path};var _extends$1$1=Object.assign||function(target){var arguments$1=arguments;for(var i=1;i<arguments.length;i++){var source=arguments$1[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var createLocation=function createLocation(path,state,key,currentLocation){var location=void 0;if(typeof path==="string"){location=parsePath(path);location.state=state}else{location=_extends$1$1({},path);if(location.pathname===undefined){location.pathname=""}if(location.search){if(location.search.charAt(0)!=="?"){location.search="?"+location.search}}else{location.search=""}if(location.hash){if(location.hash.charAt(0)!=="#"){location.hash="#"+location.hash}}else{location.hash=""}if(state!==undefined&&location.state===undefined){location.state=state}}try{location.pathname=decodeURI(location.pathname)}catch(e){if(e instanceof URIError){throw new URIError('Pathname "'+location.pathname+'" could not be decoded. '+"This is likely caused by an invalid percent-encoding.")}else{throw e}}if(key){location.key=key}if(currentLocation){if(!location.pathname){location.pathname=currentLocation.pathname}else if(location.pathname.charAt(0)!=="/"){location.pathname=index$3(location.pathname,currentLocation.pathname)}}else{if(!location.pathname){location.pathname="/"}}return location};var locationsAreEqual=function locationsAreEqual(a,b){return a.pathname===b.pathname&&a.search===b.search&&a.hash===b.hash&&a.key===b.key&&valueEqual(a.state,b.state)};var createTransitionManager=function createTransitionManager(){var prompt=null;var setPrompt=function setPrompt(nextPrompt){browser(prompt==null,"A history supports only one prompt at a time");prompt=nextPrompt;return function(){if(prompt===nextPrompt){prompt=null}}};var confirmTransitionTo=function confirmTransitionTo(location,action,getUserConfirmation,callback){if(prompt!=null){var result=typeof prompt==="function"?prompt(location,action):prompt;if(typeof result==="string"){if(typeof getUserConfirmation==="function"){getUserConfirmation(result,callback)}else{browser(false,"A history needs a getUserConfirmation function in order to use a prompt message");callback(true)}}else{callback(result!==false)}}else{callback(true)}};var listeners=[];var appendListener=function appendListener(fn){var isActive=true;var listener=function listener(){if(isActive){fn.apply(undefined,arguments)}};listeners.push(listener);return function(){isActive=false;listeners=listeners.filter(function(item){return item!==listener})}};var notifyListeners=function notifyListeners(){var arguments$1=arguments;for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments$1[_key]}listeners.forEach(function(listener){return listener.apply(undefined,args)})};return{setPrompt:setPrompt,confirmTransitionTo:confirmTransitionTo,appendListener:appendListener,notifyListeners:notifyListeners}};var canUseDOM=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);var addEventListener=function addEventListener(node,event,listener){return node.addEventListener?node.addEventListener(event,listener,false):node.attachEvent("on"+event,listener)};var removeEventListener=function removeEventListener(node,event,listener){return node.removeEventListener?node.removeEventListener(event,listener,false):node.detachEvent("on"+event,listener)};var getConfirmation=function getConfirmation(message,callback){return callback(window.confirm(message))};var supportsHistory=function supportsHistory(){var ua=window.navigator.userAgent;if((ua.indexOf("Android 2.")!==-1||ua.indexOf("Android 4.0")!==-1)&&ua.indexOf("Mobile Safari")!==-1&&ua.indexOf("Chrome")===-1&&ua.indexOf("Windows Phone")===-1){return false}return window.history&&"pushState"in window.history};var supportsPopStateOnHashChange=function supportsPopStateOnHashChange(){return window.navigator.userAgent.indexOf("Trident")===-1};var supportsGoWithoutReloadUsingHash=function supportsGoWithoutReloadUsingHash(){return window.navigator.userAgent.indexOf("Firefox")===-1};var isExtraneousPopstateEvent=function isExtraneousPopstateEvent(event){return event.state===undefined&&navigator.userAgent.indexOf("CriOS")===-1};var _typeof$2=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _extends$7=Object.assign||function(target){var arguments$1=arguments;for(var i=1;i<arguments.length;i++){var source=arguments$1[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var PopStateEvent="popstate";var HashChangeEvent="hashchange";var getHistoryState=function getHistoryState(){try{return window.history.state||{}}catch(e){return{}}};var createBrowserHistory=function createBrowserHistory(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};browser$1(canUseDOM,"Browser history needs a DOM");var globalHistory=window.history;var canUseHistory=supportsHistory();var needsHashChangeListener=!supportsPopStateOnHashChange();var _props$forceRefresh=props.forceRefresh,forceRefresh=_props$forceRefresh===undefined?false:_props$forceRefresh,_props$getUserConfirm=props.getUserConfirmation,getUserConfirmation=_props$getUserConfirm===undefined?getConfirmation:_props$getUserConfirm,_props$keyLength=props.keyLength,keyLength=_props$keyLength===undefined?6:_props$keyLength;var basename=props.basename?stripTrailingSlash(addLeadingSlash(props.basename)):"";var getDOMLocation=function getDOMLocation(historyState){var _ref=historyState||{},key=_ref.key,state=_ref.state;var _window$location=window.location,pathname=_window$location.pathname,search=_window$location.search,hash=_window$location.hash;var path=pathname+search+hash;browser(!basename||hasBasename(path,basename),"You are attempting to use a basename on a page whose URL path does not begin "+'with the basename. Expected path "'+path+'" to begin with "'+basename+'".');if(basename){path=stripBasename(path,basename)}return createLocation(path,state,key)};var createKey=function createKey(){return Math.random().toString(36).substr(2,keyLength)};var transitionManager=createTransitionManager();var setState=function setState(nextState){_extends$7(history,nextState);history.length=globalHistory.length;transitionManager.notifyListeners(history.location,history.action)};var handlePopState=function handlePopState(event){if(isExtraneousPopstateEvent(event)){return}handlePop(getDOMLocation(event.state))};var handleHashChange=function handleHashChange(){handlePop(getDOMLocation(getHistoryState()))};var forceNextPop=false;var handlePop=function handlePop(location){if(forceNextPop){forceNextPop=false;setState()}else{var action="POP";transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(ok){setState({action:action,location:location})}else{revertPop(location)}})}};var revertPop=function revertPop(fromLocation){var toLocation=history.location;var toIndex=allKeys.indexOf(toLocation.key);if(toIndex===-1){toIndex=0}var fromIndex=allKeys.indexOf(fromLocation.key);if(fromIndex===-1){fromIndex=0}var delta=toIndex-fromIndex;if(delta){forceNextPop=true;go(delta)}};var initialLocation=getDOMLocation(getHistoryState());var allKeys=[initialLocation.key];var createHref=function createHref(location){return basename+createPath(location)};var push=function push(path,state){browser(!((typeof path==="undefined"?"undefined":_typeof$2(path))==="object"&&path.state!==undefined&&state!==undefined),"You should avoid providing a 2nd state argument to push when the 1st "+"argument is a location-like object that already has state; it is ignored");var action="PUSH";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok){return}var href=createHref(location);var key=location.key,state=location.state;if(canUseHistory){globalHistory.pushState({key:key,state:state},null,href);if(forceRefresh){window.location.href=href}else{var prevIndex=allKeys.indexOf(history.location.key);var nextKeys=allKeys.slice(0,prevIndex===-1?0:prevIndex+1);nextKeys.push(location.key);allKeys=nextKeys;setState({action:action,location:location})}}else{browser(state===undefined,"Browser history cannot push state in browsers that do not support HTML5 history");window.location.href=href}})};var replace=function replace(path,state){browser(!((typeof path==="undefined"?"undefined":_typeof$2(path))==="object"&&path.state!==undefined&&state!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st "+"argument is a location-like object that already has state; it is ignored");var action="REPLACE";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok){return}var href=createHref(location);var key=location.key,state=location.state;if(canUseHistory){globalHistory.replaceState({key:key,state:state},null,href);if(forceRefresh){window.location.replace(href)}else{var prevIndex=allKeys.indexOf(history.location.key);if(prevIndex!==-1){allKeys[prevIndex]=location.key}setState({action:action,location:location})}}else{browser(state===undefined,"Browser history cannot replace state in browsers that do not support HTML5 history");window.location.replace(href)}})};var go=function go(n){globalHistory.go(n)};var goBack=function goBack(){return go(-1)};var goForward=function goForward(){return go(1)};var listenerCount=0;var checkDOMListeners=function checkDOMListeners(delta){listenerCount+=delta;if(listenerCount===1){addEventListener(window,PopStateEvent,handlePopState);if(needsHashChangeListener){addEventListener(window,HashChangeEvent,handleHashChange)}}else if(listenerCount===0){removeEventListener(window,PopStateEvent,handlePopState);if(needsHashChangeListener){removeEventListener(window,HashChangeEvent,handleHashChange)}}};var isBlocked=false;var block=function block(){var prompt=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var unblock=transitionManager.setPrompt(prompt);if(!isBlocked){checkDOMListeners(1);isBlocked=true}return function(){if(isBlocked){isBlocked=false;checkDOMListeners(-1)}return unblock()}};var listen=function listen(listener){var unlisten=transitionManager.appendListener(listener);checkDOMListeners(1);return function(){checkDOMListeners(-1);unlisten()}};var history={length:globalHistory.length,action:"POP",location:initialLocation,createHref:createHref,push:push,replace:replace,go:go,goBack:goBack,goForward:goForward,block:block,listen:listen};return history};var _extends$2$1=Object.assign||function(target){var arguments$1=arguments;for(var i=1;i<arguments.length;i++){var source=arguments$1[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var HashChangeEvent$1="hashchange";var HashPathCoders={hashbang:{encodePath:function encodePath(path){return path.charAt(0)==="!"?path:"!/"+stripLeadingSlash(path)},decodePath:function decodePath(path){return path.charAt(0)==="!"?path.substr(1):path}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};var getHashPath=function getHashPath(){var href=window.location.href;var hashIndex=href.indexOf("#");return hashIndex===-1?"":href.substring(hashIndex+1)};var pushHashPath=function pushHashPath(path){return window.location.hash=path};var replaceHashPath=function replaceHashPath(path){var hashIndex=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,hashIndex>=0?hashIndex:0)+"#"+path)};var createHashHistory=function createHashHistory(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};browser$1(canUseDOM,"Hash history needs a DOM");var globalHistory=window.history;var canGoWithoutReload=supportsGoWithoutReloadUsingHash();var _props$getUserConfirm=props.getUserConfirmation,getUserConfirmation=_props$getUserConfirm===undefined?getConfirmation:_props$getUserConfirm,_props$hashType=props.hashType,hashType=_props$hashType===undefined?"slash":_props$hashType;var basename=props.basename?stripTrailingSlash(addLeadingSlash(props.basename)):"";var _HashPathCoders$hashT=HashPathCoders[hashType],encodePath=_HashPathCoders$hashT.encodePath,decodePath=_HashPathCoders$hashT.decodePath;var getDOMLocation=function getDOMLocation(){var path=decodePath(getHashPath());browser(!basename||hasBasename(path,basename),"You are attempting to use a basename on a page whose URL path does not begin "+'with the basename. Expected path "'+path+'" to begin with "'+basename+'".');if(basename){path=stripBasename(path,basename)}return createLocation(path)};var transitionManager=createTransitionManager();var setState=function setState(nextState){_extends$2$1(history,nextState);history.length=globalHistory.length;transitionManager.notifyListeners(history.location,history.action)};var forceNextPop=false;var ignorePath=null;var handleHashChange=function handleHashChange(){var path=getHashPath();var encodedPath=encodePath(path);if(path!==encodedPath){replaceHashPath(encodedPath)}else{var location=getDOMLocation();var prevLocation=history.location;if(!forceNextPop&&locationsAreEqual(prevLocation,location)){return}if(ignorePath===createPath(location)){return}ignorePath=null;handlePop(location)}};var handlePop=function handlePop(location){if(forceNextPop){forceNextPop=false;setState()}else{var action="POP";transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(ok){setState({action:action,location:location})}else{revertPop(location)}})}};var revertPop=function revertPop(fromLocation){var toLocation=history.location;var toIndex=allPaths.lastIndexOf(createPath(toLocation));if(toIndex===-1){toIndex=0}var fromIndex=allPaths.lastIndexOf(createPath(fromLocation));if(fromIndex===-1){fromIndex=0}var delta=toIndex-fromIndex;if(delta){forceNextPop=true;go(delta)}};var path=getHashPath();var encodedPath=encodePath(path);if(path!==encodedPath){replaceHashPath(encodedPath)}var initialLocation=getDOMLocation();var allPaths=[createPath(initialLocation)];var createHref=function createHref(location){return"#"+encodePath(basename+createPath(location))};var push=function push(path,state){browser(state===undefined,"Hash history cannot push state; it is ignored");var action="PUSH";var location=createLocation(path,undefined,undefined,history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok){return}var path=createPath(location);var encodedPath=encodePath(basename+path);var hashChanged=getHashPath()!==encodedPath;if(hashChanged){ignorePath=path;pushHashPath(encodedPath);var prevIndex=allPaths.lastIndexOf(createPath(history.location));var nextPaths=allPaths.slice(0,prevIndex===-1?0:prevIndex+1);nextPaths.push(path);allPaths=nextPaths;setState({action:action,location:location})}else{browser(false,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack");setState()}})};var replace=function replace(path,state){browser(state===undefined,"Hash history cannot replace state; it is ignored");var action="REPLACE";var location=createLocation(path,undefined,undefined,history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok){return}var path=createPath(location);var encodedPath=encodePath(basename+path);var hashChanged=getHashPath()!==encodedPath;if(hashChanged){ignorePath=path;replaceHashPath(encodedPath)}var prevIndex=allPaths.indexOf(createPath(history.location));if(prevIndex!==-1){allPaths[prevIndex]=path}setState({action:action,location:location})})};var go=function go(n){browser(canGoWithoutReload,"Hash history go(n) causes a full page reload in this browser");globalHistory.go(n)};var goBack=function goBack(){return go(-1)};var goForward=function goForward(){return go(1)};var listenerCount=0;var checkDOMListeners=function checkDOMListeners(delta){listenerCount+=delta;if(listenerCount===1){addEventListener(window,HashChangeEvent$1,handleHashChange)}else if(listenerCount===0){removeEventListener(window,HashChangeEvent$1,handleHashChange)}};var isBlocked=false;var block=function block(){var prompt=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var unblock=transitionManager.setPrompt(prompt);if(!isBlocked){checkDOMListeners(1);isBlocked=true}return function(){if(isBlocked){isBlocked=false;checkDOMListeners(-1)}return unblock()}};var listen=function listen(listener){var unlisten=transitionManager.appendListener(listener);checkDOMListeners(1);return function(){checkDOMListeners(-1);unlisten()}};var history={length:globalHistory.length,action:"POP",location:initialLocation,createHref:createHref,push:push,replace:replace,go:go,goBack:goBack,goForward:goForward,block:block,listen:listen};return history};var _typeof$1$1=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _extends$3$1=Object.assign||function(target){var arguments$1=arguments;for(var i=1;i<arguments.length;i++){var source=arguments$1[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var clamp=function clamp(n,lowerBound,upperBound){return Math.min(Math.max(n,lowerBound),upperBound)};var createMemoryHistory=function createMemoryHistory(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var getUserConfirmation=props.getUserConfirmation,_props$initialEntries=props.initialEntries,initialEntries=_props$initialEntries===undefined?["/"]:_props$initialEntries,_props$initialIndex=props.initialIndex,initialIndex=_props$initialIndex===undefined?0:_props$initialIndex,_props$keyLength=props.keyLength,keyLength=_props$keyLength===undefined?6:_props$keyLength;var transitionManager=createTransitionManager();var setState=function setState(nextState){_extends$3$1(history,nextState);history.length=history.entries.length;transitionManager.notifyListeners(history.location,history.action)};var createKey=function createKey(){return Math.random().toString(36).substr(2,keyLength)};var index=clamp(initialIndex,0,initialEntries.length-1);var entries=initialEntries.map(function(entry){return typeof entry==="string"?createLocation(entry,undefined,createKey()):createLocation(entry,undefined,entry.key||createKey())});var createHref=createPath;var push=function push(path,state){browser(!((typeof path==="undefined"?"undefined":_typeof$1$1(path))==="object"&&path.state!==undefined&&state!==undefined),"You should avoid providing a 2nd state argument to push when the 1st "+"argument is a location-like object that already has state; it is ignored");var action="PUSH";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok){return}var prevIndex=history.index;var nextIndex=prevIndex+1;var nextEntries=history.entries.slice(0);if(nextEntries.length>nextIndex){nextEntries.splice(nextIndex,nextEntries.length-nextIndex,location)}else{nextEntries.push(location)}setState({action:action,location:location,index:nextIndex,entries:nextEntries})})};var replace=function replace(path,state){browser(!((typeof path==="undefined"?"undefined":_typeof$1$1(path))==="object"&&path.state!==undefined&&state!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st "+"argument is a location-like object that already has state; it is ignored");var action="REPLACE";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok){return}history.entries[history.index]=location;setState({action:action,location:location})})};var go=function go(n){var nextIndex=clamp(history.index+n,0,history.entries.length-1);var action="POP";var location=history.entries[nextIndex];transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(ok){setState({action:action,location:location,index:nextIndex})}else{setState()}})};var goBack=function goBack(){return go(-1)};var goForward=function goForward(){return go(1)};var canGo=function canGo(n){var nextIndex=history.index+n;return nextIndex>=0&&nextIndex<history.entries.length};var block=function block(){var prompt=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return transitionManager.setPrompt(prompt)};var listen=function listen(listener){return transitionManager.appendListener(listener)};var history={length:entries.length,action:"POP",location:entries[index],index:index,entries:entries,createHref:createHref,push:push,replace:replace,go:go,goBack:goBack,goForward:goForward,canGo:canGo,block:block,listen:listen};return history};var constants={BROWSER:"BROWSER",MEMORY:"MEMORY",HASH:"HASH"};var Router=function Router(type){if(type===void 0){type=constants.BROWSER}switch(type){case constants.BROWSER:this._history=createBrowserHistory();break;case constants.MEMORY:this._history=createMemoryHistory();break;case constants.HASH:this._history=createHashHistory();break;default:break}this._routes=[];this._unlistener=null;this._onBefore=null;this._onBeforeOnce=null;this._onAfter=null;this._onAfterOnce=null};Router.prototype.start=function start(autoExec){var this$1=this;if(autoExec===void 0){autoExec=true}this._unlistener=this._history.listen(function(location,action){this$1._change(location,action)});if(autoExec){this._change(this.getCurrentLocation(),this.getCurrentAction())}};Router.prototype.stop=function stop(){if(!this._unlistener){return}this._unlistener();this._unlistener=null};Router.prototype.on=function on(pattern,onEnter,onBefore,onAfter){var keys=[];var regexp=index(pattern,keys);this._routes.push({pattern:pattern,regexp:regexp,keys:keys,onEnter:onEnter,onBefore:onBefore,onAfter:onAfter});return this};Router.prototype.onBefore=function onBefore(func){this._onBefore=func;return this};Router.prototype.onBeforeOnce=function onBeforeOnce(func){this._onBeforeOnce=func;return this};Router.prototype.onAfter=function onAfter(func){this._onAfter=func;return this};Router.prototype.onAfterOnce=function onAfterOnce(func){this._onAfterOnce=func;return this};Router.prototype.navigateTo=function navigateTo(path){var this$1=this;return promise.resolve().then(function(){if(this$1.getCurrentLocation().pathname===path){console.warn("same path is passed.");return}this$1._history.push(path)})};Router.prototype.replace=function replace(path){var this$1=this;return promise.resolve().then(function(){if(this$1.getCurrentLocation().pathname===path){console.warn("same path is passed.");return}this$1._history.replace(path)})};Router.prototype.getCurrentLocation=function getCurrentLocation(){return this._history.location};Router.prototype.getCurrentAction=function getCurrentAction(){return this._history.action};Router.prototype.createHref=function createHref(pathname){return this._history.createHref({pathname:pathname})};Router.prototype._change=function _change(location){var this$1=this;var route=array_1(this._routes,function(route){return!!route.regexp.exec(location.pathname)});if(!route){return}var data=this._parseLocation(location,route);var isReplaced=false;var replace=function(path){isReplaced=true;this$1.replace(path)};promise.resolve().then(function(){if(!this$1._onBeforeOnce){return promise.resolve()}var onBeforeOnce=this$1._onBeforeOnce;this$1._onBeforeOnce=null;return onBeforeOnce(data)}).then(function(){if(!this$1._onBefore){return promise.resolve()}return this$1._onBefore(data)}).then(function(){if(!route.onBefore){return promise.resolve()}return route.onBefore(data,replace)}).then(function(){if(isReplaced||!route.onEnter){return promise.resolve()}return route.onEnter(data)}).then(function(){if(isReplaced||!route.onAfter){return promise.resolve()}return route.onAfter(data)}).then(function(){if(isReplaced||!this$1._onAfter){return promise.resolve()}return this$1._onAfter(data)}).then(function(){if(isReplaced||!this$1._onAfterOnce){return promise.resolve()}var onAfterOnce=this$1._onAfterOnce;this$1._onAfterOnce=null;return onAfterOnce(data)}).catch(function(err){console.error(err.message||"couldn't route. check the onBefore and onAfter functions.")})};Router.prototype._parseLocation=function _parseLocation(location,route){var params={};var list=route.regexp.exec(location.pathname).slice(1);array_2(route.keys,function(v,i){params[v.name]=list[i]});var queries={};array_2(location.search.slice(1).split("&"),function(v){if(!v){return}var pair=v.split("=");queries[pair[0]]=pair[1]});var hash=location.hash.slice(1);return{params:params,queries:queries,hash:hash,pathname:location.pathname}};Router.BROWSER=constants.BROWSER;Router.MEMORY=constants.MEMORY;Router.HASH=constants.HASH;var script=function(){const updateText=()=>{const json=JSON.stringify(this.opts.data,undefined,4);let text=json.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");text=text.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,match=>{let cls="number";if(/^"/.test(match)){if(/:$/.test(match)){cls="key"}else{cls="string"}}else if(/true|false/.test(match)){cls="boolean"}else if(/null/.test(match)){cls="null"}return'<span class="Prettyprint__'+cls+'">'+match+"</span>"});this.refs.canvas.innerHTML=text};this.on("mount",()=>{updateText()}).on("updated",()=>{updateText()})};riot$1.tag2("viron-prettyprint",'<pre class="Prettyprint__canvas" ref="canvas"></pre>',"",'class="Prettyprint"',function(opts){this.external(script)});var script$1=function(){this.title=this.opts.title;this.message=this.opts.message;if(!!this.opts.error){this.title=this.title||this.opts.error.name||this.opts.error.statusText||"Error";this.message=this.message||this.opts.error.message}this.detail=null;this.on("mount",()=>{const error=this.opts.error;if(!error){return}if(error instanceof Error){return}Promise.resolve().then(()=>{if(!!error.json){return error.json()}return error.text().then(text=>JSON.parse(text))}).then(json=>{const error=json.error;this.detail=error;!this.opts.title&&!!error.name&&(this.title=error.name);!this.opts.message&&!!error.data&&!!error.data.message&&(this.message=error.data.message);this.update()}).catch(()=>{return Promise.resolve()})})};riot$1.tag2("viron-error",'<div class="Error__title">{title}</div> <div class="Error__message" if="{!!message}">{message}</div> <viron-prettyprint if="{!!detail}" data="{detail}"></viron-prettyprint>',"",'class="Error"',function(opts){this.external(script$1)});var ComponentsRoute={onBefore:(store,route,replace)=>{const endpointKey=route.params.endpointKey;const endpoint=store.getter("endpoints.one",endpointKey);if(!endpoint){return Promise.resolve().then(()=>{replace("/")}).catch(err=>store.action("modals.add","viron-error",{error:err}))}return Promise.resolve().then(()=>store.action("current.update",endpointKey)).then(()=>{const isVironExist=store.getter("viron.existence");if(isVironExist){return Promise.resolve()}return Promise.resolve().then(()=>store.action("oas.setup",endpointKey,endpoint.url,endpoint.token)).then(()=>store.action("viron.get"))}).then(()=>{if(!route.params.page){return Promise.resolve().then(()=>{const pageName=store.getter("viron.pageIdOf",0);replace(`/${endpointKey}/${pageName}`)})}return store.action("page.get",route.params.page)}).catch(err=>{if(err.status!==401){return store.action("modals.add","viron-error",{error:err})}return Promise.resolve().then(()=>store.action("modals.add","viron-error",{title:"Ë™çË®ºÂàá„Çå",message:"Ë™çË®º„ÅåÂàá„Çå„Åæ„Åó„Åü„ÄÇÂÜçÂ∫¶„É≠„Ç∞„Ç§„É≥„Åó„Å¶‰∏ã„Åï„ÅÑ„ÄÇ"})).then(()=>{replace("/")})})},onEnter:(store,route)=>{return store.action("location.update",{name:"components",route:route})}};var EndpointsRoute={onBefore:store=>{return Promise.resolve().then(()=>Promise.all([store.action("current.remove"),store.action("page.remove"),store.action("oas.clear"),store.action("viron.remove")])).catch(err=>store.action("modals.add","viron-error",{error:err}))},onEnter:(store,route)=>{return store.action("location.update",{name:"endpoints",route:route})}};var EndpointimportRoute={onBefore:(store,route,replace)=>{let url;return Promise.resolve().then(()=>{const endpoint=JSON.parse(decodeURIComponent(route.queries.endpoint));url=endpoint.url;return store.action("endpoints.mergeOneWithKey",endpoint)}).then(()=>store.action("modals.add","viron-error",{title:"„Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàËøΩÂä†",message:`„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà(${url})„Åå‰∏ÄË¶ß„Å´ËøΩÂä†„Åï„Çå„Åæ„Åó„Åü„ÄÇ`})).then(()=>{replace("/")}).catch(err=>store.action("modals.add","viron-error",{title:"„Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàËøΩÂä† Â§±Êïó",message:`„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà(${url})„ÇíËøΩÂä†Âá∫Êù•„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ`,error:err}))}};var NotfoundRoute={onEnter:(store,route)=>{return store.action("location.update",{name:"notfound",route:route})}};var OauthredirectRoute={onBefore:(store,route,replace)=>{const endpointKey=route.params.endpointKey;const token=route.queries.token;const isAuthorized=!!token;let to;const tasks=[];if(isAuthorized){to=`/${endpointKey}`;tasks.push(store.action("auth.update",endpointKey,decodeURIComponent(token)))}else{to="/";tasks.push(store.action("auth.remove",endpointKey));tasks.push(store.action("modals.add","viron-error",{title:"Ë™çË®ºÂ§±Êïó",message:"OAuthË™çË®º„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÊ≠£„Åó„ÅÑ„Ç¢„Ç´„Ç¶„É≥„Éà„ÅßÂÜçÂ∫¶„ÅäË©¶„Åó‰∏ã„Åï„ÅÑ„ÄÇË©≥„Åó„ÅÑ„Ç®„É©„ÉºÂéüÂõ†„Å´„Å§„ÅÑ„Å¶„ÅØÁÆ°ÁêÜËÄÖ„Å´Âïè„ÅÑÂêà„Çè„Åõ„Å¶‰∏ã„Åï„ÅÑ„ÄÇ"}))}return Promise.all(tasks).then(()=>{replace(to)}).catch(err=>store.action("modals.add","viron-error",{error:err}))}};let esr;var router={init:store=>{return Promise.resolve().then(()=>{const router=new Router(Router.HASH);router.onBefore(()=>Promise.all([store.action("application.startNavigation")])).on("/",route=>EndpointsRoute.onEnter(store,route),(route,replace)=>EndpointsRoute.onBefore(store,route,replace)).on("/oauthredirect/:endpointKey",()=>Promise.resolve(),(route,replace)=>OauthredirectRoute.onBefore(store,route,replace)).on("/endpointimport",()=>Promise.resolve(),(route,replace)=>EndpointimportRoute.onBefore(store,route,replace)).on("/:endpointKey/:page?",route=>ComponentsRoute.onEnter(store,route),(route,replace)=>ComponentsRoute.onBefore(store,route,replace)).on("*",route=>NotfoundRoute.onEnter(store,route)).onAfter(()=>Promise.all([store.action("application.endNavigation")])).onAfterOnce(()=>store.action("application.launch"));return router}).then(router=>{router.start();esr=router;return router})},getInstance:()=>{return esr}};const isTouchEventSupported="ontouchstart"in document;const TAP_ALLOW_RANGE=10;const TAP_HOLD_CLASSNAME="hold";var mixin={init:()=>{return Promise.resolve().then(()=>{riot$1.settings.autoUpdate=false;riot$1.mixin({init:function(){this.i18n=i18n.get()},listen:function(...args){const store=this.riotx.get();this.riotxChange(store,...args)},external:function(script){const tag=this;script.apply(tag)},close:function(){if(this.opts.isModal){this.opts.modalCloser()}if(this.opts.isDrawer){this.opts.drawerCloser()}if(this.opts.isPopover){this.opts.popoverCloser()}},getRouter:()=>{return router.getInstance()},getClickHandler:function(handlerName){if(isTouchEventSupported){return false}let context=this;while(handlerName.indexOf("parent.")===0){handlerName=handlerName.replace("parent.","");context=context.parent}return context[handlerName]},getTouchStartHandler:function(){if(!isTouchEventSupported){return false}return e=>{const initX=e.touches[0].pageX;const initY=e.touches[0].pageY;e.currentTarget.setAttribute("touch_start_x",initX);e.currentTarget.setAttribute("touch_start_y",initY);e.currentTarget.classList.add(TAP_HOLD_CLASSNAME)}},getTouchMoveHandler:function(){if(!isTouchEventSupported){return false}return e=>{const isPressed=e.currentTarget.classList.contains(TAP_HOLD_CLASSNAME);if(!isPressed){return}const initX=e.currentTarget.getAttribute("touch_start_x");const initY=e.currentTarget.getAttribute("touch_start_y");const curX=e.touches[0].pageX;const curY=e.touches[0].pageY;const distanceX=curX-initX;const distanceY=curY-initY;const hypotenuse=Math.sqrt(Math.pow(distanceX,2)+Math.pow(distanceY,2));if(hypotenuse>=TAP_ALLOW_RANGE){e.currentTarget.classList.remove(TAP_HOLD_CLASSNAME)}}},getTouchEndHandler:function(handlerName){if(!isTouchEventSupported){return false}let context=this;while(handlerName.indexOf("parent.")===0){handlerName=handlerName.replace("parent.","");context=context.parent}const handler=context[handlerName];return e=>{const isPressed=e.currentTarget.classList.contains(TAP_HOLD_CLASSNAME);if(isPressed){handler(e)}e.currentTarget.classList.remove(TAP_HOLD_CLASSNAME)}}})})}};var promise$1=createCommonjsModule(function(module){(function(root){var setTimeoutFunc=setTimeout;function noop(){}function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}function Promise(fn){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new")}if(typeof fn!=="function"){throw new TypeError("not a function")}this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];doResolve(fn,this)}function handle(self,deferred){while(self._state===3){self=self._value}if(self._state===0){self._deferreds.push(deferred);return}self._handled=true;Promise._immediateFn(function(){var cb=self._state===1?deferred.onFulfilled:deferred.onRejected;if(cb===null){(self._state===1?resolve:reject)(deferred.promise,self._value);return}var ret;try{ret=cb(self._value)}catch(e){reject(deferred.promise,e);return}resolve(deferred.promise,ret)})}function resolve(self,newValue){try{if(newValue===self){throw new TypeError("A promise cannot be resolved with itself.")}if(newValue&&(typeof newValue==="object"||typeof newValue==="function")){var then=newValue.then;if(newValue instanceof Promise){self._state=3;self._value=newValue;finale(self);return}else if(typeof then==="function"){doResolve(bind(then,newValue),self);return}}self._state=1;self._value=newValue;finale(self)}catch(e){reject(self,e)}}function reject(self,newValue){self._state=2;self._value=newValue;finale(self)}function finale(self){if(self._state===2&&self._deferreds.length===0){Promise._immediateFn(function(){if(!self._handled){Promise._unhandledRejectionFn(self._value)}})}for(var i=0,len=self._deferreds.length;i<len;i++){handle(self,self._deferreds[i])}self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled=typeof onFulfilled==="function"?onFulfilled:null;this.onRejected=typeof onRejected==="function"?onRejected:null;this.promise=promise}function doResolve(fn,self){var done=false;try{fn(function(value){if(done){return}done=true;resolve(self,value)},function(reason){if(done){return}done=true;reject(self,reason)})}catch(ex){if(done){return}done=true;reject(self,ex)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);handle(this,new Handler(onFulfilled,onRejected,prom));return prom};Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){if(args.length===0){return resolve([])}var remaining=args.length;function res(i,val){try{if(val&&(typeof val==="object"||typeof val==="function")){var then=val.then;if(typeof then==="function"){then.call(val,function(val){res(i,val)},reject);return}}args[i]=val;if(--remaining===0){resolve(args)}}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++){res(i,args[i])}})};Promise.resolve=function(value){if(value&&typeof value==="object"&&value.constructor===Promise){return value}return new Promise(function(resolve){resolve(value)})};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})};Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++){values[i].then(resolve,reject)}})};Promise._immediateFn=typeof setImmediate==="function"&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)};Promise._unhandledRejectionFn=function _unhandledRejectionFn(err){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",err)}};Promise._setImmediateFn=function _setImmediateFn(fn){Promise._immediateFn=fn};Promise._setUnhandledRejectionFn=function _setUnhandledRejectionFn(fn){Promise._unhandledRejectionFn=fn};if("object"!=="undefined"&&module.exports){module.exports=Promise}else if(!root.Promise){root.Promise=Promise}})(commonjsGlobal)});(function(self){"use strict";if(self.fetch){return}var support={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(support.arrayBuffer){var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var isDataView=function(obj){return obj&&DataView.prototype.isPrototypeOf(obj)};var isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1}}function normalizeName(name){if(typeof name!=="string"){name=String(name)}if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)){throw new TypeError("Invalid character in header field name")}return name.toLowerCase()}function normalizeValue(value){if(typeof value!=="string"){value=String(value)}return value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:value===undefined,value:value}}};if(support.iterable){iterator[Symbol.iterator]=function(){return iterator}}return iterator}function Headers(headers){this.map={};if(headers instanceof Headers){headers.forEach(function(value,name){this.append(name,value)},this)}else if(Array.isArray(headers)){headers.forEach(function(header){this.append(header[0],header[1])},this)}else if(headers){Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}}Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+","+value:value};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){name=normalizeName(name);return this.has(name)?this.map[name]:null};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)};Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map){if(this.map.hasOwnProperty(name)){callback.call(thisArg,this.map[name],name,this)}}};Headers.prototype.keys=function(){var items=[];this.forEach(function(value,name){items.push(name)});return iteratorFor(items)};Headers.prototype.values=function(){var items=[];this.forEach(function(value){items.push(value)});return iteratorFor(items)};Headers.prototype.entries=function(){var items=[];this.forEach(function(value,name){items.push([name,value])});return iteratorFor(items)};if(support.iterable){Headers.prototype[Symbol.iterator]=Headers.prototype.entries}function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError("Already read"))}body.bodyUsed=true}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsArrayBuffer(blob);return promise}function readBlobAsText(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsText(blob);return promise}function readArrayBufferAsText(buf){var view=new Uint8Array(buf);var chars=new Array(view.length);for(var i=0;i<view.length;i++){chars[i]=String.fromCharCode(view[i])}return chars.join("")}function bufferClone(buf){if(buf.slice){return buf.slice(0)}else{var view=new Uint8Array(buf.byteLength);view.set(new Uint8Array(buf));return view.buffer}}function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(!body){this._bodyText=""}else if(typeof body==="string"){this._bodyText=body}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this._bodyText=body.toString()}else if(support.arrayBuffer&&support.blob&&isDataView(body)){this._bodyArrayBuffer=bufferClone(body.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))){this._bodyArrayBuffer=bufferClone(body)}else{throw new Error("unsupported BodyInit type")}if(!this.headers.get("content-type")){if(typeof body==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return consumed(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(readBlobAsArrayBuffer)}}}this.text=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return readBlobAsText(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(support.formData){this.formData=function(){return this.text().then(decode)}}this.json=function(){return this.text().then(JSON.parse)};return this}var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){options=options||{};var body=options.body;if(input instanceof Request){if(input.bodyUsed){throw new TypeError("Already read")}this.url=input.url;this.credentials=input.credentials;if(!options.headers){this.headers=new Headers(input.headers)}this.method=input.method;this.mode=input.mode;if(!body&&input._bodyInit!=null){body=input._bodyInit;input.bodyUsed=true}}else{this.url=String(input)}this.credentials=options.credentials||this.credentials||"omit";if(options.headers||!this.headers){this.headers=new Headers(options.headers)}this.method=normalizeMethod(options.method||this.method||"GET");this.mode=options.mode||this.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&body){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(body)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})};function decode(body){var form=new FormData;body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}});return form}function parseHeaders(rawHeaders){var headers=new Headers;rawHeaders.split(/\r?\n/).forEach(function(line){var parts=line.split(":");var key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}});return headers}Body.call(Request.prototype);function Response(bodyInit,options){if(!options){options={}}this.type="default";this.status="status"in options?options.status:200;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in options?options.statusText:"OK";this.headers=new Headers(options.headers);this.url=options.url||"";this._initBody(bodyInit)}Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var response=new Response(null,{status:0,statusText:""});response.type="error";return response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(redirectStatuses.indexOf(status)===-1){throw new RangeError("Invalid status code")}return new Response(null,{status:status,headers:{location:url}})};self.Headers=Headers;self.Request=Request;self.Response=Response;self.fetch=function(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);var xhr=new XMLHttpRequest;xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:parseHeaders(xhr.getAllResponseHeaders()||"")};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.ontimeout=function(){reject(new TypeError("Network request failed"))};xhr.open(request.method,request.url,true);if(request.credentials==="include"){xhr.withCredentials=true}if("responseType"in xhr&&support.blob){xhr.responseType="blob"}request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});xhr.send(typeof request._bodyInit==="undefined"?null:request._bodyInit)})};self.fetch.polyfill=true})(typeof self!=="undefined"?self:window);window.Promise=promise$1;var VERSION$1="0.9.4";function forEach$1(arr,callback,thisObj){if(arr==null){return}var i=-1,len=arr.length;while(++i<len){if(callback.call(thisObj,arr[i],i,arr)===false){break}}}var forEach_1$1=forEach$1;function hasOwn$1(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var hasOwn_1$1=hasOwn$1;var _hasDontEnumBug$1;var _dontEnums$1;function checkDontEnum$1(){_dontEnums$1=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];_hasDontEnumBug$1=true;for(var key in{toString:null}){_hasDontEnumBug$1=false}}function forIn$1(obj,fn,thisObj){var key,i=0;if(_hasDontEnumBug$1==null){checkDontEnum$1()}for(key in obj){if(exec$1(fn,obj,key,thisObj)===false){break}}if(_hasDontEnumBug$1){var ctor=obj.constructor,isProto=!!ctor&&obj===ctor.prototype;while(key=_dontEnums$1[i++]){if((key!=="constructor"||!isProto&&hasOwn_1$1(obj,key))&&obj[key]!==Object.prototype[key]){if(exec$1(fn,obj,key,thisObj)===false){break}}}}}function exec$1(fn,obj,key,thisObj){return fn.call(thisObj,obj[key],key,obj)}var forIn_1$1=forIn$1;function forOwn$1(obj,fn,thisObj){forIn_1$1(obj,function(val,key){if(hasOwn_1$1(obj,key)){return fn.call(thisObj,obj[key],key,obj)}})}var forOwn_1$1=forOwn$1;var keys=Object.keys||function(obj){var keys=[];forOwn_1$1(obj,function(val,key){keys.push(key)});return keys};var keys_1=keys;var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}var index$1$1=shouldUseNative()?Object.assign:function(target,source){var arguments$1=arguments;var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments$1[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to};var commonjsGlobal$2=typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function createCommonjsModule$2(fn,module){return module={exports:{}},fn(module,module.exports),module.exports}var promise$2=createCommonjsModule$2(function(module){(function(root){var setTimeoutFunc=setTimeout;function noop(){}function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}function Promise(fn){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new")}if(typeof fn!=="function"){throw new TypeError("not a function")}this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];doResolve(fn,this)}function handle(self,deferred){while(self._state===3){self=self._value}if(self._state===0){self._deferreds.push(deferred);return}self._handled=true;Promise._immediateFn(function(){var cb=self._state===1?deferred.onFulfilled:deferred.onRejected;if(cb===null){(self._state===1?resolve:reject)(deferred.promise,self._value);return}var ret;try{ret=cb(self._value)}catch(e){reject(deferred.promise,e);return}resolve(deferred.promise,ret)})}function resolve(self,newValue){try{if(newValue===self){throw new TypeError("A promise cannot be resolved with itself.")}if(newValue&&(typeof newValue==="object"||typeof newValue==="function")){var then=newValue.then;if(newValue instanceof Promise){self._state=3;self._value=newValue;finale(self);return}else if(typeof then==="function"){doResolve(bind(then,newValue),self);return}}self._state=1;self._value=newValue;finale(self)}catch(e){reject(self,e)}}function reject(self,newValue){self._state=2;self._value=newValue;finale(self)}function finale(self){if(self._state===2&&self._deferreds.length===0){Promise._immediateFn(function(){if(!self._handled){Promise._unhandledRejectionFn(self._value)}})}for(var i=0,len=self._deferreds.length;i<len;i++){handle(self,self._deferreds[i])}self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled=typeof onFulfilled==="function"?onFulfilled:null;this.onRejected=typeof onRejected==="function"?onRejected:null;this.promise=promise}function doResolve(fn,self){var done=false;try{fn(function(value){if(done){return}done=true;resolve(self,value)},function(reason){if(done){return}done=true;reject(self,reason)})}catch(ex){if(done){return}done=true;reject(self,ex)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);handle(this,new Handler(onFulfilled,onRejected,prom));return prom};Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){if(args.length===0){return resolve([])}var remaining=args.length;function res(i,val){try{if(val&&(typeof val==="object"||typeof val==="function")){var then=val.then;if(typeof then==="function"){then.call(val,function(val){res(i,val)},reject);return}}args[i]=val;if(--remaining===0){resolve(args)}}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++){res(i,args[i])}})};Promise.resolve=function(value){if(value&&typeof value==="object"&&value.constructor===Promise){return value}return new Promise(function(resolve){resolve(value)})};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})};Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++){values[i].then(resolve,reject)}})};Promise._immediateFn=typeof setImmediate==="function"&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)};Promise._unhandledRejectionFn=function _unhandledRejectionFn(err){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",err)}};Promise._setImmediateFn=function _setImmediateFn(fn){Promise._immediateFn=fn};Promise._setUnhandledRejectionFn=function _setUnhandledRejectionFn(fn){Promise._unhandledRejectionFn=fn};if("object"!=="undefined"&&module.exports){module.exports=Promise}else if(!root.Promise){root.Promise=Promise}})(commonjsGlobal$2)});var settings={debug:false,default:"@",changeBindName:"riotxChange"};var log=function(){var args=[],len=arguments.length;while(len--){args[len]=arguments[len]}if(!settings.debug){return}args.unshift("[riotx]");try{console.log.apply(console,args)}catch(e){console.log(args)}};var Store=function Store(_store){this.name=_store.name;if(!this.name){this.name=settings.default;log("Default store name. name="+this.name)}this.state=index$1$1({},_store.state);this._actions=index$1$1({},_store.actions);this._mutations=index$1$1({},_store.mutations);this._getters=index$1$1({},_store.getters);riot$1.observable(this)};Store.prototype.getter=function getter(name){var args=[],len=arguments.length-1;while(len-- >0){args[len]=arguments[len+1]}log("[getter]",name,args);var context={state:index$1$1({},this.state)};return this._getters[name].apply(null,[context].concat(args))};Store.prototype.commit=function commit(name){var this$1=this;var args=[],len=arguments.length-1;while(len-- >0){args[len]=arguments[len+1]}var _state=index$1$1({},this.state);log.apply(void 0,["[commit(before)]",name,_state].concat(args));var context={getter:function(name){var args=[],len=arguments.length-1;while(len-- >0){args[len]=arguments[len+1]}return this$1.getter.apply(this$1,[name].concat(args))},state:_state};var triggers=this._mutations[name].apply(null,[context].concat(args));log.apply(void 0,["[commit(after)]",name,_state].concat(args));index$1$1(this.state,_state);forEach_1$1(triggers,function(v){this$1.trigger(v,this$1.state,this$1)})};Store.prototype.action=function action(name){var this$1=this;var args=[],len=arguments.length-1;while(len-- >0){args[len]=arguments[len+1]}log("[action]",name,args);var context={getter:function(name){var args=[],len=arguments.length-1;while(len-- >0){args[len]=arguments[len+1]}return this$1.getter.apply(this$1,[name].concat(args))},state:index$1$1({},this.state),commit:function(){var args=[],len=arguments.length;while(len--){args[len]=arguments[len]}(ref=this$1).commit.apply(ref,args);var ref}};return promise$2.resolve().then(function(){return this$1._actions[name].apply(null,[context].concat(args))})};Store.prototype.change=function change(){var args=[],len=arguments.length;while(len--){args[len]=arguments[len]}(ref=this).on.apply(ref,args);var ref};var RiotX=function RiotX(){this.version=VERSION$1||"";this.Store=Store;this.stores={};var riotxChange=function(store,evtName,handler){var args=[],len=arguments.length-3;while(len-- >0){args[len]=arguments[len+3]}this._riotx_change_handlers.push({store:store,evtName:evtName,handler:handler});args.unshift(handler);args.unshift(evtName);store.change.apply(store,args)};riot$1.mixin({init:function(){var this$1=this;this.on("unmount",function(){this$1.off("*");forEach_1$1(this$1._riotx_change_handlers,function(obj){obj.store.off(obj.evtName,obj.handler)});delete this$1.riotx;delete this$1._riotx_change_handlers;delete this$1[settings.changeBindName]});if(settings.debug){this.on("*",function(eventName){log(eventName,this$1)})}this._riotx_change_handlers=[];this[settings.changeBindName]=riotxChange},riotx:this})};RiotX.prototype.add=function add(store){if(this.stores[store.name]){throw new Error("The store instance named `"+store.name+"` already exists.")}this.stores[store.name]=store;return this};RiotX.prototype.get=function get(name){if(name===void 0){name=settings.default}return this.stores[name]};RiotX.prototype.debug=function debug(flag){settings.debug=!!flag;return this};RiotX.prototype.setChangeBindName=function setChangeBindName(name){settings.changeBindName=name;return this};RiotX.prototype.reset=function reset(){this.stores={};return this};RiotX.prototype.size=function size(){return keys_1(this.stores).length};var index$1$2=new RiotX;"use strict";var getOwnPropertySymbols$1=Object.getOwnPropertySymbols;var hasOwnProperty$1=Object.prototype.hasOwnProperty;var propIsEnumerable$1=Object.prototype.propertyIsEnumerable;function toObject$1(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative$1(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}var objectAssign=shouldUseNative$1()?Object.assign:function(target,source){var from;var to=toObject$1(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty$1.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols$1){symbols=getOwnPropertySymbols$1(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable$1.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to};function hasOwn$2(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var hasOwn_1$2=hasOwn$2;var _hasDontEnumBug$2;var _dontEnums$2;function checkDontEnum$2(){_dontEnums$2=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];_hasDontEnumBug$2=true;for(var key in{toString:null}){_hasDontEnumBug$2=false}}function forIn$2(obj,fn,thisObj){var key,i=0;if(_hasDontEnumBug$2==null){checkDontEnum$2()}for(key in obj){if(exec$2(fn,obj,key,thisObj)===false){break}}if(_hasDontEnumBug$2){var ctor=obj.constructor,isProto=!!ctor&&obj===ctor.prototype;while(key=_dontEnums$2[i++]){if((key!=="constructor"||!isProto&&hasOwn_1$2(obj,key))&&obj[key]!==Object.prototype[key]){if(exec$2(fn,obj,key,thisObj)===false){break}}}}}function exec$2(fn,obj,key,thisObj){return fn.call(thisObj,obj[key],key,obj)}var forIn_1$2=forIn$2;function forOwn$2(obj,fn,thisObj){forIn_1$2(obj,function(val,key){if(hasOwn_1$2(obj,key)){return fn.call(thisObj,obj[key],key,obj)}})}var forOwn_1$2=forOwn$2;var exporter=(name,funcs)=>{const ret={};forOwn_1$2(funcs,(func,id)=>{ret[`${name}.${id}`]=func});return ret};var application=exporter("application",{launch:context=>{return Promise.resolve().then(()=>{context.commit("application.launch",true)})},startNavigation:context=>{return Promise.resolve().then(()=>{context.commit("application.navigation",true)})},endNavigation:context=>{return Promise.resolve().then(()=>{context.commit("application.navigation",false)})},startDrag:context=>{return Promise.resolve().then(()=>{context.commit("application.drag",true)})},endDrag:context=>{return Promise.resolve().then(()=>{context.commit("application.drag",false)})},toggleMenu:context=>{return Promise.resolve().then(()=>{context.commit("application.menuToggle")})},updateEndpointFilterText:(context,newFilterText)=>{return Promise.resolve().then(()=>{context.commit("application.endpointFilterText",newFilterText)})},resetEndpointFilterText:context=>{return Promise.resolve().then(()=>{context.commit("application.endpointFilterText","")})}});function kindOf$1(val){return Object.prototype.toString.call(val).slice(8,-1)}var kindOf_1$1=kindOf$1;function isKind$1(val,kind){return kindOf_1$1(val)===kind}var isKind_1$1=isKind$1;function isObject(val){return isKind_1$1(val,"Object")}var isObject_1=isObject;const jsonConverter=body=>{return JSON.stringify(body)};const urlEncodedStandardQueryStringConverter=body=>{const strings=[];const keys=Object.keys(body);keys.forEach(key=>{const value=body[key];const string=`${encodeURIComponent(key)}=${encodeURIComponent(value)}`;strings.push(string)});return strings.join("&")};const formDataConverter=body=>{const formData=new FormData;const keys=Object.keys(body);keys.forEach(key=>{const value=body[key];if(isObject_1(value)||Array.isArray(value)){formData.append(key,JSON.stringify(value))}else if(value!=null){formData.append(key,value)}});return formData};const commonFetch=(context,url,options)=>{options=objectAssign({mode:"cors",redirect:"follow",headers:{"Content-Type":"application/json"},cache:"no-store"},options);if(!!options.body&&(options.method==="POST"||options.method==="PUT")){switch(options.headers["Content-Type"]){case"application/json":options.body=jsonConverter(options.body);break;case"application/x-www-form-urlencoded":options.body=urlEncodedStandardQueryStringConverter(options.body);break;case"multipart/form-data":options.body=formDataConverter(options.body);break;default:break}}const networkingId=`networking_${Date.now()}`;return Promise.resolve().then(()=>context.commit("application.addNetworking",{id:networkingId,url:url,options:options})).then(()=>Promise.race([fetch(url,options),new Promise((resolve,reject)=>{setTimeout(()=>{reject(new Error("ÊôÇÈñì„Åå„Åã„Åã„ÇäÈÅé„Åé„Åü„Åü„ÇÅÈÄö‰ø°„Çí‰∏≠Êñ≠„Åó„Åæ„Åó„Åü„ÄÇ"))},1e3*10)})])).then(response=>{context.commit("application.removeNetworking",networkingId);return response}).then(response=>{if(!response.ok){return Promise.reject(response)}return Promise.resolve(response)}).catch(err=>{context.commit("application.removeNetworking",networkingId);throw err})};var auth=exporter("auth",{update:(context,endpointKey,token)=>{return Promise.resolve().then(()=>{context.commit("endpoints.updateToken",endpointKey,token)})},remove:(context,endpointKey)=>{return Promise.resolve().then(()=>{context.commit("endpoints.updateToken",endpointKey,null)})},validate:(context,endpointKey)=>{const endpoint=context.getter("endpoints.one",endpointKey);return Promise.resolve().then(()=>commonFetch(context,endpoint.url,{headers:{Authorization:endpoint.token}})).then(response=>{const token=response.headers.get("Authorization");if(!!token){context.commit("endpoints.updateToken",endpointKey,token)}return true}).catch(err=>{if(err.status!==401){throw err}context.commit("endpoints.updateToken",endpointKey,null);return false})},getTypes:(context,endpointKey)=>{const endpoint=context.getter("endpoints.one",endpointKey);const fetchUrl=`${new URL(endpoint.url).origin}/viron_authtype`;return Promise.resolve().then(()=>commonFetch(context,fetchUrl)).then(response=>response.json())},signinOAuth:(context,endpointKey,authtype)=>{return Promise.resolve().then(()=>{const endpoint=context.getter("endpoints.one",endpointKey);const origin=new URL(endpoint.url).origin;const redirect_url=encodeURIComponent(`${location.href}oauthredirect/${endpointKey}`);const fetchUrl=`${origin}${authtype.url}?redirect_url=${redirect_url}`;location.href=fetchUrl})},signinEmail:(context,endpointKey,authtype,email,password)=>{const endpoint=context.getter("endpoints.one",endpointKey);const fetchUrl=`${new URL(endpoint.url).origin}${authtype.url}`;return Promise.resolve().then(()=>commonFetch(context,fetchUrl,{method:authtype.method,body:{email:email,password:password}})).then(response=>{const token=response.headers.get("Authorization");context.commit("endpoints.updateToken",endpointKey,token)})}});function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};function resolve(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:"/";if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter$1(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."}function normalize(path){var isPathAbsolute=isAbsolute$1(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter$1(path.split("/"),function(p){return!!p}),!isPathAbsolute).join("/");if(!path&&!isPathAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isPathAbsolute?"/":"")+path}function isAbsolute$1(path){return path.charAt(0)==="/"}function join$1(){var paths=Array.prototype.slice.call(arguments,0);return normalize(filter$1(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))}function relative(from,to){from=resolve(from).substr(1);to=resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!==""){break}}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!==""){break}}if(start>end){return[]}return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}var sep="/";var delimiter=":";function dirname(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir}function basename$1(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f}function extname(path){return splitPath(path)[3]}var path={extname:extname,basename:basename$1,dirname:dirname,sep:sep,delimiter:delimiter,relative:relative,join:join$1,isAbsolute:isAbsolute$1,normalize:normalize,resolve:resolve};function filter$1(xs,f){if(xs.filter){return xs.filter(f)}var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs)){res.push(xs[i])}}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0){start=str.length+start}return str.substr(start,len)};var path$1=Object.freeze({resolve:resolve,normalize:normalize,isAbsolute:isAbsolute$1,join:join$1,relative:relative,sep:sep,delimiter:delimiter,dirname:dirname,basename:basename$1,extname:extname,default:path});var require$$0=path$1&&path||path$1;"use strict";var contentDisposition_1=contentDisposition;var parse_1$1=parse$1;var basename=require$$0.basename;var ENCODE_URL_ATTR_CHAR_REGEXP=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g;var HEX_ESCAPE_REGEXP=/%[0-9A-Fa-f]{2}/;var HEX_ESCAPE_REPLACE_REGEXP=/%([0-9A-Fa-f]{2})/g;var NON_LATIN1_REGEXP=/[^\x20-\x7e\xa0-\xff]/g;var QESC_REGEXP=/\\([\u0000-\u007f])/g;var QUOTE_REGEXP=/([\\"])/g;var PARAM_REGEXP=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g;var TEXT_REGEXP=/^[\x20-\x7e\x80-\xff]+$/;var TOKEN_REGEXP=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/;var EXT_VALUE_REGEXP=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/;var DISPOSITION_TYPE_REGEXP=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function contentDisposition(filename,options){var opts=options||{};var type=opts.type||"attachment";var params=createparams(filename,opts.fallback);return format(new ContentDisposition(type,params))}function createparams(filename,fallback){if(filename===undefined){return}var params={};if(typeof filename!=="string"){throw new TypeError("filename must be a string")}if(fallback===undefined){fallback=true}if(typeof fallback!=="string"&&typeof fallback!=="boolean"){throw new TypeError("fallback must be a string or boolean")}if(typeof fallback==="string"&&NON_LATIN1_REGEXP.test(fallback)){throw new TypeError("fallback must be ISO-8859-1 string")}var name=basename(filename);var isQuotedString=TEXT_REGEXP.test(name);var fallbackName=typeof fallback!=="string"?fallback&&getlatin1(name):basename(fallback);var hasFallback=typeof fallbackName==="string"&&fallbackName!==name;if(hasFallback||!isQuotedString||HEX_ESCAPE_REGEXP.test(name)){params["filename*"]=name}if(isQuotedString||hasFallback){params.filename=hasFallback?fallbackName:name}return params}function format(obj){var parameters=obj.parameters;var type=obj.type;if(!type||typeof type!=="string"||!TOKEN_REGEXP.test(type)){throw new TypeError("invalid type")}var string=String(type).toLowerCase();if(parameters&&typeof parameters==="object"){var param;var params=Object.keys(parameters).sort();for(var i=0;i<params.length;i++){param=params[i];var val=param.substr(-1)==="*"?ustring(parameters[param]):qstring(parameters[param]);string+="; "+param+"="+val}}return string}function decodefield(str){var match=EXT_VALUE_REGEXP.exec(str);if(!match){throw new TypeError("invalid extended field value")}var charset=match[1].toLowerCase();var encoded=match[2];var value;var binary=encoded.replace(HEX_ESCAPE_REPLACE_REGEXP,pdecode);switch(charset){case"iso-8859-1":value=getlatin1(binary);break;case"utf-8":value=new Buffer(binary,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return value}function getlatin1(val){return String(val).replace(NON_LATIN1_REGEXP,"?")}function parse$1(string){if(!string||typeof string!=="string"){throw new TypeError("argument string is required")}var match=DISPOSITION_TYPE_REGEXP.exec(string);if(!match){throw new TypeError("invalid type format")}var index=match[0].length;var type=match[1].toLowerCase();var key;var names=[];var params={};var value;index=PARAM_REGEXP.lastIndex=match[0].substr(-1)===";"?index-1:index;while(match=PARAM_REGEXP.exec(string)){if(match.index!==index){throw new TypeError("invalid parameter format")}index+=match[0].length;key=match[1].toLowerCase();value=match[2];if(names.indexOf(key)!==-1){throw new TypeError("invalid duplicate parameter")}names.push(key);if(key.indexOf("*")+1===key.length){key=key.slice(0,-1);value=decodefield(value);params[key]=value;continue}if(typeof params[key]==="string"){continue}if(value[0]==='"'){value=value.substr(1,value.length-2).replace(QESC_REGEXP,"$1")}params[key]=value}if(index!==-1&&index!==string.length){throw new TypeError("invalid parameter format")}return new ContentDisposition(type,params)}function pdecode(str,hex){return String.fromCharCode(parseInt(hex,16))}function pencode(char){var hex=String(char).charCodeAt(0).toString(16).toUpperCase();return hex.length===1?"%0"+hex:"%"+hex}function qstring(val){var str=String(val);return'"'+str.replace(QUOTE_REGEXP,"\\$1")+'"'}function ustring(val){var str=String(val);var encoded=encodeURIComponent(str).replace(ENCODE_URL_ATTR_CHAR_REGEXP,pencode);return"UTF-8''"+encoded}function ContentDisposition(type,parameters){this.type=type;this.parameters=parameters}contentDisposition_1.parse=parse_1$1;var download=createCommonjsModule(function(module,exports){(function(root,factory){if(typeof undefined==="function"&&undefined.amd){undefined([],factory)}else{module.exports=factory()}})(commonjsGlobal,function(){return function download(data,strFileName,strMimeType){var self=window,defaultMime="application/octet-stream",mimeType=strMimeType||defaultMime,payload=data,url=!strFileName&&!strMimeType&&payload,anchor=document.createElement("a"),toString=function(a){return String(a)},myBlob=self.Blob||self.MozBlob||self.WebKitBlob||toString,fileName=strFileName||"download",blob,reader;myBlob=myBlob.call?myBlob.bind(self):Blob;if(String(this)==="true"){payload=[payload,mimeType];mimeType=payload[0];payload=payload[1]}if(url&&url.length<2048){fileName=url.split("/").pop().split("?")[0];anchor.href=url;if(anchor.href.indexOf(url)!==-1){var ajax=new XMLHttpRequest;ajax.open("GET",url,true);ajax.responseType="blob";ajax.onload=function(e){download(e.target.response,fileName,defaultMime)};setTimeout(function(){ajax.send()},0);return ajax}}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(payload)){if(payload.length>1024*1024*1.999&&myBlob!==toString){payload=dataUrlToBlob(payload);mimeType=payload.type||defaultMime}else{return navigator.msSaveBlob?navigator.msSaveBlob(dataUrlToBlob(payload),fileName):saver(payload)}}blob=payload instanceof myBlob?payload:new myBlob([payload],{type:mimeType});function dataUrlToBlob(strUrl){var parts=strUrl.split(/[:;,]/),type=parts[1],decoder=parts[2]=="base64"?atob:decodeURIComponent,binData=decoder(parts.pop()),mx=binData.length,i=0,uiArr=new Uint8Array(mx);for(i;i<mx;++i){uiArr[i]=binData.charCodeAt(i)}return new myBlob([uiArr],{type:type})}function saver(url,winMode){if("download"in anchor){anchor.href=url;anchor.setAttribute("download",fileName);anchor.className="download-js-link";anchor.innerHTML="downloading...";anchor.style.display="none";document.body.appendChild(anchor);setTimeout(function(){anchor.click();document.body.removeChild(anchor);if(winMode===true){setTimeout(function(){self.URL.revokeObjectURL(anchor.href)},250)}},66);return true}if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)){url=url.replace(/^data:([\w\/\-\+]+)/,defaultMime);if(!window.open(url)){if(confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")){location.href=url}}return true}var f=document.createElement("iframe");document.body.appendChild(f);if(!winMode){url="data:"+url.replace(/^data:([\w\/\-\+]+)/,defaultMime)}f.src=url;setTimeout(function(){document.body.removeChild(f)},333)}if(navigator.msSaveBlob){return navigator.msSaveBlob(blob,fileName)}if(self.URL){saver(self.URL.createObjectURL(blob),true)}else{if(typeof blob==="string"||blob.constructor===toString){try{return saver("data:"+mimeType+";base64,"+self.btoa(blob))}catch(y){return saver("data:"+mimeType+","+encodeURIComponent(blob))}}reader=new FileReader;reader.onload=function(e){saver(this.result)};reader.readAsDataURL(blob)}return true}})});var components=exporter("components",{get:(context,component_uid,component,query)=>{const method=component.api.method;if(method!=="get"){return Promise.reject("only `get` method is allowed.")}let path=component.api.path;if(path.indexOf("/")!==0){path="/"+path}const actions=context.getter("oas.operationObjectsAsAction",component);const api=context.getter("oas.apiByPathAndMethod",path,method);const currentEndpointKey=context.getter("current.all");const currentEndpoint=context.getter("endpoints.one",currentEndpointKey);const token=currentEndpoint.token;const networkingId=`networking_${Date.now()}`;return Promise.resolve().then(()=>context.commit("application.addNetworking",{id:networkingId})).then(()=>api(query,{requestInterceptor:req=>{req.headers["Authorization"]=token}})).then(res=>{if(!res.ok){return Promise.reject(res)}return res}).then(res=>{const token=res.headers["Authorization"];if(!!token){context.commit("endpoints.updateToken",currentEndpointKey,token)}let hasPagination=false;let pagination;if(component.pagination){const currentPage=Number(res.headers["x-pagination-current-page"]||0);const size=Number(res.headers["x-pagination-limit"]||0);const maxPage=Number(res.headers["x-pagination-total-pages"]||0);pagination={currentPage:currentPage,size:size,maxPage:maxPage};if(maxPage>=2){hasPagination=true}}context.commit("components.updateOne",{component_uid:component_uid,response:res.obj,schemaObject:context.getter("oas.schemaObject",path,method),parameterObjects:context.getter("oas.parameterObjects",path,method),actions:actions,hasPagination:hasPagination,pagination:pagination,autoRefreshSec:component.auto_refresh_sec||0,primaryKey:component.primary||null,table_labels:component.table_labels||[]});context.commit("application.removeNetworking",networkingId)}).catch(err=>{context.commit("application.removeNetworking",networkingId);throw err})},operate:(context,operationObject,params)=>{const api=context.getter("oas.api",operationObject.operationId);const token=context.getter("endpoints.one",context.getter("current.all")).token;const currentEndpointKey=context.getter("current.all");const networkingId=`networking_${Date.now()}`;return Promise.resolve().then(()=>context.commit("application.addNetworking",{id:networkingId})).then(()=>api(params,{requestInterceptor:req=>{req.headers["Authorization"]=token}})).then(res=>{if(!res.ok){return Promise.reject(res)}return res}).then(res=>{context.commit("application.removeNetworking",networkingId);const token=res.headers["Authorization"];if(!!token){context.commit("endpoints.updateToken",currentEndpointKey,token)}const contentDispositionHeader=res.headers["content-disposition"];if(!contentDispositionHeader){return res}const downloadFileInfo=contentDisposition_1.parse(contentDispositionHeader);if(downloadFileInfo.type!=="attachment"){return res}download(res.data,downloadFileInfo.parameters.filename,res.headers["content-type"]);return res}).catch(err=>{context.commit("application.removeNetworking",networkingId);throw err})},remove:(context,component_uid)=>{return Promise.resolve().then(()=>{context.commit("components.removeOne",component_uid)})},removeAll:context=>{return Promise.resolve().then(()=>{context.commit("components.removeAll")})}});var current=exporter("current",{update:(context,endpointKey)=>{return Promise.resolve().then(()=>{context.commit("current.all",endpointKey)})},remove:context=>{return Promise.resolve().then(()=>{context.commit("current.all",null)})}});var drawers=exporter("drawers",{add:(context,tagName,tagOpts,drawerOpts)=>{return Promise.resolve().then(()=>{context.commit("drawers.add",tagName,tagOpts,drawerOpts)})},remove:(context,drawerId)=>{return Promise.resolve().then(()=>{context.commit("drawers.remove",drawerId)})}});"use strict";var seed=1;function getNextValue(){seed=(seed*9301+49297)%233280;return seed/233280}function setSeed$1(_seed_){seed=_seed_}var randomFromSeed={nextValue:getNextValue,seed:setSeed$1};"use strict";var ORIGINAL="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";var alphabet;var previousSeed;var shuffled;function reset(){shuffled=false}function setCharacters(_alphabet_){if(!_alphabet_){if(alphabet!==ORIGINAL){alphabet=ORIGINAL;reset()}return}if(_alphabet_===alphabet){return}if(_alphabet_.length!==ORIGINAL.length){throw new Error("Custom alphabet for shortid must be "+ORIGINAL.length+" unique characters. You submitted "+_alphabet_.length+" characters: "+_alphabet_)}var unique=_alphabet_.split("").filter(function(item,ind,arr){return ind!==arr.lastIndexOf(item)});if(unique.length){throw new Error("Custom alphabet for shortid must be "+ORIGINAL.length+" unique characters. These characters were not unique: "+unique.join(", "))}alphabet=_alphabet_;reset()}function characters(_alphabet_){setCharacters(_alphabet_);return alphabet}function setSeed(seed){randomFromSeed.seed(seed);if(previousSeed!==seed){reset();previousSeed=seed}}function shuffle$1(){if(!alphabet){setCharacters(ORIGINAL)}var sourceArray=alphabet.split("");var targetArray=[];var r=randomFromSeed.nextValue();var characterIndex;while(sourceArray.length>0){r=randomFromSeed.nextValue();characterIndex=Math.floor(r*sourceArray.length);targetArray.push(sourceArray.splice(characterIndex,1)[0])}return targetArray.join("")}function getShuffled(){if(shuffled){return shuffled}shuffled=shuffle$1();return shuffled}function lookup(index){var alphabetShuffled=getShuffled();return alphabetShuffled[index]}var alphabet_1={characters:characters,seed:setSeed,lookup:lookup,shuffled:getShuffled};"use strict";var crypto=typeof window==="object"&&(window.crypto||window.msCrypto);function randomByte(){if(!crypto||!crypto.getRandomValues){return Math.floor(Math.random()*256)&48}var dest=new Uint8Array(1);crypto.getRandomValues(dest);return dest[0]&48}var randomByteBrowser=randomByte;"use strict";function encode(lookup,number){var loopCounter=0;var done;var str="";while(!done){str=str+lookup(number>>4*loopCounter&15|randomByteBrowser());done=number<Math.pow(16,loopCounter+1);loopCounter++}return str}var encode_1=encode;"use strict";function decode(id){var characters=alphabet_1.shuffled();return{version:characters.indexOf(id.substr(0,1))&15,worker:characters.indexOf(id.substr(1,1))&15}}var decode_1=decode;"use strict";var REDUCE_TIME=1459707606518;var version=6;var counter;var previousSeconds;function build(clusterWorkerId){var str="";var seconds=Math.floor((Date.now()-REDUCE_TIME)*.001);if(seconds===previousSeconds){counter++}else{counter=0;previousSeconds=seconds}str=str+encode_1(alphabet_1.lookup,version);str=str+encode_1(alphabet_1.lookup,clusterWorkerId);if(counter>0){str=str+encode_1(alphabet_1.lookup,counter)}str=str+encode_1(alphabet_1.lookup,seconds);return str}var build_1=build;"use strict";function isShortId(id){if(!id||typeof id!=="string"||id.length<6){return false}var characters=alphabet_1.characters();var len=id.length;for(var i=0;i<len;i++){if(characters.indexOf(id[i])===-1){return false}}return true}var isValid=isShortId;"use strict";var clusterWorkerIdBrowser=0;var lib=createCommonjsModule(function(module){"use strict";var clusterWorkerId=clusterWorkerIdBrowser||0;function seed(seedValue){alphabet_1.seed(seedValue);return module.exports}function worker(workerId){clusterWorkerId=workerId;return module.exports}function characters(newCharacters){if(newCharacters!==undefined){alphabet_1.characters(newCharacters)}return alphabet_1.shuffled()}function generate(){return build_1(clusterWorkerId)}module.exports=generate;module.exports.generate=generate;module.exports.seed=seed;module.exports.worker=worker;module.exports.characters=characters;module.exports.decode=decode_1;module.exports.isValid=isValid});"use strict";var shortid=lib;var endpoints=exporter("endpoints",{add:(context,url,memo)=>{return Promise.resolve().then(()=>commonFetch(context,url)).catch(err=>{if(err.status!==401){throw err}const key=shortid.generate();const newEndpoint={url:url,memo:memo,token:null,title:"",name:"",description:"",version:"",color:"",thumbnail:"./img/viron_default.png",tags:[]};context.commit("endpoints.add",key,newEndpoint)})},update:(context,key,newEndpoint)=>{return Promise.resolve().then(()=>{context.commit("endpoints.update",key,newEndpoint)})},remove:(context,key)=>{return Promise.resolve().then(()=>{context.commit("endpoints.remove",key)})},removeAll:context=>{return Promise.resolve().then(()=>{context.commit("endpoints.removeAll")})},mergeAll:(context,endpoints)=>{return Promise.resolve().then(()=>{context.commit("endpoints.mergeAll",endpoints)})},mergeOneWithKey:(context,endpoint)=>{return Promise.resolve().then(()=>{const key=shortid.generate();context.commit("endpoints.add",key,endpoint)})},tidyUpOrder:context=>{return Promise.resolve().then(()=>{context.commit("endpoints.tidyUpOrder")})},changeOrder:(context,endpointKey,newOrder)=>{return Promise.resolve().then(()=>{context.commit("endpoints.changeOrder",endpointKey,newOrder)})}});var layout=exporter("layout",{updateSize:(context,width,height)=>{return Promise.resolve().then(()=>{context.commit("layout.updateSize",width,height)})},updateComponentsGridColumnCount:(context,count)=>{return Promise.resolve().then(()=>{context.commit("layout.updateComponentsGridColumnCount",count)})}});var location$1=exporter("location",{update:(context,obj)=>{return Promise.resolve().then(()=>{context.commit("location.all",obj)})}});let canCreateModal=true;let timer;var modals=exporter("modals",{add:(context,tagName,tagOpts,modalOpts)=>{if(!canCreateModal){console.warn("Â§öÈáç„Å´Ëµ∑Âãï„Åó„Å™„ÅÑ„Çà„ÅÜ„ÄÅ‰∏ÄÂÆöÊôÇÈñì„ÅÆ„É¢„Éº„ÉÄ„É´‰ΩúÊàê„ÇíË¶èÂà∂„Åô„Çã„ÄÇ");return Promise.resolve()}canCreateModal=false;clearTimeout(timer);timer=setTimeout(()=>{canCreateModal=true},300);return Promise.resolve().then(()=>{context.commit("modals.add",tagName,tagOpts,modalOpts)})},remove:(context,modalId)=>{return Promise.resolve().then(()=>{context.commit("modals.remove",modalId)})}});var isArray$1=Array.isArray||function(val){return isKind_1$1(val,"Array")};var isArray_1$1=isArray$1;function forEach$2(arr,callback,thisObj){if(arr==null){return}var i=-1,len=arr.length;while(++i<len){if(callback.call(thisObj,arr[i],i,arr)===false){break}}}var forEach_1$2=forEach$2;function encode$2(obj){var query=[],arrValues,reg;forOwn_1$2(obj,function(val,key){if(isArray_1$1(val)){arrValues=key+"=";reg=new RegExp("&"+key+"+=$");forEach_1$2(val,function(aValue){arrValues+=encodeURIComponent(aValue)+"&"+key+"="});query.push(arrValues.replace(reg,""))}else{query.push(key+"="+encodeURIComponent(val))}});return query.length?"?"+query.join("&"):""}var encode_1$2=encode$2;const SwaggerClient=window.SwaggerClient;var oas=exporter("oas",{setup:(context,endpointKey,url,token)=>{return Promise.resolve().then(()=>SwaggerClient.http({url:url,headers:{Authorization:token}})).then(res=>{if(res.status===401){const err=new Error;err.name="401 Authorization Required";err.status=res.spec.status;return Promise.reject(err)}return res}).then(res=>SwaggerClient({spec:res.body})).then(client=>{const errors=client.errors;if(!!errors&&!!errors.length){return Promise.reject(errors)}return client}).then(client=>{context.commit("oas.client",client);context.commit("endpoints.update",endpointKey,client.spec.info)})},clear:context=>{return Promise.resolve().then(()=>{context.commit("oas.clearClient")})},getAutocomplete:(context,path,query)=>{const currentEndpointKey=context.getter("current.all");const currentEndpoint=context.getter("endpoints.one",currentEndpointKey);const token=currentEndpoint.token;const url=`${new URL(currentEndpoint.url).origin}${path}${encode_1$2(query)}`;return Promise.resolve().then(()=>commonFetch(context,url,{headers:{Authorization:token}})).then(res=>res.json())}});function identity$1(val){return val}var identity_1$1=identity$1;function prop$1(name){return function(obj){return obj[name]}}var prop_1$1=prop$1;function containsMatch$1(array,pattern){var i=-1,length=array.length;while(++i<length){if(deepMatches$1(array[i],pattern)){return true}}return false}function matchArray$1(target,pattern){var i=-1,patternLength=pattern.length;while(++i<patternLength){if(!containsMatch$1(target,pattern[i])){return false}}return true}function matchObject$1(target,pattern){var result=true;forOwn_1$2(pattern,function(val,key){if(!deepMatches$1(target[key],val)){return result=false}});return result}function deepMatches$1(target,pattern){if(target&&typeof target==="object"&&pattern&&typeof pattern==="object"){if(isArray_1$1(target)&&isArray_1$1(pattern)){return matchArray$1(target,pattern)}else{return matchObject$1(target,pattern)}}else{return target===pattern}}var deepMatches_1$1=deepMatches$1;function makeIterator$1(src,thisObj){if(src==null){return identity_1$1}switch(typeof src){case"function":return typeof thisObj!=="undefined"?function(val,i,arr){return src.call(thisObj,val,i,arr)}:src;case"object":return function(val){return deepMatches_1$1(val,src)};case"string":case"number":return prop_1$1(src)}}var makeIterator_$1=makeIterator$1;function some$1(obj,callback,thisObj){callback=makeIterator_$1(callback,thisObj);var result=false;forOwn_1$2(obj,function(val,key){if(callback(val,key,obj)){result=true;return false}});return result}var some_1$1=some$1;function find$1(obj,callback,thisObj){callback=makeIterator_$1(callback,thisObj);var result;some_1$1(obj,function(value,key,obj){if(callback(value,key,obj)){result=value;return true}});return result}var find_1$1=find$1;var page=exporter("page",{get:(context,pageId)=>{return Promise.resolve().then(()=>{const pages=context.getter("viron.pages");const page=find_1$1(pages,page=>{return page.id===pageId});context.commit("page.all",page)})},remove:context=>{return Promise.resolve().then(()=>{context.commit("page.all",null)})}});var popovers=exporter("popovers",{add:(context,tagName,tagOpts,popoverOpts)=>{return Promise.resolve().then(()=>{context.commit("popovers.add",tagName,tagOpts,popoverOpts)})},remove:(context,popoverId)=>{return Promise.resolve().then(()=>{context.commit("popovers.remove",popoverId)})}});var toasts=exporter("toasts",{add:(context,obj)=>{return Promise.resolve().then(()=>{context.commit("toasts.add",obj)})},remove:(context,toastId)=>{return Promise.resolve().then(()=>{context.commit("toasts.remove",toastId)})}});var sua=createCommonjsModule(function(module){(function(global){"use strict";function SUA(useragent){if(!useragent&&global&&global.navigator&&global.navigator.userAgent){useragent=global.navigator.userAgent}if(!useragent){throw new Error("useragent setup error. useragent not found.")}this.ie=!!(useragent.indexOf("MSIE")>=0||useragent.indexOf("Trident")>=0||useragent.indexOf("Edge")>=0),this.webkit=useragent.match(/(WebKit|Webkit)\/([\d.]+)/),this.android=useragent.match(/(Android)\s+([\d.]+)/),this.android23=useragent.match(/(Android)\s+(2\.3)([\d.]+)/),this.android4=useragent.match(/(Android)\s+(4)([\d.]+)/),this.android5=useragent.match(/(Android)\s+(5)([\d.]+)/),this.android6=useragent.match(/(Android)\s+(6)([\d.]+)/),this.android7=useragent.match(/(Android)\s+(7)([\d.]+)/),this.ipad=useragent.match(/(iPad).*OS\s([\d_]+)/),this.iphone=!this.ipad&&useragent.match(/(iPhone\sOS)\s([\d_]+)/),this.webos=useragent.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),this.touchpad=this.webos&&useragent.match(/TouchPad/),this.kindle=useragent.match(/(Kindle)/),this.silk=useragent.match(/(Silk)/),this.blackberry=useragent.match(/(BlackBerry).*/),this.bb10=useragent.match(/(BB10).*Version\/([\d.]+)/),this.rimtabletos=useragent.match(/(RIM\sTablet\sOS)\s([\d.]+)/),this.playbook=useragent.match(/PlayBook/),this.chrome=useragent.match(/Chrome\/([\d.]+)/)||useragent.match(/CriOS\/([\d.]+)/),this.firefox=useragent.match(/Firefox\/([\d.]+)/),this.wii=useragent.match(/Nintendo (Wii);/),this.wiiu=useragent.match(/Nintendo (WiiU)/),this.ds=useragent.match(/Nintendo (DS|3DS|DSi);/),this.nintendo_switch=useragent.match(/Nintendo (Switch);/),this.ps3=useragent.match(/PLAYSTATION 3/),this.psp=useragent.match(/(PlayStation Portable)/),this.psvita=useragent.match(/(PlayStation Vita)/),this.windowsphone=useragent.match(/(Windows Phone |Windows Phone OS )([\d.]+)/),this.safari=useragent.match(/(Version)\/([0-9\.]+).*Safari\/([0-9\.]+)/),this.trident=useragent.match(/Trident\/([\d\.]+)/),this.xbox=useragent.match(/Xbox/),this.iphone5=!("object"!=="undefined"&&module.exports)&&this.iphone&&screen&&screen.width===320&&screen.height===568,this.vivaldi=useragent.match(/Vivaldi\/([\d.]+)/);this.iphone3=this.iphone&&global.devicePixelRatio===1?true:false;this.browser={locale:undefined,lang:undefined,country:undefined};this.os={};if(this.webkit&&!this.ie){this.browser.webkit=true;this.browser.version=this.webkit[1]}if(this.trident){this.browser.trident=true;this.browser.version=this.trident[1]}if(this.android){this.os.android=true;this.os.version=this.android[2];try{this.browser.locale=useragent.match(/(Android)\s(.+);\s([^;]+);/)[3];this.browser.lang=this.browser.locale.substring(0,2);this.browser.country=this.browser.locale.substring(3)}catch(e){}}if(this.iphone){this.os.ios=this.os.iphone=true;this.os.version=this.iphone[2].replace(/_/g,".")}if(this.ipad){this.os.ios=this.os.ipad=true;this.os.version=this.ipad[2].replace(/_/g,".")}if(this.os.ios){var __ios_v_0=null;if(this.os.version){__ios_v_0=this.os.version.substring(0,1)}for(var i=3;i<10;i++){this["ios"+i]=__ios_v_0===""+i}}if(this.webos){this.os.webos=true;this.os.version=this.webos[2]}if(this.touchpad){this.os.touchpad=true}if(this.blackberry){this.os.blackberry=true}if(this.bb10){this.os.bb10=true;this.os.version=this.bb10[2]}if(this.rimtabletos){this.os.rimtabletos=true;this.os.version=this.rimtabletos[2]}if(this.playbook){this.browser.playbook=true}if(this.kindle){this.os.kindle=true}if(this.silk){this.browser.silk=true}if(!this.silk&&this.os.android&&useragent.match(/Kindle Fire/)){this.browser.silk=true}if(this.chrome&&!this.ie){this.browser.chrome=true;this.browser.version=this.chrome[1]}if(this.firefox){this.browser.firefox=true;this.browser.version=this.firefox[1];if(useragent.match(/Android/)){this.android=["Android","Android",""]}}if(this.wii||this.ds||this.wiiu||this.nintendo_switch){this.os.nintendo=true;if(this.wiiu||this.nintendo_switch){this.browser.nintendo=useragent.match(/NintendoBrowser\/([\d.]+)/);this.browser.version=this.browser.nintendo[1]}}if(this.windowsphone){this.browser.windowsphone=true;this.browser.version=this.windowsphone[2]}if(this.safari){this.browser.safari=true;this.browser.version=this.safari[2]}if(this.ie){this.browser.ie=/(MSIE|rv:?)\s?([\d\.]+)/.exec(useragent);this.edge=false;if(!this.browser.ie){this.browser.ie=/(Edge\/)(\d.+)/.exec(useragent);this.browser.version=this.browser.ie[2];this.edge=true;this.chrome=false;this.webkit=false}else if(!this.windowsphone){this.browser.version=this.browser.ie?this.browser.ie[2]:""}if(0<this.browser.version.indexOf(".")){this.browser.majorversion=this.browser.version.substring(0,this.browser.version.indexOf("."))}else{this.browser.majorversion=this.browser.version}}if(this.vivaldi){this.browser.vivaldi=true;this.browser.version=this.vivaldi[1]}this.os.tablet=!!(this.ipad||this.kindle||this.playbook||this.android&&!useragent.match(/Mobile/)||this.firefox&&useragent.match(/Tablet/));this.os.phone=!!(!this.os.tablet&&(this.android||this.iphone||this.webos||this.blackberry||this.bb10||this.chrome&&useragent.match(/Android/)||this.chrome&&useragent.match(/CriOS\/([\d.]+)/)||this.firefox&&useragent.match(/Mobile/)||this.windowsphone&&useragent.match(/IEMobile/)));this.mobile=!!(this.os.tablet||this.os.phone);this.webview={};if(useragent.match(/Twitter/)){this.webview.twitter=true}}SUA.VERSION="2.1.0";if("object"!=="undefined"&&module.exports){module.exports=SUA}if(!global.SUA){global.SUA=SUA}})(commonjsGlobal)});var ua=exporter("ua",{setup:context=>{return Promise.resolve().then(()=>{const ua=new sua(navigator.userAgent);context.commit("ua.all",ua)})}});const VIRON_URI="/viron";var viron=exporter("viron",{get:context=>{const operationObject=context.getter("oas.operationObject",VIRON_URI,"get");const api=context.getter("oas.api",operationObject.operationId);const currentEndpointKey=context.getter("current.all");const currentEndpoint=context.getter("endpoints.one",currentEndpointKey);const token=currentEndpoint.token;const networkingId=`networking_${Date.now()}`;return Promise.resolve().then(()=>context.commit("application.addNetworking",{id:networkingId})).then(()=>api({},{requestInterceptor:req=>{req.headers["Authorization"]=token}})).then(res=>{if(!res.ok){return Promise.reject(res)}return res}).then(res=>{const token=res.headers["Authorization"];if(!!token){context.commit("endpoints.updateToken",currentEndpointKey,token)}context.commit("viron.all",res.obj);const endpoint=objectAssign({},res.obj);delete endpoint.pages;context.commit("endpoints.update",currentEndpointKey,endpoint);context.commit("application.removeNetworking",networkingId)}).catch(err=>{context.commit("application.removeNetworking",networkingId);throw err})},remove:context=>{return Promise.resolve().then(()=>{context.commit("viron.all",null)})}});var actions=objectAssign({},application,auth,components,current,drawers,endpoints,layout,location$1,modals,oas,page,popovers,toasts,ua,viron);var exporter$1=(name,funcs)=>{const ret={};forOwn_1$2(funcs,(func,id)=>{ret[`${name}.${id}`]=((context,...args)=>{return func(context.state,...args)})});return ret};var application$1=exporter$1("application",{all:state=>{return state.application},version:state=>{return state.application.version},isLaunched:state=>{return state.application.isLaunched},isNavigating:state=>{return state.application.isNavigating},isNetworking:state=>{return state.application.isNetworking},isDragging:state=>{return state.application.isDragging},isMenuOpened:state=>{return state.application.isMenuOpened},endpointFilterText:state=>{return state.application.endpointFilterText}});function filter$2(arr,callback,thisObj){callback=makeIterator_$1(callback,thisObj);var results=[];if(arr==null){return results}var i=-1,len=arr.length,value;while(++i<len){value=arr[i];if(callback(value,i,arr)){results.push(value)}}return results}var filter_1$1=filter$2;function map$1(arr,callback,thisObj){callback=makeIterator_$1(callback,thisObj);var results=[];if(arr==null){return results}var i=-1,len=arr.length;while(++i<len){results[i]=callback(arr[i],i,arr)}return results}var map_1$1=map$1;function mergeSort$1(arr,compareFn){if(arr==null){return[]}else if(arr.length<2){return arr}if(compareFn==null){compareFn=defaultCompare$1}var mid,left,right;mid=~~(arr.length/2);left=mergeSort$1(arr.slice(0,mid),compareFn);right=mergeSort$1(arr.slice(mid,arr.length),compareFn);return merge$1(left,right,compareFn)}function defaultCompare$1(a,b){return a<b?-1:a>b?1:0}function merge$1(left,right,compareFn){var result=[];while(left.length&&right.length){if(compareFn(left[0],right[0])<=0){result.push(left.shift())}else{result.push(right.shift())}}if(left.length){result.push.apply(result,left)}if(right.length){result.push.apply(result,right)}return result}var sort$1=mergeSort$1;function sortBy$1(arr,callback,context){callback=makeIterator_$1(callback,context);return sort$1(arr,function(a,b){a=callback(a);b=callback(b);return a<b?-1:a>b?1:0})}var sortBy_1$1=sortBy$1;function unique$1(arr,compare){compare=compare||isEqual$1;return filter_1$1(arr,function(item,i,arr){var n=arr.length;while(++i<n){if(compare(item,arr[i])){return false}}return true})}function isEqual$1(a,b){return a===b}var unique_1$1=unique$1;var keys$1=Object.keys||function(obj){var keys=[];forOwn_1$2(obj,function(val,key){keys.push(key)});return keys};var keys_1$1=keys$1;var components$1=exporter$1("components",{all:state=>{return state.state.components},one:(state,riotId)=>{return state.components[riotId]},response:(state,riotId)=>{return state.components[riotId].response},schemaObject:(state,riotId)=>{return state.components[riotId].schemaObject},parameterObjects:(state,riotId)=>{return state.components[riotId].parameterObjects},parameterObjectsEntirely:state=>{let entireParameterObjects=[];const weights={};forOwn_1$2(state.components,component=>{entireParameterObjects=entireParameterObjects.concat(component.parameterObjects||[])});entireParameterObjects=map_1$1(entireParameterObjects,entireParameterObject=>{const name=entireParameterObject.name;weights[name]||(weights[name]=0);weights[name]=weights[name]+1;return objectAssign({},entireParameterObject)});entireParameterObjects=unique_1$1(entireParameterObjects,(a,b)=>{return a.name===b.name});forEach_1$2(entireParameterObjects,entireParameterObject=>{entireParameterObject.weight=weights[entireParameterObject.name]});entireParameterObjects=sortBy_1$1(entireParameterObjects,entireParameterObject=>{return weights[entireParameterObject.name]*-1});return entireParameterObjects},actions:(state,riotId)=>{return map_1$1(state.components[riotId].actions,action=>{return action.operationObject})},selfActions:(state,riotId)=>{const actions=state.components[riotId].actions;const selfActions=filter_1$1(actions,action=>{return!action.appendTo||action.appendTo==="self"});return map_1$1(selfActions,action=>{return action.operationObject})},rowActions:(state,riotId)=>{const actions=state.components[riotId].actions;const selfActions=filter_1$1(actions,action=>{return action.appendTo==="row"});return map_1$1(selfActions,action=>{return action.operationObject})},hasPagination:(state,riotId)=>{return state.components[riotId].hasPagination},autoRefreshSec:(state,riotId)=>{return state.components[riotId].autoRefreshSec},pagination:(state,riotId)=>{return state.components[riotId].pagination},tableLabels:(state,riotId)=>{return state.components[riotId].table_labels||[]},tableColumns:(state,riotId)=>{const response=state.components[riotId].response;if(!isArray_1$1(response)||!response.length){return[]}return keys_1$1(response[0])},primaryKey:(state,riotId)=>{return state.components[riotId].primaryKey||null}});var current$1=exporter$1("current",{all:state=>{const version=state.application.version;return state.current[version]}});var drawers$1=exporter$1("drawers",{all:state=>{return state.drawers}});function size(obj){var count=0;forOwn_1$2(obj,function(){count++});return count}var size_1=size;function toString(val){return val==null?"":val.toString()}var toString_1=toString;function contains$1(str,substring,fromIndex){str=toString_1(str);substring=toString_1(substring);return str.indexOf(substring,fromIndex)!==-1}var contains_1$1=contains$1;const sortByOrder=endpoints=>{let endpointsByOrder=[];forOwn_1$2(endpoints,(endpoint,key)=>{endpoint.key=key;endpointsByOrder.push(endpoint)});endpointsByOrder=sortBy_1$1(endpointsByOrder,endpoint=>{return endpoint.order});return endpointsByOrder};const filterBy=(endpoints,filterText)=>{filterText=filterText||"";filterText=filterText.replace(/„ÄÄ/g," ");filterText=filterText.replace(/,/g," ");const targetTexts=filter_1$1((filterText||"").split(" "),targetText=>{return!!targetText});if(!targetTexts.length){return endpoints}return filter_1$1(endpoints,endpoint=>{let isMatched=false;forEach_1$2(targetTexts,targetText=>{if(contains_1$1(endpoint.url,targetText)){isMatched=true}if(contains_1$1(endpoint.title,targetText)){isMatched=true}if(contains_1$1(endpoint.name,targetText)){isMatched=true}if(contains_1$1(endpoint.description,targetText)){isMatched=true}if(contains_1$1(endpoint.memo,targetText)){isMatched=true}forEach_1$2(endpoint.tags||[],tag=>{if(contains_1$1(tag,targetText)){isMatched=true}})});return isMatched})};var endpoints$1=exporter$1("endpoints",{all:state=>{const version=state.application.version;return state.endpoints[version]||{}},allByOrder:state=>{const version=state.application.version;let endpoints=objectAssign({},state.endpoints[version]);endpoints=sortByOrder(endpoints);return endpoints},allByOrderFiltered:state=>{const version=state.application.version;let endpoints=objectAssign({},state.endpoints[version]);endpoints=sortByOrder(endpoints);endpoints=filterBy(endpoints,state.application.endpointFilterText);return endpoints},count:state=>{const version=state.application.version;const endpoints=state.endpoints[version]||{};return size_1(endpoints)},allWithoutToken:state=>{const version=state.application.version;const endpoints=objectAssign({},state.endpoints[version]);forOwn_1$2(endpoints,endpoint=>{delete endpoint.token});return endpoints},one:(state,key)=>{const version=state.application.version;const endpoints=state.endpoints[version]||{};return endpoints[key]},oneByURL:(state,url)=>{const version=state.application.version;const endpoints=state.endpoints[version]||{};return find_1$1(endpoints,endpoint=>{return endpoint.url===url})}});var constants$1={layoutThreshold:640,layoutTypeDesktop:"desktop",layoutTypeMobile:"mobile",authtypeEmail:"email",authtypeOauth:"oauth"};var layout$1=exporter$1("layout",{type:state=>{return state.layout.type},isDesktop:state=>{return state.layout.type===constants$1.layoutTypeDesktop},isMobile:state=>{return state.layout.type===constants$1.layoutTypeMobile},size:state=>{return state.layout.size},componentsGridColumnCount:state=>{return state.layout.componentsGridColumnCount}});var location$2=exporter$1("location",{all:state=>{return state.location},isTop:state=>{return state.location.name==="endpoints"},name:state=>{return state.location.name},route:state=>{return state.location.route}});var modals$1=exporter$1("modals",{all:state=>{return state.modals}});var oas$1=exporter$1("oas",{client:state=>{return state.oas.client},spec:state=>{return state.oas.client.spec},originalSpec:state=>{return state.oas.client.originalSpec},apis:state=>{return state.oas.client.apis},flatApis:state=>{const apis={};forOwn_1$2(state.oas.client.apis,obj=>{forOwn_1$2(obj,(api,operationId)=>{apis[operationId]=api})});return apis},api:(state,operationId)=>{const apis={};forOwn_1$2(state.oas.client.apis,obj=>{forOwn_1$2(obj,(api,operationId)=>{apis[operationId]=api})});return apis[operationId]},apiByPathAndMethod:(state,path,method)=>{const operationObject=state.oas.client.spec.paths[path][method];const operationId=operationObject.operationId;const apis={};forOwn_1$2(state.oas.client.apis,obj=>{forOwn_1$2(obj,(api,operationId)=>{apis[operationId]=api})});return apis[operationId]},pathItemObject:(state,path)=>{return state.oas.client.spec.paths[path]},pathItemObjectMethodNameByOperationId:(state,operationId)=>{let ret;forOwn_1$2(state.oas.client.spec.paths,pathItemObject=>{if(!!ret){return}forOwn_1$2(pathItemObject,(operationObject,method)=>{if(!!ret){return}if(operationObject.operationId===operationId){ret=method}})});return ret},operationObject:(state,path,method)=>{return state.oas.client.spec.paths[path][method]},operationObjectsAsAction:(state,component)=>{const methods=["get","put","post","delete"];const basePath=component.api.path;const primaryKey=component.primary;const actions=component.actions||[];const pathRefs=[];forEach_1$2(methods,method=>{if(method==="get"){return}const isOperationObjectDefined=!!state.oas.client.spec.paths[basePath]&&!!state.oas.client.spec.paths[basePath][method];if(!isOperationObjectDefined){return}pathRefs.push({path:basePath,method:method,appendTo:"self"})});if(!!primaryKey){const listBasePath=`${basePath}/{${primaryKey}}`;forEach_1$2(methods,method=>{const isOperationObjectDefined=!!state.oas.client.spec.paths[listBasePath]&&!!state.oas.client.spec.paths[listBasePath][method];if(!isOperationObjectDefined){return}pathRefs.push({path:listBasePath,method:method,appendTo:"row"})})}forEach_1$2(actions,actionBasePath=>{const appendTo=actionBasePath.indexOf(`{${primaryKey}}`)>=0?"row":"self";forEach_1$2(methods,method=>{const isOperationObjectDefined=!!state.oas.client.spec.paths[actionBasePath]&&!!state.oas.client.spec.paths[actionBasePath][method];if(!isOperationObjectDefined){return}pathRefs.push({path:actionBasePath,method:method,appendTo:appendTo})})});const operationObjects=[];forEach_1$2(pathRefs,ref=>{const operationObject=state.oas.client.spec.paths[ref.path][ref.method];operationObjects.push(objectAssign({operationObject:operationObject},ref))});return operationObjects},operationId:(state,path,method)=>{return state.oas.client.spec.paths[path][method].operationId},parameterObjects:(state,path,method)=>{return state.oas.client.spec.paths[path][method].parameters||[]},responseObjects:(state,path,method)=>{return state.oas.client.spec.paths[path][method].responses},responseObject:(state,path,method,statusCode)=>{if(statusCode===void 0)statusCode=200;return state.oas.client.spec.paths[path][method].responses[statusCode]},schemaObject:(state,path,method,statusCode)=>{if(statusCode===void 0)statusCode=200;return state.oas.client.spec.paths[path][method].responses[statusCode].schema}});function indexOf$1(arr,item,fromIndex){fromIndex=fromIndex||0;if(arr==null){return-1}var len=arr.length,i=fromIndex<0?len+fromIndex:fromIndex;while(i<len){if(arr[i]===item){return i}i++}return-1}var indexOf_1$1=indexOf$1;function contains$3(arr,val){return indexOf_1$1(arr,val)!==-1}var contains_1$2=contains$3;function reject$1(arr,callback,thisObj){callback=makeIterator_$1(callback,thisObj);var results=[];if(arr==null){return results}var i=-1,len=arr.length,value;while(++i<len){value=arr[i];if(!callback(value,i,arr)){results.push(value)}}return results}var reject_1$1=reject$1;var page$1=exporter$1("page",{all:state=>{return state.page||{}},id:state=>{const page=state.page;if(!page){return""}return page.id},name:state=>{const page=state.page;if(!page){return""}return page.name},components:state=>{const page=state.page;if(!page){return[]}return page.components},componentsInline:state=>{const page=state.page;if(!page){return[]}return filter_1$1(page.components,component=>{return contains_1$2(["number"],component.style)})},componentsTable:state=>{const page=state.page;if(!page){return[]}return filter_1$1(page.components,component=>{return component.style==="table"})},componentsNotTable:state=>{const page=state.page;if(!page){return[]}return reject_1$1(page.components,component=>{return component.style==="table"})},componentsCount:state=>{const page=state.page;if(!page){return 0}return(page.components||[]).length}});var popovers$1=exporter$1("popovers",{all:state=>{return state.popovers}});var toasts$1=exporter$1("toasts",{all:state=>{return state.toasts}});var ua$1=exporter$1("ua",{all:state=>{return state.ua},isChrome:state=>{return!!state.ua.chrome},isSafari:state=>{return!!state.ua.safari},isEdge:state=>{return!!state.ua.edge},isFirefox:state=>{return!!state.ua.firefox},usingBrowser:state=>{const ua=state.ua;if(!!ua.chrome){return"chrome"}if(!!ua.safari){return"safari"}if(!!ua.edge){return"edge"}if(!!ua.firefox){return"firefox"}return null}});function findIndex$1(arr,iterator,thisObj){iterator=makeIterator_$1(iterator,thisObj);if(arr==null){return-1}var i=-1,len=arr.length;while(++i<len){if(iterator(arr[i],i,arr)){return i}}return-1}var findIndex_1$1=findIndex$1;function find$3(arr,iterator,thisObj){var idx=findIndex_1$1(arr,iterator,thisObj);return idx>=0?arr[idx]:void 0}var find_1$2=find$3;function filterValues(obj,callback,thisObj){callback=makeIterator_$1(callback,thisObj);var output={};forOwn_1$2(obj,function(value,key,obj){if(callback(value,key,obj)){output[key]=value}});return output}var filter$5=filterValues;function values(obj){var vals=[];forOwn_1$2(obj,function(val,key){vals.push(val)});return vals}var values_1=values;const SECTION_DASHBOARD="dashboard";const SECTION_MANAGE="manage";var viron$1=exporter$1("viron",{all:state=>{if(!state.viron){return null}return state.viron},existence:state=>{return!!state.viron},pages:state=>{return state.viron.pages},pageIdOf:(state,idx)=>{return state.viron.pages[idx].id},name:state=>{if(!state.viron){return null}return state.viron.name},thumbnail:state=>{if(!state.viron){return null}return state.viron.thumbnail},dashboard:state=>{if(!state.viron){return[]}return values_1(filter$5(state.viron.pages,page=>{if(page.section!==SECTION_DASHBOARD){return false}return true}))},manage:state=>{if(!state.viron){return[]}return values_1(filter$5(state.viron.pages,page=>{if(page.section!==SECTION_MANAGE){return false}return true}))},menu:state=>{const menu=[];if(!state.viron||!state.viron.sections){return menu}const sections=state.viron.sections;forEach_1$2(sections,section=>{menu.push({name:section.label||section.id,id:section.id,groups:[]})});const pages=state.viron.pages;forEach_1$2(pages,page=>{const targetSection=find_1$2(menu,section=>{return section.id===page.section});const groupName=page.group;const isIndependent=!groupName;if(isIndependent){targetSection.groups.push({pages:[{name:page.name,id:page.id}],isIndependent:isIndependent})}else{if(!find_1$2(targetSection.groups,group=>{return group.name===groupName})){targetSection.groups.push({name:groupName,pages:[],isIndependent:isIndependent})}const targetGroup=find_1$2(targetSection.groups,group=>{return group.name===groupName});targetGroup.pages.push({name:page.name,id:page.id})}});return menu}});var getters=objectAssign({},application$1,components$1,current$1,drawers$1,endpoints$1,layout$1,location$2,modals$1,oas$1,page$1,popovers$1,toasts$1,ua$1,viron$1);var exporter$2=(name,funcs)=>{const ret={};forOwn_1$2(funcs,(func,id)=>{ret[`${name}.${id}`]=((context,...args)=>{return func(context.state,...args)})});return ret};var application$2=exporter$2("application",{launch:(state,bool)=>{state.application.isLaunched=bool;return["application"]},navigation:(state,bool)=>{state.application.isNavigating=bool;return["application"]},addNetworking:(state,info)=>{state.application.networkings.push(objectAssign({id:`networking_${Date.now()}`},info));state.application.isNetworking=true;return["application"]},removeNetworking:(state,networkingId)=>{state.application.networkings=reject_1$1(state.application.networkings,networking=>{return networking.id===networkingId});if(!state.application.networkings.length){state.application.isNetworking=false}return["application"]},drag:(state,bool)=>{state.application.isDragging=bool;return["application"]},menuToggle:state=>{state.application.isMenuOpened=!state.application.isMenuOpened;return["application"]},endpointFilterText:(state,newFilterText)=>{state.application.endpointFilterText=newFilterText;return["application"]}});var components$2=exporter$2("components",{updateOne:(state,params)=>{const component_uid=params.component_uid;state.components[component_uid]=params;return["components",component_uid]},removeOne:(state,component_uid)=>{delete state.components[component_uid];return["components",component_uid]},removeAll:state=>{state.components={};return["components"]}});var store$1=createCommonjsModule(function(module,exports){"use strict";(function(root,factory){if(typeof undefined==="function"&&undefined.amd){undefined([],factory)}else{module.exports=factory()}})(commonjsGlobal,function(){var store={},win=typeof window!="undefined"?window:commonjsGlobal,doc=win.document,localStorageName="localStorage",scriptTag="script",storage;store.disabled=false;store.version="1.3.20";store.set=function(key,value){};store.get=function(key,defaultVal){};store.has=function(key){return store.get(key)!==undefined};store.remove=function(key){};store.clear=function(){};store.transact=function(key,defaultVal,transactionFn){if(transactionFn==null){transactionFn=defaultVal;defaultVal=null}if(defaultVal==null){defaultVal={}}var val=store.get(key,defaultVal);transactionFn(val);store.set(key,val)};store.getAll=function(){};store.forEach=function(){};store.serialize=function(value){return JSON.stringify(value)};store.deserialize=function(value){if(typeof value!="string"){return undefined}try{return JSON.parse(value)}catch(e){return value||undefined}};function isLocalStorageNameSupported(){try{return localStorageName in win&&win[localStorageName]}catch(err){return false}}if(isLocalStorageNameSupported()){storage=win[localStorageName];store.set=function(key,val){if(val===undefined){return store.remove(key)}storage.setItem(key,store.serialize(val));return val};store.get=function(key,defaultVal){var val=store.deserialize(storage.getItem(key));return val===undefined?defaultVal:val};store.remove=function(key){storage.removeItem(key)};store.clear=function(){storage.clear()};store.getAll=function(){var ret={};store.forEach(function(key,val){ret[key]=val});return ret};store.forEach=function(callback){for(var i=0;i<storage.length;i++){var key=storage.key(i);callback(key,store.get(key))}}}else if(doc&&doc.documentElement.addBehavior){var storageOwner,storageContainer;try{storageContainer=new ActiveXObject("htmlfile");storageContainer.open();storageContainer.write("<"+scriptTag+">document.w=window</"+scriptTag+'><iframe src="/favicon.ico"></iframe>');storageContainer.close();storageOwner=storageContainer.w.frames[0].document;storage=storageOwner.createElement("div")}catch(e){storage=doc.createElement("div");storageOwner=doc.body}var withIEStorage=function(storeFunction){return function(){var args=Array.prototype.slice.call(arguments,0);args.unshift(storage);storageOwner.appendChild(storage);storage.addBehavior("#default#userData");storage.load(localStorageName);var result=storeFunction.apply(store,args);storageOwner.removeChild(storage);return result}};var forbiddenCharsRegex=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");var ieKeyFix=function(key){return key.replace(/^d/,"___$&").replace(forbiddenCharsRegex,"___")};store.set=withIEStorage(function(storage,key,val){key=ieKeyFix(key);if(val===undefined){return store.remove(key)}storage.setAttribute(key,store.serialize(val));storage.save(localStorageName);return val});store.get=withIEStorage(function(storage,key,defaultVal){key=ieKeyFix(key);var val=store.deserialize(storage.getAttribute(key));return val===undefined?defaultVal:val});store.remove=withIEStorage(function(storage,key){key=ieKeyFix(key);storage.removeAttribute(key);storage.save(localStorageName)});store.clear=withIEStorage(function(storage){var attributes=storage.XMLDocument.documentElement.attributes;storage.load(localStorageName);for(var i=attributes.length-1;i>=0;i--){storage.removeAttribute(attributes[i].name)}storage.save(localStorageName)});store.getAll=function(storage){var ret={};store.forEach(function(key,val){ret[key]=val});return ret};store.forEach=withIEStorage(function(storage,callback){var attributes=storage.XMLDocument.documentElement.attributes;for(var i=0,attr;attr=attributes[i];++i){callback(attr.name,store.deserialize(storage.getAttribute(attr.name)))}})}try{var testKey="__storejs__";store.set(testKey,testKey);if(store.get(testKey)!=testKey){store.disabled=true}store.remove(testKey)}catch(e){store.disabled=true}store.enabled=!store.disabled;return store})});var current$2=exporter$2("current",{all:(state,endpointKey)=>{const version=state.application.version;state.current[version]=endpointKey;store$1.set("current",state.current);return["current"]}});var drawers$2=exporter$2("drawers",{add:(state,tagName,tagOpts,drawerOpts)=>{if(tagOpts===void 0)tagOpts={};if(drawerOpts===void 0)drawerOpts={};state.drawers.push({id:`drawer_${Date.now()}`,tagName:tagName,tagOpts:tagOpts,drawerOpts:drawerOpts});return["drawers"]},remove:(state,drawerID)=>{state.drawers=reject_1$1(state.drawers,drawer=>{return drawer.id===drawerID});return["drawers"]}});function isNumber(val){return isKind_1$1(val,"Number")}var isNumber_1=isNumber;const putEndpointsInOrder=endpoints=>{const bigNumber=9999;let ordered=[];forOwn_1$2(endpoints,(endpoint,key)=>{ordered.push({key:key,order:isNumber_1(endpoint.order)?endpoint.order:bigNumber})});ordered=sortBy_1$1(ordered,obj=>{return obj.order});forEach_1$2(ordered,(obj,order)=>{endpoints[obj.key].order=order});return endpoints};var endpoints$2=exporter$2("endpoints",{add:(state,endpointKey,endpoint)=>{if(!isNumber_1(endpoint.order)){endpoint.order=-1}const version=state.application.version;let newEndpoints=objectAssign({},state.endpoints[version]);newEndpoints[endpointKey]=endpoint;newEndpoints=putEndpointsInOrder(newEndpoints);state.endpoints[version]=newEndpoints;store$1.set("endpoints",state.endpoints);return["endpoints"]},remove:(state,endpointKey)=>{const version=state.application.version;let newEndpoints=objectAssign({},state.endpoints[version]);delete newEndpoints[endpointKey];newEndpoints=putEndpointsInOrder(newEndpoints);state.endpoints[version]=newEndpoints;store$1.set("endpoints",state.endpoints);return["endpoints"]},removeAll:state=>{const version=state.application.version;state.endpoints[version]={};store$1.set("endpoints",state.endpoints);return["endpoints"]},update:(state,endpointKey,endpoint)=>{const version=state.application.version;const endpoints=state.endpoints[version];if(!endpoint){endpoints[endpointKey]=null}else{endpoints[endpointKey]=objectAssign({},endpoints[endpointKey],endpoint)}store$1.set("endpoints",state.endpoints);return["endpoints"]},updateToken:(state,endpointKey,token)=>{const version=state.application.version;const endpoints=state.endpoints[version];if(!!endpoints[endpointKey]){endpoints[endpointKey].token=token}store$1.set("endpoints",state.endpoints);return["endpoints"]},mergeAll:(state,endpoints)=>{const version=state.application.version;let modifiedEndpoints=objectAssign({},state.endpoints[version]);forOwn_1$2(endpoints,endpoint=>{let duplicatedEndpoint=find_1$1(modifiedEndpoints,val=>{return endpoint.url===val.url});if(!duplicatedEndpoint){const key=shortid.generate();modifiedEndpoints[key]=endpoint}else{objectAssign(duplicatedEndpoint,endpoint)}});modifiedEndpoints=putEndpointsInOrder(modifiedEndpoints);state.endpoints[version]=modifiedEndpoints;store$1.set("endpoints",state.endpoints);return["endpoints"]},tidyUpOrder:state=>{const version=state.application.version;const newEndpoints=putEndpointsInOrder(objectAssign({},state.endpoints[version]));state.endpoints[version]=newEndpoints;store$1.set("endpoints",state.endpoints);return["endpoints"]},changeOrder:(state,endpointKey,newOrder)=>{const version=state.application.version;let newEndpoints=objectAssign({},state.endpoints[version]);newEndpoints[endpointKey].order=newOrder-.5;newEndpoints=putEndpointsInOrder(newEndpoints);state.endpoints[version]=newEndpoints;store$1.set("endpoints",state.endpoints);return["endpoints"]}});var layout$2=exporter$2("layout",{updateSize:(state,width,height)=>{state.layout.size.width=width;state.layout.size.height=height;if(width>constants$1.layoutThreshold){state.layout.type=constants$1.layoutTypeDesktop}else{state.layout.type=constants$1.layoutTypeMobile}return["layout"]},updateComponentsGridColumnCount:(state,count)=>{state.layout.componentsGridColumnCount=count;return["layout"]}});var location$3=exporter$2("location",{all:(state,obj)=>{state.location=objectAssign({},state.location,obj);return["location"]},name:(state,name)=>{state.location.name=name;return["location"]},route:(state,route)=>{state.location.route=route;return["location"]}});var modals$2=exporter$2("modals",{add:(state,tagName,tagOpts,modalOpts)=>{if(tagOpts===void 0)tagOpts={};if(modalOpts===void 0)modalOpts={};state.modals.push({id:`modal_${Date.now()}`,tagName:tagName,tagOpts:tagOpts,modalOpts:modalOpts});return["modals"]},remove:(state,modalID)=>{state.modals=reject_1$1(state.modals,modal=>{return modal.id===modalID});return["modals"]}});var oas$2=exporter$2("oas",{client:(state,client)=>{state.oas.client=client;return["oas"]},clearClient:state=>{state.oas.client=null;return["oas"]}});var page$2=exporter$2("page",{all:(state,page)=>{state.page=page;return["page"]}});var popovers$2=exporter$2("popovers",{add:(state,tagName,tagOpts,popoverOpts)=>{if(tagOpts===void 0)tagOpts={};if(popoverOpts===void 0)popoverOpts={};state.popovers.push({id:`popover_${Date.now()}`,tagName:tagName,tagOpts:tagOpts,popoverOpts:objectAssign({direction:"T",width:100,x:0,y:0},popoverOpts)});return["popovers"]},remove:(state,popoverID)=>{state.popovers=reject_1$1(state.popovers,popover=>{return popover.id===popoverID});return["popovers"]}});const generateId=()=>{return`toast_${Date.now()}`};const TOAST_TYPE_NORMAL="normal";const TOAST_TIMEOUT=3*1e3;const TOAST_AUTO_HIDE=true;var toasts$2=exporter$2("toasts",{add:(state,obj)=>{const data=objectAssign({type:TOAST_TYPE_NORMAL,timeout:TOAST_TIMEOUT,autoHide:TOAST_AUTO_HIDE},obj,{id:generateId()});state.toasts.push(data);return["toasts"]},remove:(state,toastId)=>{state.toasts=reject_1$1(state.toasts,toast=>{return toast.id===toastId});return["toasts"]}});var ua$2=exporter$2("ua",{all:(state,ua)=>{state.ua=ua;return["ua"]}});function combine$1(arr1,arr2){if(arr2==null){return arr1}var i=-1,len=arr2.length;while(++i<len){if(indexOf_1$1(arr1,arr2[i])===-1){arr1.push(arr2[i])}}return arr1}var combine_1$1=combine$1;var viron$2=exporter$2("viron",{all:(state,viron)=>{if(!!viron){viron.sections=viron.sections||[];if(!find_1$2(viron.sections,section=>{return section.id==="manage"})){viron.sections=combine_1$1([{id:"manage",label:i18n$1.t("word.manage")}],viron.sections)}if(!find_1$2(viron.sections,section=>{return section.id==="dashboard"})){viron.sections=combine_1$1([{id:"dashboard",label:i18n$1.t("word.dashboard")}],viron.sections)}}state.viron=viron;return["viron"]}});var mutations=objectAssign({},application$2,components$2,current$2,drawers$2,endpoints$2,layout$2,location$3,modals$2,oas$2,page$2,popovers$2,toasts$2,ua$2,viron$2);var exporter$3=(name,any)=>{const ret={};ret[name]=any;return ret};var application$3=exporter$3("application",{version:(()=>{const url=new URL(window.location.href);if(url.hostname==="localhost"){return"local"}return url.pathname.replace(/viron/,"").replace(/\//g,"")})(),isLaunched:false,isNavigating:false,networkings:[],isNetworking:false,isDragging:false,isMenuOpened:true,endpointFilterText:""});var components$3=exporter$3("components",{});if(!isObject_1(store$1.get("current"))){store$1.set("current",{})}var current$3=exporter$3("current",store$1.get("current",{}));var drawers$3=exporter$3("drawers",[]);var endpoints$3=exporter$3("endpoints",store$1.get("endpoints",{}));var layout$3=exporter$3("layout",{type:(()=>{const width=window.innerWidth;if(width>constants$1.layoutThreshold){return constants$1.layoutTypeDesktop}return constants$1.layoutTypeMobile})(),size:{width:window.innerWidth,height:window.innerHeight},componentsGridColumnCount:(()=>{const htmlStyles=window.getComputedStyle(document.querySelector("html"));const columnCount=Number(htmlStyles.getPropertyValue("--page-components-grid-column-count"));return columnCount})()});var location$4=exporter$3("location",{name:"",route:{params:{},queries:{},hash:""}});var modals$3=exporter$3("modals",[]);var oas$3=exporter$3("oas",{client:null});var page$3=exporter$3("page",null);var popovers$3=exporter$3("popovers",[]);var signinShowKey=exporter$3("signinShowKey",null);var toasts$3=exporter$3("toasts",[]);var ua$3=exporter$3("ua",{});var viron$3=exporter$3("viron",null);var states=objectAssign({},application$3,components$3,current$3,drawers$3,endpoints$3,layout$3,location$4,modals$3,oas$3,page$3,popovers$3,signinShowKey,toasts$3,ua$3,viron$3);const getComponentStateName=riotId=>{return`component_${riotId}`};var store={init:()=>{return Promise.resolve().then(()=>{const store=new index$1$2.Store({state:states,actions:actions,mutations:mutations,getters:getters});index$1$2.add(store);return store})}};var script$2=function(){};riot$1.tag2("viron-components-page-graph-bar","","",'class="ComponentsPage_Card_GraphBar"',function(opts){this.external(script$2)});var script$3=function(){};riot$1.tag2("viron-components-page-graph-horizontal-bar","","",'class="ComponentsPage_Card_GraphHorizontalBar"',function(opts){this.external(script$3)});var script$4=function(){};riot$1.tag2("viron-components-page-graph-horizontal-stacked-bar","","",'class="ComponentsPage_Card_GraphHorizontalStackedBar"',function(opts){this.external(script$4)});var script$5=function(){};riot$1.tag2("viron-components-page-graph-line","","",'class="ComponentsPage_Card_GraphLine"',function(opts){this.external(script$5)});var script$6=function(){};riot$1.tag2("viron-components-page-graph-scatterplot","","",'class="ComponentsPage_Card_GraphScatterplot"',function(opts){this.external(script$6)});var script$7=function(){};riot$1.tag2("viron-components-page-graph-stacked-area","","",'class="ComponentsPage_Card_GraphStackedArea"',function(opts){this.external(script$7)});var script$8=function(){};riot$1.tag2("viron-components-page-graph-stacked-bar","","",'class="ComponentsPage_Card_GraphStackedBar"',function(opts){this.external(script$8)});function toNumber(val){if(typeof val==="number"){return val}if(!val){return 0}if(typeof val==="string"){return parseFloat(val)}if(isArray_1$1(val)){return NaN}return Number(val)}var toNumber_1=toNumber;function currencyFormat(val,nDecimalDigits,decimalSeparator,thousandsSeparator){val=toNumber_1(val);nDecimalDigits=nDecimalDigits==null?2:nDecimalDigits;decimalSeparator=decimalSeparator==null?".":decimalSeparator;thousandsSeparator=thousandsSeparator==null?",":thousandsSeparator;var fixed=val.toFixed(nDecimalDigits),parts=new RegExp("^(-?\\d{1,3})((?:\\d{3})+)(\\.(\\d{"+nDecimalDigits+"}))?$").exec(fixed);if(parts){return parts[1]+parts[2].replace(/\d{3}/g,thousandsSeparator+"$&")+(parts[4]?decimalSeparator+parts[4]:"")}else{return fixed.replace(".",decimalSeparator)}}var currencyFormat_1=currencyFormat;var script$9=function(){const store=this.riotx.get();const getData=()=>{return Promise.resolve().then(()=>{this.isLoading=true;this.update()}).then(()=>store.action("components.get",this.opts.id,this.opts.def)).then(()=>{this.isLoading=false;this.error=null;this.update()}).catch(err=>{this.isLoading=false;if(err.status===401){this.error="Ë™çË®º„Ç®„É©„Éº„ÄÇ"}else{const api=this.opts.def.api;this.error=`[${api.method.toUpperCase()}¬∑${api.path}]ÈÄö‰ø°„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ`}this.update()})};const validate=data=>{if(!data){return"TODO: „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏"}if(!isNumber_1(data.value)){return"TODO: „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏"}return null};this.data=null;this.isLoading=true;this.error=null;this.getValue=(()=>{return currencyFormat_1(this.data.value,0)});this.listen(this.opts.id,()=>{this.data=store.getter("components.response",this.opts.id);this.error=validate(this.data);this.update()});this.on("mount",()=>{getData()}).on("unmount",()=>{store.action("components.remove",this.opts.id)});this.handleRefreshButtonTap=(()=>{getData()})};riot$1.tag2("viron-components-page-number",'<div class="ComponentsPage_Card_Number__head"> <div class="ComponentsPage_Card_Number__title">{opts.def.name}</div> <div class="ComponentsPage_Card_Number__control"> <div onclick="{getClickHandler(\'handleRefreshButtonTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleRefreshButtonTap\')}"></div> </div> </div> <div class="ComponentsPage_Card_Number__body" if="{!isLoading}"> <virtual if="{!!error}"> <div class="ComponentsPage_Card_Number__error">{error}</div> </virtual> <virtual if="{!error}"> <div class="ComponentsPage_Card_Number__value">{getValue()}</div> <div class="ComponentsPage_Card_Number__unit" if="{!!data.unit}">{data.unit}</div> </virtual> </div>',"",'class="ComponentsPage_Card_Number"',function(opts){this.external(script$9)});var script$10=function(){};riot$1.tag2("viron-components-page-table","","",'class="ComponentsPage_Card_Table"',function(opts){this.external(script$10)});var script$11=function(){this.componentId=getComponentStateName(this._riot_id)};riot$1.tag2("viron-components-page-card",'<div class="ComponentsPage_Card__body"> <div data-is="viron-components-page-{opts.def.style}" id="{componentId}" def="{opts.def}"></div> </div>',"",'class="ComponentsPage_Card"',function(opts){this.external(script$11)});var script$12=function(){const store=this.riotx.get();this.components=store.getter("page.componentsInline");this.listen("page",()=>{this.components=store.getter("page.componentsInline");this.update()})};riot$1.tag2("viron-components-page-inlines",'<div class="ComponentsPage_Inlines__list"> <viron-components-page-card each="{component in components}" def="{component}"></viron-components-page-card> </div>',"",'class="ComponentsPage_Inlines"',function(opts){this.external(script$12)});var script$13=function(){};riot$1.tag2("viron-components-page",'<div class="ComponentsPage__graphs"></div> <viron-components-page-inlines></viron-components-page-inlines> <div class="ComponentsPage__tables"></div>',"",'class="ComponentsPage"',function(opts){this.external(script$13)});var script$14=function(){};riot$1.tag2("viron-tag",'<div class="Tag__label">{opts.label}</div>',"",'class="Tag"',function(opts){this.external(script$14)});riot$1.tag2("viron-icon-dots",'<svg viewbox="-3614 14066 16 4"> <g transform="translate(-3894 14025)"> <circle cx="2" cy="2" r="2" transform="translate(280 41)"></circle> <circle cx="2" cy="2" r="2" transform="translate(286 41)"></circle> <circle cx="2" cy="2" r="2" transform="translate(292 41)"></circle> </g> </svg>',"",'class="icon Icon IconDots {opts.class}"',function(opts){});function isString(val){return isKind_1$1(val,"String")}var isString_1=isString;var script$17=function(){this.normalizeValue=(value=>{if(!isString_1(value)){return null}return value});this.handleTap=(()=>{this.refs.input.focus()});this.handleFormSubmit=(e=>{e.preventDefault();if(!this.opts.onchange){return}const newVal=this.normalizeValue(this.opts.val);this.opts.onchange(newVal,this.opts.id)});this.handleTextareaChange=(e=>{e.stopPropagation()});this.handleTextareaInput=(e=>{if(!this.opts.onchange){return}const newVal=this.normalizeValue(e.target.value);this.opts.onchange(newVal,this.opts.id)})};riot$1.tag2("viron-textarea",'<div class="Textarea__label" if="{!!opts.label}">{opts.label}</div> <form class="Textarea__form" ref="form" onsubmit="{handleFormSubmit}"> <textarea class="Textarea__input" ref="input" riot-value="{normalizeValue(opts.val)}" placeholder="{opts.placeholder}" disabled="{!!opts.isdisabled}" oninput="{handleTextareaInput}" onchange="{handleTextareaChange}"></textarea> </form>',"",'class="Textarea {\'Textarea--disabled\': opts.isdisabled}" onclick="{getClickHandler(\'handleTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleTap\')}"',function(opts){this.external(script$17)});var script$18=function(){this.handleTap=(()=>{if(!this.opts.onselect){return}this.opts.onselect()})};riot$1.tag2("viron-button",'<div class="Button__label">{opts.label}</div>',"",'class="Button Button--{opts.theme || \'primary\'}" onclick="{getClickHandler(\'handleTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleTap\')}"',function(opts){this.external(script$18)});var script$19=function(){const store=this.riotx.get();this.memo=this.opts.endpoint.memo;this.handleMemoChange=(newMemo=>{this.memo=newMemo;this.update()});this.handleSaveButtonSelect=(()=>{Promise.resolve().then(()=>store.action("endpoints.update",this.opts.endpoint.key,{memo:this.memo})).then(()=>store.action("toasts.add",{message:"‰øùÂ≠òÂÆå‰∫Ü„ÄÇ"})).then(()=>{this.close()}).catch(err=>store.action("modals.add","viron-error",{error:err}))});this.handleCancelButtonSelect=(()=>{this.close()})};riot$1.tag2("viron-endpoints-page-endpoint-menu-edit",'<div class="EndpointsPage_Endpoint_Menu_Edit__title">„Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàÁ∑®ÈõÜ</div> <div class="EndpointsPage_Endpoint_Menu_Edit__thumbnail" riot-style="background-image:url({opts.endpoint.thumbnail});"></div> <div class="EndpointsPage_Endpoint_Menu_Edit__name">name: {opts.endpoint.name}</div> <div class="EndpointsPage_Endpoint_Menu_Edit__inputs"> <viron-textarea label="„É°„É¢" val="{memo}" onchange="{handleMemoChange}"></viron-textarea> </div> <div class="EndpointsPage_Endpoint_Menu_Edit__control"> <viron-button label="‰øùÂ≠ò" onselect="{handleSaveButtonSelect}"></viron-button> <viron-button theme="ghost" label="„Ç≠„É£„É≥„Çª„É´" onselect="{handleCancelButtonSelect}"></viron-button> </div>',"",'class="EndpointsPage_Endpoint_Menu_Edit"',function(opts){this.external(script$19)});var qrious=createCommonjsModule(function(module,exports){(function(global,factory){module.exports=factory()})(commonjsGlobal,function(){"use strict";var Constructor=function(){};var hasOwnProperty=Object.prototype.hasOwnProperty;var slice=Array.prototype.slice;function createObject(prototype,properties){var result;if(typeof Object.create==="function"){result=Object.create(prototype)}else{Constructor.prototype=prototype;result=new Constructor;Constructor.prototype=null}if(properties){extendObject(true,result,properties)}return result}function extend(name,constructor,prototype,statics){var superConstructor=this;if(typeof name!=="string"){statics=prototype;prototype=constructor;constructor=name;name=null}if(typeof constructor!=="function"){statics=prototype;prototype=constructor;constructor=function(){return superConstructor.apply(this,arguments)}}extendObject(false,constructor,superConstructor,statics);constructor.prototype=createObject(superConstructor.prototype,prototype);constructor.prototype.constructor=constructor;constructor.class_=name||superConstructor.class_;constructor.super_=superConstructor;return constructor}function extendObject(own,target,sources){sources=slice.call(arguments,2);var property;var source;for(var i=0,length=sources.length;i<length;i++){source=sources[i];for(property in source){if(!own||hasOwnProperty.call(source,property)){target[property]=source[property]}}}}var extend_1=extend;function Nevis(){}Nevis.class_="Nevis";Nevis.super_=Object;Nevis.extend=extend_1;var nevis=Nevis;var lite=nevis;var Renderer=lite.extend(function(qrious,element,enabled){this.qrious=qrious;this.element=element;this.element.qrious=qrious;this.enabled=Boolean(enabled)},{draw:function(frame){},getElement:function(){if(!this.enabled){this.enabled=true;this.render()}return this.element},getModuleSize:function(frame){var qrious=this.qrious;var padding=qrious.padding||0;var pixels=Math.floor((qrious.size-padding*2)/frame.width);return Math.max(1,pixels)},getOffset:function(frame){var qrious=this.qrious;var padding=qrious.padding;if(padding!=null){return padding}var moduleSize=this.getModuleSize(frame);var offset=Math.floor((qrious.size-moduleSize*frame.width)/2);return Math.max(0,offset)},render:function(frame){if(this.enabled){this.resize();this.reset();this.draw(frame)}},reset:function(){},resize:function(){}});var Renderer_1=Renderer;var CanvasRenderer=Renderer_1.extend({draw:function(frame){var i,j;var qrious=this.qrious;var moduleSize=this.getModuleSize(frame);var offset=this.getOffset(frame);var context=this.element.getContext("2d");context.fillStyle=qrious.foreground;context.globalAlpha=qrious.foregroundAlpha;for(i=0;i<frame.width;i++){for(j=0;j<frame.width;j++){if(frame.buffer[j*frame.width+i]){context.fillRect(moduleSize*i+offset,moduleSize*j+offset,moduleSize,moduleSize)}}}},reset:function(){var qrious=this.qrious;var context=this.element.getContext("2d");var size=qrious.size;context.lineWidth=1;context.clearRect(0,0,size,size);context.fillStyle=qrious.background;context.globalAlpha=qrious.backgroundAlpha;context.fillRect(0,0,size,size)},resize:function(){var element=this.element;element.width=element.height=this.qrious.size}});var CanvasRenderer_1=CanvasRenderer;var Alignment=lite.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]});var Alignment_1=Alignment;var ErrorCorrection=lite.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}});var ErrorCorrection_1=ErrorCorrection;var Galois=lite.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]});var Galois_1=Galois;var Version=lite.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]});var Version_1=Version;var Frame=lite.extend(function(options){var dataBlock,eccBlock,index,neccBlock1,neccBlock2;var valueLength=options.value.length;this._badness=[];this._level=ErrorCorrection_1.LEVELS[options.level];this._polynomial=[];this._value=options.value;this._version=0;this._stringBuffer=[];while(this._version<40){this._version++;index=(this._level-1)*4+(this._version-1)*16;neccBlock1=ErrorCorrection_1.BLOCKS[index++];neccBlock2=ErrorCorrection_1.BLOCKS[index++];dataBlock=ErrorCorrection_1.BLOCKS[index++];eccBlock=ErrorCorrection_1.BLOCKS[index];index=dataBlock*(neccBlock1+neccBlock2)+neccBlock2-3+(this._version<=9);if(valueLength<=index){break}}this._dataBlock=dataBlock;this._eccBlock=eccBlock;this._neccBlock1=neccBlock1;this._neccBlock2=neccBlock2;var width=this.width=17+4*this._version;this.buffer=Frame._createArray(width*width);this._ecc=Frame._createArray(dataBlock+(dataBlock+eccBlock)*(neccBlock1+neccBlock2)+neccBlock2);this._mask=Frame._createArray((width*(width+1)+1)/2);this._insertFinders();this._insertAlignments();this.buffer[8+width*(width-8)]=1;this._insertTimingGap();this._reverseMask();this._insertTimingRowAndColumn();this._insertVersion();this._syncMask();this._convertBitStream(valueLength);this._calculatePolynomial();this._appendEccToData();this._interleaveBlocks();this._pack();this._finish()},{_addAlignment:function(x,y){var i;var buffer=this.buffer;var width=this.width;buffer[x+width*y]=1;for(i=-2;i<2;i++){buffer[x+i+width*(y-2)]=1;buffer[x-2+width*(y+i+1)]=1;buffer[x+2+width*(y+i)]=1;buffer[x+i+1+width*(y+2)]=1}for(i=0;i<2;i++){this._setMask(x-1,y+i);this._setMask(x+1,y-i);this._setMask(x-i,y-1);this._setMask(x+i,y+1)}},_appendData:function(data,dataLength,ecc,eccLength){var bit,i,j;var polynomial=this._polynomial;var stringBuffer=this._stringBuffer;for(i=0;i<eccLength;i++){stringBuffer[ecc+i]=0}for(i=0;i<dataLength;i++){bit=Galois_1.LOG[stringBuffer[data+i]^stringBuffer[ecc]];if(bit!==255){for(j=1;j<eccLength;j++){stringBuffer[ecc+j-1]=stringBuffer[ecc+j]^Galois_1.EXPONENT[Frame._modN(bit+polynomial[eccLength-j])]}}else{for(j=ecc;j<ecc+eccLength;j++){stringBuffer[j]=stringBuffer[j+1]}}stringBuffer[ecc+eccLength-1]=bit===255?0:Galois_1.EXPONENT[Frame._modN(bit+polynomial[0])]}},_appendEccToData:function(){var i;var data=0;var dataBlock=this._dataBlock;var ecc=this._calculateMaxLength();var eccBlock=this._eccBlock;for(i=0;i<this._neccBlock1;i++){this._appendData(data,dataBlock,ecc,eccBlock);data+=dataBlock;ecc+=eccBlock}for(i=0;i<this._neccBlock2;i++){this._appendData(data,dataBlock+1,ecc,eccBlock);data+=dataBlock+1;ecc+=eccBlock}},_applyMask:function(mask){var r3x,r3y,x,y;var buffer=this.buffer;var width=this.width;switch(mask){case 0:for(y=0;y<width;y++){for(x=0;x<width;x++){if(!(x+y&1)&&!this._isMasked(x,y)){buffer[x+y*width]^=1}}}break;case 1:for(y=0;y<width;y++){for(x=0;x<width;x++){if(!(y&1)&&!this._isMasked(x,y)){buffer[x+y*width]^=1}}}break;case 2:for(y=0;y<width;y++){for(r3x=0,x=0;x<width;x++,r3x++){if(r3x===3){r3x=0}if(!r3x&&!this._isMasked(x,y)){buffer[x+y*width]^=1}}}break;case 3:for(r3y=0,y=0;y<width;y++,r3y++){if(r3y===3){r3y=0}for(r3x=r3y,x=0;x<width;x++,r3x++){if(r3x===3){r3x=0}if(!r3x&&!this._isMasked(x,y)){buffer[x+y*width]^=1}}}break;case 4:for(y=0;y<width;y++){for(r3x=0,r3y=y>>1&1,x=0;x<width;x++,r3x++){if(r3x===3){r3x=0;r3y=!r3y}if(!r3y&&!this._isMasked(x,y)){buffer[x+y*width]^=1}}}break;case 5:for(r3y=0,y=0;y<width;y++,r3y++){if(r3y===3){r3y=0}for(r3x=0,x=0;x<width;x++,r3x++){if(r3x===3){r3x=0}if(!((x&y&1)+!(!r3x|!r3y))&&!this._isMasked(x,y)){buffer[x+y*width]^=1}}}break;case 6:for(r3y=0,y=0;y<width;y++,r3y++){if(r3y===3){r3y=0}for(r3x=0,x=0;x<width;x++,r3x++){if(r3x===3){r3x=0}if(!((x&y&1)+(r3x&&r3x===r3y)&1)&&!this._isMasked(x,y)){buffer[x+y*width]^=1}}}break;case 7:for(r3y=0,y=0;y<width;y++,r3y++){if(r3y===3){r3y=0}for(r3x=0,x=0;x<width;x++,r3x++){if(r3x===3){r3x=0}if(!((r3x&&r3x===r3y)+(x+y&1)&1)&&!this._isMasked(x,y)){buffer[x+y*width]^=1}}}break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var i,j;var eccBlock=this._eccBlock;var polynomial=this._polynomial;polynomial[0]=1;for(i=0;i<eccBlock;i++){polynomial[i+1]=1;for(j=i;j>0;j--){polynomial[j]=polynomial[j]?polynomial[j-1]^Galois_1.EXPONENT[Frame._modN(Galois_1.LOG[polynomial[j]]+i)]:polynomial[j-1]}polynomial[0]=Galois_1.EXPONENT[Frame._modN(Galois_1.LOG[polynomial[0]]+i)]}for(i=0;i<=eccBlock;i++){polynomial[i]=Galois_1.LOG[polynomial[i]]}},_checkBadness:function(){var b,b1,h,x,y;var bad=0;var badness=this._badness;var buffer=this.buffer;var width=this.width;for(y=0;y<width-1;y++){for(x=0;x<width-1;x++){if(buffer[x+width*y]&&buffer[x+1+width*y]&&buffer[x+width*(y+1)]&&buffer[x+1+width*(y+1)]||!(buffer[x+width*y]||buffer[x+1+width*y]||buffer[x+width*(y+1)]||buffer[x+1+width*(y+1)])){bad+=Frame.N2}}}var bw=0;for(y=0;y<width;y++){h=0;badness[0]=0;for(b=0,x=0;x<width;x++){b1=buffer[x+width*y];if(b===b1){badness[h]++}else{badness[++h]=1}b=b1;bw+=b?1:-1}bad+=this._getBadness(h)}if(bw<0){bw=-bw}var count=0;var big=bw;big+=big<<2;big<<=1;while(big>width*width){big-=width*width;count++}bad+=count*Frame.N4;for(x=0;x<width;x++){h=0;badness[0]=0;for(b=0,y=0;y<width;y++){b1=buffer[x+width*y];if(b===b1){badness[h]++}else{badness[++h]=1}b=b1}bad+=this._getBadness(h)}return bad},_convertBitStream:function(length){var bit,i;var ecc=this._ecc;var version=this._version;for(i=0;i<length;i++){ecc[i]=this._value.charCodeAt(i)}var stringBuffer=this._stringBuffer=ecc.slice();var maxLength=this._calculateMaxLength();if(length>=maxLength-2){length=maxLength-2;if(version>9){length--}}var index=length;if(version>9){stringBuffer[index+2]=0;stringBuffer[index+3]=0;while(index--){bit=stringBuffer[index];stringBuffer[index+3]|=255&bit<<4;stringBuffer[index+2]=bit>>4}stringBuffer[2]|=255&length<<4;stringBuffer[1]=length>>4;stringBuffer[0]=64|length>>12}else{stringBuffer[index+1]=0;stringBuffer[index+2]=0;while(index--){bit=stringBuffer[index];stringBuffer[index+2]|=255&bit<<4;stringBuffer[index+1]=bit>>4}stringBuffer[1]|=255&length<<4;stringBuffer[0]=64|length>>4}index=length+3-(version<10);while(index<maxLength){stringBuffer[index++]=236;stringBuffer[index++]=17}},_getBadness:function(length){var i;var badRuns=0;var badness=this._badness;for(i=0;i<=length;i++){if(badness[i]>=5){badRuns+=Frame.N1+badness[i]-5}}for(i=3;i<length-1;i+=2){if(badness[i-2]===badness[i+2]&&badness[i+2]===badness[i-1]&&badness[i-1]===badness[i+1]&&badness[i-1]*3===badness[i]&&(badness[i-3]===0||i+3>length||badness[i-3]*3>=badness[i]*4||badness[i+3]*3>=badness[i]*4)){badRuns+=Frame.N3}}return badRuns},_finish:function(){this._stringBuffer=this.buffer.slice();var currentMask,i;var bit=0;var mask=3e4;for(i=0;i<8;i++){this._applyMask(i);currentMask=this._checkBadness();if(currentMask<mask){mask=currentMask;bit=i}if(bit===7){break}this.buffer=this._stringBuffer.slice()}if(bit!==i){this._applyMask(bit)}mask=ErrorCorrection_1.FINAL_FORMAT[bit+(this._level-1<<3)];var buffer=this.buffer;var width=this.width;for(i=0;i<8;i++,mask>>=1){if(mask&1){buffer[width-1-i+width*8]=1;if(i<6){buffer[8+width*i]=1}else{buffer[8+width*(i+1)]=1}}}for(i=0;i<7;i++,mask>>=1){if(mask&1){buffer[8+width*(width-7+i)]=1;if(i){buffer[6-i+width*8]=1}else{buffer[7+width*8]=1}}}},_interleaveBlocks:function(){var i,j;var dataBlock=this._dataBlock;var ecc=this._ecc;var eccBlock=this._eccBlock;var k=0;var maxLength=this._calculateMaxLength();var neccBlock1=this._neccBlock1;var neccBlock2=this._neccBlock2;var stringBuffer=this._stringBuffer;for(i=0;i<dataBlock;i++){for(j=0;j<neccBlock1;j++){ecc[k++]=stringBuffer[i+j*dataBlock]}for(j=0;j<neccBlock2;j++){ecc[k++]=stringBuffer[neccBlock1*dataBlock+i+j*(dataBlock+1)]}}for(j=0;j<neccBlock2;j++){ecc[k++]=stringBuffer[neccBlock1*dataBlock+i+j*(dataBlock+1)]}for(i=0;i<eccBlock;i++){for(j=0;j<neccBlock1+neccBlock2;j++){ecc[k++]=stringBuffer[maxLength+i+j*eccBlock]}}this._stringBuffer=ecc},_insertAlignments:function(){var i,x,y;var version=this._version;var width=this.width;if(version>1){i=Alignment_1.BLOCK[version];y=width-7;for(;;){x=width-7;while(x>i-3){this._addAlignment(x,y);if(x<i){break}x-=i}if(y<=i+9){break}y-=i;this._addAlignment(6,y);this._addAlignment(y,6)}}},_insertFinders:function(){var i,j,x,y;var buffer=this.buffer;var width=this.width;for(i=0;i<3;i++){j=0;y=0;if(i===1){j=width-7}if(i===2){y=width-7}buffer[y+3+width*(j+3)]=1;for(x=0;x<6;x++){buffer[y+x+width*j]=1;buffer[y+width*(j+x+1)]=1;buffer[y+6+width*(j+x)]=1;buffer[y+x+1+width*(j+6)]=1}for(x=1;x<5;x++){this._setMask(y+x,j+1);this._setMask(y+1,j+x+1);this._setMask(y+5,j+x);this._setMask(y+x+1,j+5)}for(x=2;x<4;x++){buffer[y+x+width*(j+2)]=1;buffer[y+2+width*(j+x+1)]=1;buffer[y+4+width*(j+x)]=1;buffer[y+x+1+width*(j+4)]=1}}},_insertTimingGap:function(){var x,y;var width=this.width;for(y=0;y<7;y++){this._setMask(7,y);this._setMask(width-8,y);this._setMask(7,y+width-7)}for(x=0;x<8;x++){this._setMask(x,7);this._setMask(x+width-8,7);this._setMask(x,width-8)}},_insertTimingRowAndColumn:function(){var x;var buffer=this.buffer;var width=this.width;for(x=0;x<width-14;x++){if(x&1){this._setMask(8+x,6);this._setMask(6,8+x)}else{buffer[8+x+width*6]=1;buffer[6+width*(8+x)]=1}}},_insertVersion:function(){var i,j,x,y;var buffer=this.buffer;var version=this._version;var width=this.width;if(version>6){i=Version_1.BLOCK[version-7];j=17;for(x=0;x<6;x++){for(y=0;y<3;y++,j--){if(1&(j>11?version>>j-12:i>>j)){buffer[5-x+width*(2-y+width-11)]=1;buffer[2-y+width-11+width*(5-x)]=1}else{this._setMask(5-x,2-y+width-11);this._setMask(2-y+width-11,5-x)}}}}},_isMasked:function(x,y){var bit=Frame._getMaskBit(x,y);return this._mask[bit]===1},_pack:function(){var bit,i,j;var k=1;var v=1;var width=this.width;var x=width-1;var y=width-1;var length=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(i=0;i<length;i++){bit=this._stringBuffer[i];for(j=0;j<8;j++,bit<<=1){if(128&bit){this.buffer[x+width*y]=1}do{if(v){x--}else{x++;if(k){if(y!==0){y--}else{x-=2;k=!k;if(x===6){x--;y=9}}}else if(y!==width-1){y++}else{x-=2;k=!k;if(x===6){x--;y-=8}}}v=!v}while(this._isMasked(x,y))}}},_reverseMask:function(){var x,y;var width=this.width;for(x=0;x<9;x++){this._setMask(x,8)}for(x=0;x<8;x++){this._setMask(x+width-8,8);this._setMask(8,x)}for(y=0;y<7;y++){this._setMask(8,y+width-7)}},_setMask:function(x,y){var bit=Frame._getMaskBit(x,y);this._mask[bit]=1},_syncMask:function(){var x,y;var width=this.width;for(y=0;y<width;y++){for(x=0;x<=y;x++){if(this.buffer[x+width*y]){this._setMask(x,y)}}}}},{_createArray:function(length){var i;var array=[];for(i=0;i<length;i++){array[i]=0}return array},_getMaskBit:function(x,y){var bit;if(x>y){bit=x;x=y;y=bit}bit=y;bit+=y*y;bit>>=1;bit+=x;return bit},_modN:function(x){while(x>=255){x-=255;x=(x>>8)+(x&255)}return x},N1:3,N2:3,N3:40,N4:10});var Frame_1=Frame;var ImageRenderer=Renderer_1.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var element=this.element;element.width=element.height=this.qrious.size}});var ImageRenderer_1=ImageRenderer;var Option=lite.extend(function(name,modifiable,defaultValue,valueTransformer){this.name=name;this.modifiable=Boolean(modifiable);this.defaultValue=defaultValue;this._valueTransformer=valueTransformer},{transform:function(value){var transformer=this._valueTransformer;if(typeof transformer==="function"){return transformer(value,this)}return value}});var Option_1=Option;var Utilities=lite.extend(null,{abs:function(value){return value!=null?Math.abs(value):null},hasOwn:function(object,name){return Object.prototype.hasOwnProperty.call(object,name)},noop:function(){},toUpperCase:function(string){return string!=null?string.toUpperCase():null}});var Utilities_1=Utilities;var OptionManager=lite.extend(function(options){this.options={};options.forEach(function(option){this.options[option.name]=option},this)},{exists:function(name){return this.options[name]!=null},get:function(name,target){return OptionManager._get(this.options[name],target)},getAll:function(target){var name;var options=this.options;var result={};for(name in options){if(Utilities_1.hasOwn(options,name)){result[name]=OptionManager._get(options[name],target)}}return result},init:function(options,target,changeHandler){if(typeof changeHandler!=="function"){changeHandler=Utilities_1.noop}var name,option;for(name in this.options){if(Utilities_1.hasOwn(this.options,name)){option=this.options[name];OptionManager._set(option,option.defaultValue,target);OptionManager._createAccessor(option,target,changeHandler)}}this._setAll(options,target,true)},set:function(name,value,target){return this._set(name,value,target)},setAll:function(options,target){return this._setAll(options,target)},_set:function(name,value,target,allowUnmodifiable){var option=this.options[name];if(!option){throw new Error("Invalid option: "+name)}if(!option.modifiable&&!allowUnmodifiable){throw new Error("Option cannot be modified: "+name)}return OptionManager._set(option,value,target)},_setAll:function(options,target,allowUnmodifiable){if(!options){return false}var name;var changed=false;for(name in options){if(Utilities_1.hasOwn(options,name)&&this._set(name,options[name],target,allowUnmodifiable)){changed=true}}return changed}},{_createAccessor:function(option,target,changeHandler){var descriptor={get:function(){return OptionManager._get(option,target)}};if(option.modifiable){descriptor.set=function(value){if(OptionManager._set(option,value,target)){changeHandler(value,option)}}}Object.defineProperty(target,option.name,descriptor)},_get:function(option,target){return target["_"+option.name]},_set:function(option,value,target){var fieldName="_"+option.name;var oldValue=target[fieldName];var newValue=option.transform(value!=null?value:option.defaultValue);target[fieldName]=newValue;return newValue!==oldValue}});var OptionManager_1=OptionManager;var ServiceManager=lite.extend(function(){this._services={}},{getService:function(name){var service=this._services[name];if(!service){throw new Error("Service is not being managed with name: "+name)}return service},setService:function(name,service){if(this._services[name]){throw new Error("Service is already managed with name: "+name)}if(service){this._services[name]=service}}});var ServiceManager_1=ServiceManager;var optionManager=new OptionManager_1([new Option_1("background",true,"white"),new Option_1("backgroundAlpha",true,1,Utilities_1.abs),new Option_1("element"),new Option_1("foreground",true,"black"),new Option_1("foregroundAlpha",true,1,Utilities_1.abs),new Option_1("level",true,"L",Utilities_1.toUpperCase),new Option_1("mime",true,"image/png"),new Option_1("padding",true,null,Utilities_1.abs),new Option_1("size",true,100,Utilities_1.abs),new Option_1("value",true,"")]);var serviceManager=new ServiceManager_1;var QRious=lite.extend(function(options){optionManager.init(options,this,this.update.bind(this));var element=optionManager.get("element",this);var elementService=serviceManager.getService("element");var canvas=element&&elementService.isCanvas(element)?element:elementService.createCanvas();var image=element&&elementService.isImage(element)?element:elementService.createImage();this._canvasRenderer=new CanvasRenderer_1(this,canvas,true);this._imageRenderer=new ImageRenderer_1(this,image,image===element);this.update()},{get:function(){return optionManager.getAll(this)},set:function(options){if(optionManager.setAll(options,this)){this.update()}},toDataURL:function(mime){return this.canvas.toDataURL(mime||this.mime)},update:function(){var frame=new Frame_1({level:this.level,value:this.value});this._canvasRenderer.render(frame);this._imageRenderer.render(frame)}},{use:function(service){serviceManager.setService(service.getName(),service)}});Object.defineProperties(QRious.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var QRious_1$2=QRious;var index=QRious_1$2;var Service=lite.extend({getName:function(){}});var Service_1=Service;var ElementService=Service_1.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(element){},isImage:function(element){}});var ElementService_1=ElementService;var BrowserElementService=ElementService_1.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(element){return element instanceof HTMLCanvasElement},isImage:function(element){return element instanceof HTMLImageElement}});var BrowserElementService_1=BrowserElementService;index.use(new BrowserElementService_1);var QRious_1=index;return QRious_1})});var script$20=function(){this.on("mount",()=>{new qrious(objectAssign({},this.opts.data,{element:this.refs.canvas}))})};riot$1.tag2("viron-qrcode",'<canvas class="Qrcode_canvas" ref="canvas"></canvas>',"",'class="Qrcode"',function(opts){this.external(script$20)});var script$21=function(){const optimizedEndpoint=objectAssign({},{url:this.opts.endpoint.url,memo:this.opts.endpoint.memo});const encodedEndpoint=encodeURIComponent(JSON.stringify(optimizedEndpoint));const value=`${location.origin}/#/endpointimport?endpoint=${encodedEndpoint}`;this.data={level:"L",mime:"image/png",size:200,value:value}};riot$1.tag2("viron-endpoints-page-endpoint-menu-qrcode",'<div class="EndpointsPage_Endpoint_Menu_QRCode__message">„É¢„Éê„Ç§„É´Á´ØÊú´„Å´„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÇíËøΩÂä†„Åß„Åç„Åæ„Åô„ÄÇ<br>„ÅäÂ•Ω„Åç„Å™QR„Ç≥„Éº„Éâ„É™„Éº„ÉÄ„Éº„ÅßË™≠„ÅøËæº„Çì„Åß‰∏ã„Åï„ÅÑ„ÄÇ</div> <div class="EndpointsPage_Endpoint_Menu_QRCode__canvas"> <viron-qrcode data="{data}"></viron-qrcode> </div>',"",'class="EndpointsPage_Endpoint_Menu_QRCode"',function(opts){this.external(script$21)});var script$16=function(){const store=this.riotx.get();this.handleEditButtonTap=(()=>{Promise.resolve().then(()=>store.action("modals.add","viron-endpoints-page-endpoint-menu-edit",{endpoint:this.opts.endpoint})).then(()=>{this.close()}).catch(err=>store.action("modals.add","viron-error",{error:err}))});this.handleDeleteButtonTap=(()=>{Promise.resolve().then(()=>store.action("endpoints.remove",this.opts.endpoint.key)).then(()=>store.action("toasts.add",{message:"„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü„ÄÇ"})).then(()=>{this.close()}).catch(err=>store.action("modals.add","viron-error",{error:err}))});this.handleQRCodeButtonTap=(()=>{Promise.resolve().then(()=>store.action("modals.add","viron-endpoints-page-endpoint-menu-qrcode",{endpoint:this.opts.endpoint})).then(()=>{this.close()}).catch(err=>store.action("modals.add","viron-error",{error:err}))});this.handleSignoutButtonTap=(()=>{Promise.resolve().then(()=>store.action("auth.remove",this.opts.endpoint.key)).then(()=>store.action("toasts.add",{message:"„É≠„Ç∞„Ç¢„Ç¶„Éà„Åó„Åæ„Åó„Åü„ÄÇ"})).then(()=>{this.close()}).catch(err=>store.action("modals.add","viron-error",{error:err}))})};riot$1.tag2("viron-endpoints-page-endpoint-menu",'<div onclick="{getClickHandler(\'handleEditButtonTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleEditButtonTap\')}">Á∑®ÈõÜ</div> <div onclick="{getClickHandler(\'handleDeleteButtonTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleDeleteButtonTap\')}">ÂâäÈô§</div> <div onclick="{getClickHandler(\'handleQRCodeButtonTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleQRCodeButtonTap\')}">QR Code</div> <div onclick="{getClickHandler(\'handleSignoutButtonTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleSignoutButtonTap\')}">„Çµ„Ç§„É≥„Ç¢„Ç¶„Éà</div>',"",'class="EndpointsPage_Endpoint_Menu"',function(opts){this.external(script$16)});var script$22=function(){};riot$1.tag2("viron-horizontal-rule",'<div class="HorizontalRule__line"></div> <virtual if="{!!opts.label}"> <div class="HorizontalRule__label">{opts.label}</div> <div class="HorizontalRule__line"></div> </virtual>',"",'class="HorizontalRule"',function(opts){this.external(script$22)});var script$23=function(){this.normalizeValue=(value=>{if(!isString_1(value)){return null}return value});this.handleTap=(()=>{this.refs.input.focus()});this.handleFormSubmit=(e=>{e.preventDefault();if(!this.opts.onchange){return}const newVal=this.normalizeValue(this.opts.val);this.opts.onchange(newVal,this.opts.id)});this.handleInputChange=(e=>{e.stopPropagation()});this.handleInputInput=(e=>{if(!this.opts.onchange){return}const newVal=this.normalizeValue(e.target.value);this.opts.onchange(newVal,this.opts.id)})};riot$1.tag2("viron-textinput",'<div class="Textinput__label" if="{!!opts.label}">{opts.label}</div> <form class="Textinput__form" ref="form" onsubmit="{handleFormSubmit}"> <input class="Textinput__input" ref="input" type="{opts.type || \'text\'}" riot-value="{normalizeValue(opts.val)}" placeholder="{opts.placeholder}" disabled="{!!opts.isdisabled}" oninput="{handleInputInput}" onchange="{handleInputChange}"> </form>',"",'class="Textinput {\'Textinput--disabled\': opts.isdisabled}" onclick="{getClickHandler(\'handleTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleTap\')}"',function(opts){this.external(script$23)});var script$24=function(){const store=this.riotx.get();this.mailAddress="";this.password="";this.handleMailAddressChange=(newMailAddress=>{this.mailAddress=newMailAddress;this.update()});this.handlePasswordChange=(newPassword=>{this.password=newPassword;this.update()});this.handleSigninButtonSelect=(()=>{this.opts.closer();Promise.resolve().then(()=>store.action("auth.signinEmail",this.opts.endpointkey,this.opts.authtype,this.mailAddress,this.password)).then(()=>{this.getRouter().navigateTo(`/${this.opts.endpointkey}`)}).catch(err=>store.action("modals.add","viron-error",{title:"„É≠„Ç∞„Ç§„É≥Â§±Êïó",message:"„É≠„Ç∞„Ç§„É≥Âá∫Êù•„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇÊ≠£„Åó„ÅÑ„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ„Å®„Éë„Çπ„ÉØ„Éº„Éâ„Çí‰ΩøÁî®„Åó„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç„Åó„Å¶‰∏ã„Åï„ÅÑ„ÄÇ‰ΩøÁî®„Åó„Åü„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ„Åå‰∫à„ÇÅÁÆ°ÁêÜËÄÖ„Å®„Åó„Å¶ÁôªÈå≤„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç„Åó„Å¶‰∏ã„Åï„ÅÑ„ÄÇ",error:err}))})};riot$1.tag2("viron-endpoints-page-endpoint-signin-email",'<viron-textinput placeholder="mail address" val="{mailAddress}" onchange="{handleMailAddressChange}"></viron-textinput> <viron-textinput placeholder="password" type="password" val="{password}" onchange="{handlePasswordChange}"></viron-textinput> <viron-button label="„É≠„Ç∞„Ç§„É≥" onselect="{handleSigninButtonSelect}"></viron-button>',"",'class="EndpointsPage_Endpoint_Signin_Email"',function(opts){this.external(script$24)});var script$25=function(){const store=this.riotx.get();this.handleButtonSelect=(()=>{this.opts.closer();Promise.resolve().then(()=>store.action("auth.signinOAuth",this.opts.endpointkey,this.opts.authtype)).catch(err=>store.action("modals.add","viron-error",{error:err}))})};riot$1.tag2("viron-endpoints-page-endpoint-signin-oauth",'<viron-button label="{opts.authtype.provider}" onselect="{handleButtonSelect}"></viron-button>',"",'class="EndpointsPage_Endpoint_Signin_Oauth"',function(opts){this.external(script$25)});var script$26=function(){const store=this.riotx.get();this.isDesktop=store.getter("layout.isDesktop");this.emails=filter_1$1(this.opts.authtypes,authtype=>{return authtype.type===constants$1.authtypeEmail});this.oauths=filter_1$1(this.opts.authtypes,authtype=>{return authtype.type===constants$1.authtypeOauth});this.listen("layout",()=>{this.isDesktop=store.getter("layout.isDesktop");this.update()});this.closer=(()=>{this.close()})};riot$1.tag2("viron-endpoints-page-endpoint-signin",'<div class="EndpointsPage_Endpoint_Signin__main"> <div class="EndpointsPage_Endpoint_Signin__thumbnail" riot-style="background-image:url({opts.endpoint.thumbnail});"></div> <div class="EndpointsPage_Endpoint_Signin__name">name: {opts.endpoint.name}</div> <div class="EndpointsPage_Endpoint_Signin__url">url: {opts.endpoint.url}</div> <div class="EndpointsPage_Endpoint_Signin__emails" if="{!!emails.length}"> <viron-endpoints-page-endpoint-signin-email each="{authtype in emails}" authtype="{authtype}" endpointkey="{parent.opts.endpoint.key}" closer="{closer}"></viron-endpoints-page-endpoint-signin-email> </div> <virtual if="{!isDesktop &amp;&amp; !!oauths.length}"> <viron-horizontal-rule label="„Åæ„Åü„ÅØ"></viron-horizontal-rule> <div class="EndpointsPage_Endpoint_Signin__oauths"> <viron-endpoints-page-endpoint-signin-oauth each="{authtype in oauths}" authtype="{authtype}" endpointkey="{parent.opts.endpoint.key}" closer="{closer}"></viron-endpoints-page-endpoint-signin-oauth> </div> </virtual> </div> <div class="EndpointsPage_Endpoint_Signin__aside" if="{isDesktop &amp;&amp; !!oauths.length}"> <div class="EndpointsPage_Endpoint_Signin__oauthMessage">„Åæ„Åü„ÅØ„ÄÅ„Åì„Å°„Çâ„Çí<br>Âà©Áî®„Åó„Å¶„É≠„Ç∞„Ç§„É≥</div> <div class="EndpointsPage_Endpoint_Signin__oauths"> <viron-endpoints-page-endpoint-signin-oauth each="{authtype in oauths}" authtype="{authtype}" endpointkey="{parent.opts.endpoint.key}" closer="{closer}"></viron-endpoints-page-endpoint-signin-oauth> </div> </div>',"",'class="EndpointsPage_Endpoint_Signin"',function(opts){this.external(script$26)});var script$15=function(){const store=this.riotx.get();this.handleTap=(()=>{const endpointKey=this.opts.endpoint.key;Promise.resolve().then(()=>store.action("auth.validate",endpointKey)).then(isValid=>{if(isValid){this.getRouter().navigateTo(`/${endpointKey}`);return Promise.resolve()}return Promise.resolve().then(()=>store.action("auth.getTypes",endpointKey)).then(authtypes=>store.action("modals.add","viron-endpoints-page-endpoint-signin",{endpoint:this.opts.endpoint,authtypes:authtypes},{isSpread:true}))}).catch(err=>store.action("modals.add","viron-error",{error:err}))});this.handleMenuTap=(e=>{e.stopPropagation();const rect=this.refs.menu.root.getBoundingClientRect();store.action("popovers.add","viron-endpoints-page-endpoint-menu",{endpoint:this.opts.endpoint},{x:rect.left+rect.width/2,y:rect.bottom,direction:"TL"})})};riot$1.tag2("viron-endpoints-page-endpoint",'<viron-icon-dots class="EndpointsPage_Endpoint__menu" ref="menu" onclick="{getClickHandler(\'handleMenuTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleMenuTap\')}"></viron-icon-dots> <div class="EndpointsPage_Endpoint__thumbnail" riot-style="background-image:url({opts.endpoint.thumbnail});"></div> <div class="EndpointsPage_Endpoint__name">name: {opts.endpoint.name}</div> <div class="EndpointsPage_Endpoint__description">description: {opts.endpoint.description}</div> <div class="EndpointsPage_Endpoint__memo">memo: {opts.endpoint.memo}</div> <div class="EndpointsPage_Endpoint__url">url: {opts.endpoint.url}</div> <div class="EndpointsPage_Endpoint__version">version: {opts.endpoint.version}</div> <div class="EndpointsPage_Endpoint__token">token: {opts.endpoint.token}</div> <div class="EndpointsPage_Endpoint__theme">theme: {opts.endpoint.color}</div> <div class="EndpointsPage_Endpoint__tags"> <viron-tag each="{tag in opts.endpoint.tags}" label="{tag}"></viron-tag> </div>',"",'class="card EndpointsPage_Endpoint" onclick="{getClickHandler(\'handleTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleTap\')}"',function(opts){this.external(script$15)});var script$27=function(){const store=this.riotx.get();this.endpoints=store.getter("endpoints.allByOrderFiltered");this.listen("endpoints",()=>{this.endpoints=store.getter("endpoints.allByOrderFiltered");this.update()})};riot$1.tag2("viron-endpoints-page",'<div class="EndpointsPage__list"> <viron-endpoints-page-endpoint each="{endpoint in endpoints}" endpoint="{endpoint}"></viron-endpoints-page-endpoint> </div>',"",'class="EndpointsPage"',function(opts){this.external(script$27)});var script$28=function(){};riot$1.tag2("viron-notfound-page","<div>Not Found...</div>","",'class="NotfoundPage"',function(opts){this.external(script$28)});var script$29=function(){};riot$1.tag2("viron-icon","","","class=\"Icon Icon--{opts.type || 'question'} {opts.class}\"",function(opts){this.external(script$29)});var script$30=function(){};riot$1.tag2("viron-progress-circular",'<div class="ProgressCircular__spinner"> <viron-icon type="loading"></viron-icon> </div>',"",'class="ProgressCircular"',function(opts){this.external(script$30)});var script$31=function(){};riot$1.tag2("viron-progress-linear",'<div class="ProgressLinear__bar"> <div class="ProgressLinear__particle"></div> <div class="ProgressLinear__particle"></div> </div>',"","class=\"ProgressLinear {'ProgressLinear--active' : opts.isactive}\"",function(opts){this.external(script$31)});riot$1.tag2("viron-application-blocker","","",'class="Application_Blocker"',function(opts){});var script$32=function(){const store=this.riotx.get();let tag;const fadeIn=()=>{setTimeout(()=>{this.root.classList.add("Drawer--visible")},100)};const fadeOut=()=>{this.root.classList.remove("Drawer--visible");setTimeout(()=>{store.action("drawers.remove",this.opts.id)},1e3)};this.on("mount",()=>{tag=riot$1.mount(this.refs.content,this.opts.tagname,objectAssign({isDrawer:true,drawerCloser:this.fadeOut},this.opts.tagopts))[0];fadeIn();window.addEventListener("keydown",this.handleKeyDown)}).on("before-unmount",()=>{tag.unmount(true)}).on("unmount",()=>{window.removeEventListener("keydown",this.handleKeyDown)});this.handleTap=(e=>{if(!e.target.classList.contains("Drawer")){return}fadeOut()});this.handleKeyDown=(e=>{switch(e.keyCode){case 27:this.fadeOut();break;default:break}})};riot$1.tag2("viron-drawer",'<div class="Drawer__frame"> <div class="Drawer__content" ref="content"></div> </div>',"",'class="Drawer Drawer--{opts.theme}" onclick="{getClickHandler(\'handleTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleTap\')}"',function(opts){this.external(script$32)});var script$33=function(){const store=this.riotx.get();this.drawers=store.getter("drawers.all");this.listen("drawers",()=>{this.drawers=store.getter("drawers.all");this.update()})};riot$1.tag2("viron-application-drawers",'<virtual each="{drawers}"> <viron-drawer id="{id}" tagname="{tagName}" tagopts="{tagOpts}" theme="{drawerOpts.theme}"></viron-drawer> </virtual>',"",'class="Application_Drawers"',function(opts){this.external(script$33)});riot$1.tag2("viron-icon-arrow-right",'<svg viewbox="-3551.038 14059.998 10.039 16.002"> <path d="M1763.979-16723.969l-7.394-7.4a.291.291,0,0,1-.022-.025l-.381-.383a.2.2,0,0,1,0-.281l7.8-7.8a.2.2,0,0,1,.286,0l1.836,1.84a.191.191,0,0,1,0,.277l-5.819,5.822,5.819,5.818a.2.2,0,0,1,0,.287l-1.836,1.84a.21.21,0,0,1-.143.057A.21.21,0,0,1,1763.979-16723.969Z" transform="translate(-1784.878 -2663.914) rotate(180)"></path> </svg>',"",'class="icon Icon IconArrowRight {opts.class}"',function(opts){});riot$1.tag2("viron-icon-menu",'<svg viewbox="-3635 13999.001 24 9.4"> <g transform="translate(-3357.6 14031.401) rotate(180)"> <rect width="16" height="3" rx="0.4" transform="translate(261.4 29.4)"></rect> <rect width="16" height="3" rx="0.4" transform="translate(253.4 23)"></rect> </g> </svg>',"",'class="icon Icon IconMenu {opts.class}"',function(opts){});riot$1.tag2("viron-icon-menu-invert",'<svg viewbox="-3595 13999.001 24 9.4"> <g transform="translate(-3317.6 14031.401) rotate(180)"> <rect width="16" height="3" rx="0.4" transform="translate(253.4 29.4)"></rect> <rect class="cls-1" width="16" height="3" rx="0.4" transform="translate(261.4 23)"></rect> </g> </svg>',"",'class="icon Icon IconMenuInvert {opts.class}"',function(opts){});riot$1.tag2("viron-icon-search",'<svg viewbox="-3434 14059.999 15.999 16.003"> <path d="M3710.818-13811.056l-3.051-3.05a6.957,6.957,0,0,1-3.768,1.1,7.008,7.008,0,0,1-7-7,7.008,7.008,0,0,1,7-7,7.008,7.008,0,0,1,7,7,6.957,6.957,0,0,1-1.107,3.773l3.051,3.049a.205.205,0,0,1,0,.284l-1.839,1.839a.206.206,0,0,1-.142.058A.206.206,0,0,1,3710.818-13811.056ZM3700-13820a4,4,0,0,0,4,4,4,4,0,0,0,4-4,4,4,0,0,0-4-4A4,4,0,0,0,3700-13820Z" transform="translate(-7131 27887)"></path> </svg>',"",'class="icon Icon IconSearch {opts.class}"',function(opts){});riot$1.tag2("viron-icon-square",'<svg viewbox="-3674 14061 15.998 13.998"> <path d="M1869-16726h-14a1,1,0,0,1-1-1v-12a1,1,0,0,1,1-1h14a1,1,0,0,1,1,1v12A1,1,0,0,1,1869-16726Zm-12-11v8h10v-8Z" transform="translate(-5528 30801)"></path> </svg>',"",'class="icon Icon IconSquare {opts.class}"',function(opts){});riot$1.tag2("viron-icon-arrow-left",'<svg viewbox="-3581 14060.002 10.04 16.002"> <path d="M1793.942-16723.971l-7.4-7.4-.018-.023-.385-.385a.2.2,0,0,1,0-.281l7.8-7.8a.2.2,0,0,1,.281,0l1.84,1.84a.2.2,0,0,1,0,.281l-5.82,5.82,5.82,5.816a.2.2,0,0,1,0,.287l-1.84,1.84a.2.2,0,0,1-.141.057A.2.2,0,0,1,1793.942-16723.971Z" transform="translate(-5367.083 30799.918)"></path> </svg>',"",'class="icon Icon IconArrowLeft {opts.class}"',function(opts){});riot$1.tag2("viron-icon-logo",'<svg viewbox="-3675 13992 24 24"> <path d="M13.333,0H0V24H24V0Zm0,2.667h8V5.333h-8Zm-10.667,0h8v8h-8ZM21.333,21.333H2.667v-8H21.333Zm0-10.667h-8V8h8Z" transform="translate(-3675 13992)"></path> </svg>',"",'class="icon Icon IconLogo {opts.class}"',function(opts){});riot$1.tag2("viron-icon-arrow-up",'<svg viewbox="-3494.002 14063 16.002 10.037"> <path d="M1706.943-16726.971l-5.963-5.963-1.433-1.434a.122.122,0,0,1-.019-.021l-.384-.385a.2.2,0,0,1,0-.283l7.8-7.8a.2.2,0,0,1,.281,0l1.84,1.842a.2.2,0,0,1,0,.281l-5.82,5.82,5.82,5.818a.2.2,0,0,1,0,.281l-1.84,1.842a.2.2,0,0,1-.141.059A.2.2,0,0,1,1706.943-16726.971Z" transform="translate(-20220.914 12363.916) rotate(90)"></path> </svg>',"",'class="icon Icon IconArrowUp {opts.class}"',function(opts){});var script$35=function(){const store=this.riotx.get();this.isOpened=false;this.handleHeadTap=(()=>{this.isOpened=!this.isOpened;this.update()});this.handleIndependentHeadTap=(()=>{this.opts.closer();const id=this.opts.group.pages[0].id;this.getRouter().navigateTo(`/${store.getter("current.all")}/${id}`)});this.handlePageTap=(e=>{this.opts.closer();const id=e.item.page.id;this.getRouter().navigateTo(`/${store.getter("current.all")}/${id}`)})};riot$1.tag2("viron-application-menu-group",'<virtual if="{!opts.group.isIndependent}"> <div class="Application_Menu_Group__head" onclick="{getClickHandler(\'handleHeadTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleHeadTap\')}"> <div class="Application_Menu_Group__name">{opts.group.name}</div> <viron-icon-arrow-up class="Application_Menu_Group__arrow"></viron-icon-arrow-up> </div> <div class="Application_Menu_Group__pages" if="{isOpened}"> <div class="Application_Menu_Group__page" each="{page in opts.group.pages}" onclick="{getClickHandler(\'handlePageTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handlePageTap\')}">{page.name}</div> </div> </virtual> <virtual if="{opts.group.isIndependent}"> <div class="Application_Menu_Group__head" onclick="{getClickHandler(\'handleIndependentHeadTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleIndependentHeadTap\')}"> <div class="Application_Menu_Group__name">{opts.group.pages[0].name}</div> </div> </virtual>',"","class=\"Application_Menu_Group {'Application_Menu_Group--open': isOpened}\"",function(opts){this.external(script$35)});var script$36=function(){const store=this.riotx.get();this.closer=(()=>{this.close()});this.menu=store.getter("viron.menu");this.listen("viron",()=>{this.menu=store.getter("viron.menu");this.update()});this.handleLogoTap=(()=>{this.close();this.getRouter().navigateTo("/")})};riot$1.tag2("viron-application-menu",'<div class="Application_Menu__head"> <viron-icon-arrow-left class="Application_Menu__arrow"></viron-icon-arrow-left> <viron-icon-logo class="Application_Menu__logo" onclick="{getClickHandler(\'handleLogoTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleLogoTap\')}"></viron-icon-logo> </div> <div class="Application_Menu__body"> <div class="Application_Menu__section" each="{section in menu}"> <div class="Application_Menu__sectionName">{section.name}</div> <div class="Application_Menu__groups"> <viron-application-menu-group each="{group in section.groups}" group="{group}" closer="{parent.closer}"></viron-application-menu-group> </div> </div> </div>',"",'class="Application_Menu"',function(opts){this.external(script$36)});var script$37=function(){};riot$1.tag2("viron-application-header-autocomplete","<div>autocomplete!!!</div>","",'class="Application_Header_Autocomplete"',function(opts){this.external(script$37)});var script$39=function(){const store=this.riotx.get();this.endpointURL="";this.memo="";this.handleEndpointURLChange=(newEndpointURL=>{this.endpointURL=newEndpointURL;this.update()});this.handleMemoChange=(newMemo=>{this.memo=newMemo;this.update()});this.handleAddButtonSelect=(()=>{Promise.resolve().then(()=>store.action("endpoints.add",this.endpointURL,this.memo)).then(()=>store.action("toasts.add",{message:"„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÇíËøΩÂä†„Åó„Åæ„Åó„Åü„ÄÇ"})).then(()=>{this.close()}).catch(err=>{let autoHide=true;let linkText;let link;if(this.endpointURL.startsWith("https://")){autoHide=false;linkText="Self-Signed Certificate?";link=this.endpointURL}store.action("toasts.add",{message:err.message,autoHide:autoHide,linkText:linkText,link:link})})});this.handleCancelButtonSelect=(()=>{this.close()})};riot$1.tag2("viron-application-header-menu-entry",'<div>Êñ∞„Åó„ÅÑÁÆ°ÁêÜÁîªÈù¢„ÇíËøΩÂä†„Åô„Çã</div> <div class="Application_Header_Menu_Entry__inputs"> <viron-textinput label="„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà" val="{endpointURL}" onchange="{handleEndpointURLChange}"></viron-textinput> <viron-textarea label="„É°„É¢" val="{memo}" onchange="{handleMemoChange}"></viron-textarea> </div> <div class="Application_Header_Menu_Entry__control"> <viron-button label="ËøΩÂä†" onselect="{handleAddButtonSelect}"></viron-button> <viron-button theme="ghost" label="„Ç≠„É£„É≥„Çª„É´" onselect="{handleCancelButtonSelect}"></viron-button> </div>',"",'class="Application_Header_Menu_Entry"',function(opts){this.external(script$39)});var script$38=function(){const store=this.riotx.get();const generalActions=[{label:"„ÇØ„É¨„Ç∏„ÉÉ„Éà",id:"show_credit"},{label:"„Éò„É´„Éó",id:"navigate_to_doc"},{label:"„É©„Éº„Éã„É≥„Ç∞",id:"navigate_to_doc"},{label:"„Ç≠„É£„ÉÉ„Ç∑„É•„ÇØ„É™„Ç¢",id:"clear_cache"}];const endpointActions=[{label:"ËøΩÂä†",id:"add_endpoint"},{label:"„Éõ„Éº„É†„Çí‰øùÂ≠ò",id:"export_endpoints"},{label:"„Éõ„Éº„É†„ÇíË™≠„ÅøËæº„Åø",id:"import_endpoints"},{label:"ÂÖ®„Å¶„ÅÆ„Ç´„Éº„Éâ„ÇíÂâäÈô§",id:"remove_all_endpoints"}];this.actions=[];switch(this.opts.type){case"general":this.actions=generalActions;break;case"endpoint":this.actions=endpointActions;break;default:break}this.showModalToAddEndpoint=(()=>{store.action("modals.add","viron-application-header-menu-entry")});this.handleItemTap=(e=>{const actionId=e.item.action.id;switch(actionId){case"show_credit":this.close();break;case"navigate_to_doc":window.open("https://cam-inc.github.io/viron-doc/","_blank");this.close();break;case"clear_cache":this.close();break;case"add_endpoint":this.showModalToAddEndpoint();this.close();break;case"export_endpoints":this.close();break;case"import_endpoints":this.close();break;case"remove_all_endpoints":this.close();break;default:this.close();break}})};riot$1.tag2("viron-application-header-menu",'<div class="Application_Header_Menu__list"> <div class="Application_Header_Menu__item" each="{action in actions}" onclick="{getClickHandler(\'handleItemTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleItemTap\')}">{action.label}</div> </div>',"",'class="Application_Header_Menu"',function(opts){this.external(script$38)});var script$34=function(){const store=this.riotx.get();this.isTopPage=store.getter("location.isTop");this.isMenuOpened=store.getter("application.isMenuOpened");this.isMobile=store.getter("layout.isMobile");this.name=store.getter("viron.name");this.thumbnail=store.getter("viron.thumbnail");this.listen("location",()=>{this.isTopPage=store.getter("location.isTop");this.update()});this.listen("application",()=>{this.isMenuOpened=store.getter("application.isMenuOpened");this.update()});this.listen("layout",()=>{this.isMobile=store.getter("layout.isMobile");this.update()});this.listen("viron",()=>{this.name=store.getter("viron.name");this.thumbnail=store.getter("viron.thumbnail");this.update()});this.handleSearchIconTap=(()=>{const rect=this.refs.searchIcon.root.getBoundingClientRect();store.action("popovers.add","viron-application-header-autocomplete",null,{x:rect.left+rect.width/2,y:rect.bottom,direction:"TL"})});this.handleMenuToggleButtonTap=(()=>{if(!this.isMobile){store.action("application.toggleMenu");return}store.action("modals.add","viron-application-menu",null,{isSpread:true})});this.handleSquareIconTap=(()=>{const rect=this.refs.squareIcon.root.getBoundingClientRect();store.action("popovers.add","viron-application-header-menu",{type:"endpoint"},{x:rect.left+rect.width/2,y:rect.bottom,width:228,direction:"TR"})});this.handleDotsIconTap=(()=>{const rect=this.refs.dotsIcon.root.getBoundingClientRect();store.action("popovers.add","viron-application-header-menu",{type:"general"},{x:rect.left+rect.width/2,y:rect.bottom,width:228,direction:"TR"})})};riot$1.tag2("viron-application-header",'<div class="Application_Header__item"> <virtual if="{isTopPage}"> <viron-icon-search class="Application_Header__searchIcon" ref="searchIcon" onclick="{getClickHandler(\'handleSearchIconTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleSearchIconTap\')}"></viron-icon-search> </virtual> <virtual if="{!isTopPage}"> <virtual if="{isMenuOpened}"> <viron-icon-menu onclick="{getClickHandler(\'handleMenuToggleButtonTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleMenuToggleButtonTap\')}"></viron-icon-menu> </virtual> <virtual if="{!isMenuOpened}"> <viron-icon-menu-invert onclick="{getClickHandler(\'handleMenuToggleButtonTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleMenuToggleButtonTap\')}"></viron-icon-menu-invert> </virtual> </virtual> </div> <div class="Application_Header__item" if="{isMobile}"> <div class="Application_Header__thumbnail" riot-style="background-image:url({thumbnail});"></div> </div> <div class="Application_Header__item"> <virtual if="{isTopPage}"> <viron-icon-square class="Application_Header__squareIcon" ref="squareIcon" onclick="{getClickHandler(\'handleSquareIconTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleSquareIconTap\')}"></viron-icon-square> </virtual> <virtual if="{!isTopPage}"> <virtual if="{!isMobile}"> <div class="Application_Header__info"> <div class="Application_Header__name">{name}</div> <viron-icon-arrow-right class="Application_Header__arrow"></viron-icon-arrow-right> <div class="Application_Header__thumbnail" riot-style="background-image:url({thumbnail});"></div> </div> </virtual> </virtual> <viron-icon-dots class="Application_Header__dotsIcon" ref="dotsIcon" onclick="{getClickHandler(\'handleDotsIconTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleDotsIconTap\')}"></viron-icon-dots> </div>',"",'class="Application_Header"',function(opts){this.external(script$34)});riot$1.tag2("viron-icon-close",'<svg viewbox="-3644.002 14060.002 16.001 16.002"> <path d="M1859.9-16723.971l-5.819-5.822-5.818,5.818a.2.2,0,0,1-.281,0l-1.84-1.842a.2.2,0,0,1,0-.281l5.818-5.816-5.818-5.82a.2.2,0,0,1,0-.281l1.84-1.84a.2.2,0,0,1,.281,0l5.818,5.818,5.82-5.818a.2.2,0,0,1,.286,0l1.84,1.84a.2.2,0,0,1,0,.281l-5.823,5.82,5.819,5.82a.2.2,0,0,1,0,.283l-1.836,1.84a.21.21,0,0,1-.143.057A.21.21,0,0,1,1859.9-16723.971Z" transform="translate(-5490.083 30799.918)"></path> </svg>',"",'class="icon Icon IconClose {opts.class}"',function(opts){});var script$40=function(){const store=this.riotx.get();let tag;const fadeIn=()=>{setTimeout(()=>{this.isVisible=true;this.update()},100)};const fadeOut=()=>{this.isVisible=false;this.update();setTimeout(()=>{store.action("modals.remove",this.opts.id)},1e3)};this.layoutType=store.getter("layout.type");this.listen("layout",()=>{this.layoutType=store.getter("layout.type");this.update()});this.on("mount",()=>{tag=riot$1.mount(this.refs.content,this.opts.tagname,objectAssign({isModal:true,modalCloser:fadeOut},this.opts.tagopts))[0];fadeIn();window.addEventListener("keydown",this.handleKeyDown)}).on("before-unmount",()=>{tag.unmount(true)}).on("unmount",()=>{window.removeEventListener("keydown",this.handleKeyDown)});this.handleTap=(()=>{fadeOut()});this.handleFrameTap=(e=>{e.stopPropagation()});this.handleCloseButtonTap=(()=>{fadeOut()});this.handleKeyDown=(e=>{switch(e.keyCode){case 27:fadeOut();break;default:break}})};riot$1.tag2("viron-modal",'<div class="Modal__frame" onclick="{getClickHandler(\'handleFrameTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleFrameTap\')}"> <viron-icon-close class="Modal__closeButton" onclick="{getClickHandler(\'handleCloseButtonTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleCloseButtonTap\')}"></viron-icon-close> <div class="Modal__content" ref="content"></div> </div>',"","class=\"Modal {isVisible ? 'Modal--visible' : ''} Modal--{opts.modalopts.theme} Modal--{layoutType} {opts.modalopts.isSpread ? 'Modal--spread': ''}\" onclick=\"{getClickHandler('handleTap')}\" ontouchstart=\"{getTouchStartHandler()}\" ontouchmove=\"{getTouchMoveHandler()}\" ontouchend=\"{getTouchEndHandler('handleTap')}\"",function(opts){this.external(script$40)});var script$41=function(){const store=this.riotx.get();this.modals=store.getter("modals.all");this.listen("modals",()=>{this.modals=store.getter("modals.all");this.update()})};riot$1.tag2("viron-application-modals",'<virtual each="{modals}"> <viron-modal id="{id}" tagname="{tagName}" tagopts="{tagOpts}" modalopts="{modalOpts}"></viron-modal> </virtual>',"",'class="Application_Modals"',function(opts){this.external(script$41)});const isTouchEventSupported$1="ontouchstart"in document;var script$42=function(){const store=this.riotx.get();let tag;const fadeIn=()=>{setTimeout(()=>{this.root.classList.add("Popover--visible")},100)};const fadeOut=()=>{this.root.classList.remove("Popover--visible");setTimeout(()=>{store.action("popovers.remove",this.opts.id)},1e3)};this.on("mount",()=>{tag=riot$1.mount(this.refs.content,this.opts.tagname,objectAssign({isPopover:true,popoverCloser:fadeOut},this.opts.tagopts))[0];fadeIn();window.addEventListener("resize",this.handleWindowResize);window.addEventListener("scroll",this.handleWindowScroll);window.addEventListener("click",this.handleWindowClick);window.addEventListener("touchend",this.handleWindowTouchEnd)}).on("before-unmount",()=>{tag.unmount(true)}).on("unmount",()=>{window.removeEventListener("resize",this.handleWindowResize);window.removeEventListener("scroll",this.handleWindowScroll);window.removeEventListener("click",this.handleWindowClick);window.removeEventListener("touchend",this.handleWindowTouchend)});this.getPosition=(()=>{const opts=this.opts.popoveropts;const styles=[];styles.push(`left:${opts.x}px;`);styles.push(`top:${opts.y}px;`);return styles.join("")});this.getSize=(()=>{const opts=this.opts.popoveropts;const styles=[];styles.push(`width:${opts.width}px;`);if(!!opts.height){styles.push(`height:${opts.height}px;`)}return styles.join("")});this.handleFrameInnerTap=(e=>{e.stopPropagation()});this.handleFrameInnerScroll=(e=>{e.stopPropagation()});this.handleWindowResize=(()=>{fadeOut()});this.handleWindowScroll=(()=>{fadeOut()});this.handleWindowClick=(()=>{if(isTouchEventSupported$1){return}fadeOut()});this.handleWindowTouchEnd=(()=>{fadeOut()})};riot$1.tag2("viron-popover",'<div class="Popover__frameOuter"> <div class="Popover__frameInner" riot-style="{getSize()};" onclick="{getClickHandler(\'handleFrameInnerTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleFrameInnerTap\')}" onscroll="{handleFrameInnerScroll}"> <div class="Popover__content" ref="content"></div> </div> </div> <div class="Popover__arrow"></div>',"",'class="Popover Popover--{opts.popoveropts.direction}" riot-style="{getPosition()};"',function(opts){this.external(script$42)});var script$43=function(){const store=this.riotx.get();this.popovers=store.getter("popovers.all");this.listen("popovers",()=>{this.popovers=store.getter("popovers.all");this.update()})};riot$1.tag2("viron-application-popovers",'<virtual each="{popovers}"> <viron-popover id="{id}" tagname="{tagName}" tagopts="{tagOpts}" popoveropts="{popoverOpts}"></viron-popover> </virtual>',"",'class="Application_Popovers"',function(opts){this.external(script$43)});var script$44=function(){};riot$1.tag2("viron-application-poster",'<div class="Application_Poster__bg"></div> <div class="Application_Poster__overlay"></div> <div class="Application_Poster__content"> <viron-icon-logo class="Application_Poster__logo"></viron-icon-logo> <div>„Éõ„Éº„É†</div> </div>',"",'class="Application_Poster"',function(opts){this.external(script$44)});riot$1.tag2("viron-application-splash","<div>TODO</div>","",'class="Application_Splash"',function(opts){});var script$45=function(){const store=this.riotx.get();let autoHideTimerID;const show=()=>{setTimeout(()=>{this.root.classList.add("Toast--visible")},100)};const hide=()=>{this.root.classList.remove("Toast--visible");setTimeout(()=>{store.action("toasts.remove",this.opts.id)},1e3)};this.on("mount",()=>{show();if(this.opts.autohide){autoHideTimerID=setTimeout(()=>{hide()},this.opts.timeout)}}).on("unmount",()=>{clearTimeout(autoHideTimerID)});this.handleTap=(()=>{clearTimeout(autoHideTimerID);hide()});this.handleLinkTap=(()=>{window.open(this.opts.link)})};riot$1.tag2("viron-toast",'<div class="Toast__icon">TODO</div> <div class="Toast__message">{opts.message}</div> <div class="Toast__link" if="{!!opts.link}" onclick="{getClickHandler(\'handleLinkTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleLinkTap\')}">{opts.linktext}</div>',"",'class="Toast Toast--{opts.type}" onclick="{getClickHandler(\'handleTap\')}" ontouchstart="{getTouchStartHandler()}" ontouchmove="{getTouchMoveHandler()}" ontouchend="{getTouchEndHandler(\'handleTap\')}"',function(opts){this.external(script$45)});var script$46=function(){const store=this.riotx.get();this.toasts=store.getter("toasts.all");this.listen("toasts",()=>{this.toasts=store.getter("toasts.all");this.update()})};riot$1.tag2("viron-application-toasts",'<virtual each="{toasts}"> <viron-toast id="{id}" type="{type}" message="{message}" autohide="{autoHide}" timeout="{timeout}" link="{link}" linktext="{linkText}"></viron-toast> </virtual>',"",'class="Application_Toasts"',function(opts){this.external(script$46)});function now(){return now.get()}now.get=typeof Date.now==="function"?Date.now:function(){return+new Date};var now_1=now;function throttle(fn,delay){var context,timeout,result,args,diff,prevCall=0;function delayed(){prevCall=now_1();timeout=null;result=fn.apply(context,args)}function throttled(){context=this;args=arguments;diff=delay-(now_1()-prevCall);if(diff<=0){clearTimeout(timeout);delayed()}else if(!timeout){timeout=setTimeout(delayed,diff)}return result}throttled.cancel=function(){clearTimeout(timeout)};return throttled}var throttle_1=throttle;var script$48=function(){const updateText=()=>{const json=JSON.stringify(this.opts.data,undefined,4);let text=json.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");text=text.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,match=>{let cls="number";if(/^"/.test(match)){if(/:$/.test(match)){cls="key"}else{cls="string"}}else if(/true|false/.test(match)){cls="boolean"}else if(/null/.test(match)){cls="null"}return'<span class="PrettyPrint__'+cls+'">'+match+"</span>"});this.refs.canvas.innerHTML=text};this.on("mount",()=>{updateText()}).on("updated",()=>{updateText()})};riot$1.tag2("viron-prettyprint",'<pre class="PrettyPrint__pre" ref="canvas"></pre>',"",'class="PrettyPrint {opts.class}"',function(opts){this.external(script$48)});var script$49=function(){this.type=this.opts.type||"info";this.icon="";switch(this.opts.type){case"info":this.icon="info";break;case"error":this.icon="exclamation";break;default:this.icon="info";break}this.title=this.opts.title;this.message=this.opts.message;if(!!this.opts.error){this.type="error";this.icon="close";this.title=this.title||this.opts.error.name||this.opts.error.statusText||"Error";this.message=this.message||this.opts.error.message}this.detail=null;this.on("mount",()=>{const error=this.opts.error;if(!error){return}if(error instanceof Error){return}Promise.resolve().then(()=>{if(!!error.json){return error.json()}return error.text().then(text=>JSON.parse(text))}).then(json=>{const error=json.error;this.detail=error;!this.opts.title&&!!error.name&&(this.title=error.name);!this.opts.message&&!!error.data&&!!error.data.message&&(this.message=error.data.message);this.update()}).catch(()=>{return Promise.resolve()})})};riot$1.tag2("viron-message",'<div class="Message__head"> <div class="Message__icon"> <viron-icon type="{icon}"></viron-icon> </div> <div class="Message__title">{title}</div> </div> <div class="Message__text" if="{!!message}">{message}</div> <viron-prettyprint class="Message__error" if="{!!detail}" data="{detail}"></viron-prettyprint>',"",'class="Message Message--{type}"',function(opts){this.external(script$49)});var script$50=function(){this.handleDeleteButtonClick=(()=>{this.opts.onConfirm();this.close()});this.handleCancelButtonClick=(()=>{this.close()})};riot$1.tag2("viron-application-confirm",'<div class="Application__confirmHead"> <div class="Application__confirmTitle">„Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàÂâäÈô§</div> <div class="Application__confirmDescription">ÂÖ®„Å¶„ÅÆ„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÅåÂâäÈô§„Åï„Çå„Åæ„Åô„ÄÇÂÄãÂà•„Å´ÂâäÈô§„Åó„Åü„ÅÑÂ†¥Âêà„ÅØÂêÑ„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„Ç´„Éº„ÉâÂÜÖ„ÅÆÂâäÈô§„Éú„Çø„É≥„Åã„ÇâË°å„Å£„Å¶‰∏ã„Åï„ÅÑ„ÄÇ</div> </div> <div class="Application__confirmTail"> <viron-button label="ÂÖ®„Å¶ÂâäÈô§„Åô„Çã" type="emphasis" onclick="{handleDeleteButtonClick}"></viron-button> <viron-button label="„Ç≠„É£„É≥„Çª„É´" onclick="{handleCancelButtonClick}"></viron-button> </div>',"",'class="Application__confirm"',function(opts){this.external(script$50)});var script$51=function(){this.handleClick=(()=>{if(this.opts.isdisabled){return}this.opts.onclick&&this.opts.onclick(this.opts.id)})};riot$1.tag2("viron-button_",'<div class="Button__content"> <div class="Button__icon" if="{!!opts.icon}"> <viron-icon type="{opts.icon}"></viron-icon> </div> <div class="Button__label">{opts.label}</div> </div>',"","class=\"Button Button--{opts.type || 'primary'} {opts.class} {opts.isdisabled ? 'Button--disabled' : ''}\" onclick=\"{handleClick}\"",function(opts){this.external(script$51)});var script$52=function(){this.normalizeValue=(value=>{if(!isString_1(value)){return null}return value});this.on("mount",()=>{this.refs.input.value=this.normalizeValue(this.opts.text);this.opts.onchange(this.normalizeValue(this.opts.text),this.opts.id)}).on("updated",()=>{const text=this.opts.text;if(!isString_1(text)){this.refs.input.value=this.normalizeValue(text)}});this.handleClick=(()=>{this.refs.form.focus()});this.handleFormSubmit=(e=>{e.preventDefault();this.opts.onchange&&this.opts.onchange(this.normalizeValue(this.opts.text),this.opts.id)});this.handleInputInput=(e=>{e.preventUpdate=true;this.opts.onchange&&this.opts.onchange(this.normalizeValue(e.target.value),this.opts.id)});this.handleInputChange=(e=>{e.stopPropagation()})};riot$1.tag2("viron-textinputtt",'<div class="Textinput__label" if="{!!opts.label}">{opts.label}</div> <form ref="form" onsubmit="{handleFormSubmit}"> <input class="Textinput__input" ref="input" type="{opts.type || \'text\'}" riot-value="{normalizeValue(opts.text)}" placeholder="{opts.placeholder || \'\'}" pattern="{opts.pattern}" disabled="{!!opts.isdisabled}" oninput="{handleInputInput}" onchange="{handleInputChange}"> </form>',"","class=\"Textinput {'Textinput--ghost' : (opts.theme === 'ghost'), 'Textinput--disabled' : opts.isdisabled}\" onclick=\"{handleClick}\"",function(opts){this.external(script$52)});var script$53=function(){this.normalizeValue=(value=>{if(!isString_1(value)){return null}return value});this.on("mount",()=>{this.refs.textarea.value=this.normalizeValue(this.opts.text);this.opts.onchange(this.normalizeValue(this.opts.text),this.opts.id)}).on("updated",()=>{const text=this.opts.text;if(!isString_1(text)){this.refs.textarea.value=this.normalizeValue(text)}});this.handleClick=(()=>{this.refs.form.focus()});this.handleFormSubmit=(e=>{e.preventDefault();this.opts.onchange&&this.opts.onchange(this.normalizeValue(this.opts.text),this.opts.id)});this.handleTextareaInput=(e=>{e.preventUpdate=true;this.opts.onchange&&this.opts.onchange(this.normalizeValue(e.target.value),this.opts.id)});this.handleTextareaChange=(e=>{e.stopPropagation()})};riot$1.tag2("viron-textarea",'<div class="Textarea__label" if="{!!opts.label}">{opts.label}</div> <form class="Textarea__content" ref="form" onsubmit="{handleFormSubmit}"> <textarea class="Textarea__input" ref="textarea" riot-value="{normalizeValue(opts.text)}" maxlength="{opts.maxlength}" placeholder="{opts.placeholder || \'\'}" disabled="{!!opts.isdisabled}" oninput="{handleTextareaInput}" onchange="{handleTextareaChange}"></textarea> </form>',"",'class="Textarea {\'Textarea--disabled\' : opts.isdisabled}" onclick="{handleClick}"',function(opts){this.external(script$53)});var script$54=function(){const store=this.riotx.get();this.isExist=false;this.endpointURL="";this.memo="";this.handleEndpointURLChange=(newEndpointURL=>{this.endpointURL=newEndpointURL;this.isExist=!!store.getter("endpoints.oneByURL",newEndpointURL);this.update()});this.handleMemoChange=(newMemo=>{this.memo=newMemo;this.update()});this.handleRegisterButtonClick=(()=>{Promise.resolve().then(()=>store.action("endpoints.add",this.endpointURL,this.memo)).then(()=>store.action("toasts.add",{message:"„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÇíËøΩÂä†„Åó„Åæ„Åó„Åü„ÄÇ"})).then(()=>{this.close()}).catch(err=>{let autoHide=true;let linkText;let link;if(this.endpointURL.startsWith("https://")){autoHide=false;linkText="Self-Signed Certificate?";link=this.endpointURL}store.action("toasts.add",{message:err.message,autoHide:autoHide,linkText:linkText,link:link})})});this.handleCancelButtonClick=(()=>{this.close()})};riot$1.tag2("viron-application-entry",'<div class="Application__entryTitle">Êñ∞„Åó„ÅÑÁÆ°ÁêÜÁîªÈù¢„Çí‰ΩúÊàê„Åô„Çã</div> <div class="Application__entryMessage" if="{isExist}">„Åù„ÅÆ„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÅØÊó¢„Å´ÁôªÈå≤Ê∏à„Åø„Åß„Åô„ÄÇ</div> <div class="Application__entryForm"> <viron-textinput label="„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà" text="{endpointURL}" onchange="{handleEndpointURLChange}"></viron-textinput> <viron-textarea label="„É°„É¢" text="{memo}" onchange="{handleMemoChange}"></viron-textarea> </div> <div class="Application__entryControls"> <viron-button type="primary" isdisabled="{isExist}" onclick="{handleRegisterButtonClick}" label="Êñ∞Ë¶è‰ΩúÊàê"></viron-button> <viron-button type="secondary" onclick="{handleCancelButtonClick}" label="„Ç≠„É£„É≥„Çª„É´"></viron-button> </div>',"",'class="Application__entry"',function(opts){this.external(script$54)});var script$55=function(){const store=this.riotx.get();this.isWatching=store.getter("application.isDragging");this.isDroppable=false;this.listen("application",()=>{this.isWatching=store.getter("application.isDragging");this.update()});this.handleDragEnter=(e=>{e.preventDefault();this.isDroppable=true;this.update()});this.handleDragOver=(e=>{e.preventDefault()});this.handleDragLeave=(()=>{this.isDroppable=false;this.update()});this.handleDrop=(e=>{this.isDroppable=false;this.update();const endpointKey=e.dataTransfer.getData("text/plain");const newOrder=this.opts.order;Promise.resolve().then(()=>store.action("endpoints.changeOrder",endpointKey,newOrder)).catch(err=>store.action("modals.add","viron-message",{error:err}))})};riot$1.tag2("viron-application-order-droparea",'<div class="Application__orderDropareaContent"></div> <div class="Application__orderDropareaHandler" ondragenter="{handleDragEnter}" ondragover="{handleDragOver}" ondragleave="{handleDragLeave}" ondrop="{handleDrop}"></div>',"","class=\"Application__orderDroparea {'Application__orderDroparea--watching' : isWatching, 'Application__orderDroparea--droppable' : isDroppable}\"",function(opts){this.external(script$55)});var script$56=function(){const store=this.riotx.get();this.handleDragStart=(e=>{e.dataTransfer.effectAllowed="move";e.dataTransfer.setData("text/plain",this.opts.endpoint.key);Promise.resolve().then(()=>store.action("application.startDrag")).catch(err=>store.action("modals.add","viron-message",{error:err}))});this.handleDrag=(()=>{});this.handleDragEnd=(()=>{Promise.resolve().then(()=>store.action("application.endDrag")).catch(err=>store.action("modals.add","viron-message",{error:err}))})};riot$1.tag2("viron-application-order-item",'<div class="Application__orderItemHead"> <div class="Application__orderItemThumbnail" riot-style="background-image:url({opts.endpoint.thumbnail});"></div> <div class="Application__orderItemName">{opts.endpoint.name || \'-\'}</div> </div> <div class="Application__orderItemBody"> <div class="Application__orderItemUrl"> <div class="Application__orderItemUrlIcon"> <viron-icon type="link"></viron-icon> </div> <div class="Application__orderItemUrlLabel">{opts.endpoint.url}</div> </div> </div>',"",'class="Application__orderItem" draggable="{true}" ondragstart="{handleDragStart}" ondrag="{handleDrag}" ondragend="{handleDragEnd}"',function(opts){this.external(script$56)});var script$57=function(){const store=this.riotx.get();this.endpoints=store.getter("endpoints.allByOrder");this.listen("endpoints",()=>{this.endpoints=store.getter("endpoints.allByOrder");this.update()})};riot$1.tag2("viron-application-order",'<div class="Application__orderTitle">‰∏¶„Å≥È†Ü„ÇíÂ§âÊõ¥</div> <div class="Application__orderDescription">„Éâ„É©„ÉÉ„Ç∞&„Éâ„É≠„ÉÉ„Éó„Åß„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÅÆ‰∏¶„Å≥È†Ü„ÇíÂ§âÊõ¥„Åß„Åç„Åæ„Åô„ÄÇ</div> <div class="Application__orderPlayground"> <viron-application-order-droparea order="{0}"></viron-application-order-droparea> <virtual each="{endpoint, idx in endpoints}"> <viron-application-order-item endpoint="{endpoint}"></viron-application-order-item> <viron-application-order-droparea order="{idx + 1}"></viron-application-order-droparea> </virtual> </div>',"",'class="Application__order"',function(opts){this.external(script$57)});var script$47=function(){const store=this.riotx.get();this.isLaunched=store.getter("application.isLaunched");this.isNavigating=store.getter("application.isNavigating");this.isNetworking=store.getter("application.isNetworking");this.pageName=store.getter("location.name");this.isTopPage=store.getter("location.isTop");this.pageRoute=store.getter("location.route");this.endpointsCount=store.getter("endpoints.one");this.endpointFilterText=store.getter("application.endpointFilterText");this.usingBrowser=store.getter("ua.usingBrowser");this.layoutType=store.getter("layout.type");this.isDesktop=store.getter("layout.isDesktop");this.isMobile=store.getter("layout.isMobile");this.isAsideClosed=!store.getter("location.isTop")&&!store.getter("application.isMenuOpened");this.listen("application",()=>{this.isLaunched=store.getter("application.isLaunched");this.isNavigating=store.getter("application.isNavigating");this.isNetworking=store.getter("application.isNetworking");this.endpointFilterText=store.getter("application.endpointFilterText");this.isAsideClosed=!store.getter("location.isTop")&&!store.getter("application.isMenuOpened");this.update()});this.listen("location",()=>{this.pageName=store.getter("location.name");this.isTopPage=store.getter("location.isTop");this.pageRoute=store.getter("location.route");this.isAsideClosed=!store.getter("location.isTop")&&!store.getter("application.isMenuOpened");this.update()});this.listen("endpoints",()=>{this.endpointsCount=store.getter("endpoints.count");this.update()});this.listen("ua",()=>{this.usingBrowser=store.getter("ua.usingBrowser");this.update()});this.listen("layout",()=>{this.layoutType=store.getter("layout.type");this.isDesktop=store.getter("layout.isDesktop");this.isMobile=store.getter("layout.isMobile");this.update()});const handleResize=throttle_1(()=>{const width=window.innerWidth;const height=window.innerHeight;store.action("layout.updateSize",width,height)},1e3);this.on("mount",()=>{window.addEventListener("resize",handleResize)}).on("unmount",()=>{window.removeEventListener("resize",handleResize)});this.handleEntryMenuItemClick=(()=>{Promise.resolve().then(()=>store.action("modals.add","viron-application-entry")).catch(err=>store.action("modals.add","viron-message",{error:err}))});this.handleDownloadMenuItemClick=(()=>{const endpoints=store.getter("endpoints.allWithoutToken");download(JSON.stringify(endpoints),"endpoints.json","application/json")});this.handleFileChange=(e=>{const inputFile=e.target;const file=inputFile.files[0];if(!file){inputFile.value=null;return}if(!store.getter("ua.isEdge")&&file.type!=="application/json"){store.action("modals.add","viron-message",{title:"„Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàËøΩÂä† Â§±Êïó",message:"JSON„Éï„Ç°„Ç§„É´„ÇíÊåáÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",type:"error"});inputFile.value=null;return}const reader=new FileReader;reader.readAsText(file);reader.onerror=(err=>{store.action("modals.add","viron-message",{title:"„Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàËøΩÂä† Â§±Êïó",message:"„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ",error:err});inputFile.value=null});reader.onload=(event=>{const text=event.target.result;Promise.resolve().then(()=>{const endpoints=JSON.parse(text);return store.action("endpoints.mergeAll",endpoints)}).then(()=>store.action("modals.add","viron-message",{title:"„Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàËøΩÂä†",message:"„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„Åå‰∏ÄË¶ß„Å´ËøΩÂä†„Åï„Çå„Åæ„Åó„Åü„ÄÇ"})).catch(err=>store.action("modals.add","viron-message",{title:"„Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàËøΩÂä† Â§±Êïó",error:err}));inputFile.value=null})});this.handleOrderMenuItemClick=(()=>{store.action("modals.add","viron-application-order")});this.handleClearMenuItemClick=(()=>{Promise.resolve().then(()=>store.action("modals.add","viron-application-confirm",{onConfirm:()=>{store.action("endpoints.removeAll")}})).catch(err=>store.action("modals.add","viron-message",{error:err}))});this.handleFilterChange=(newText=>{Promise.resolve().then(()=>store.action("application.updateEndpointFilterText",newText)).catch(err=>store.action("modals.add","viron-message",{error:err}))})};riot$1.tag2("viron",'<div class="Application__container"> <div class="Application__aside" if="{isDesktop}"> <div class="Application__asideAdjuster"> <div class="Application__asideContent"> <viron-application-poster if="{isTopPage}"></viron-application-poster> <viron-application-menu if="{!isTopPage}"></viron-application-menu> </div> </div> </div> <div class="Application__header"> <viron-application-header></viron-application-header> </div> <div class="Application__main"> <div class="Application__pageInfo">TODO</div> <div class="Application__page"> <div data-is="viron-{pageName}-page" route="{pageRoute}"></div> </div> </div> </div> <viron-application-drawers></viron-application-drawers> <viron-application-modals></viron-application-modals> <viron-application-popovers></viron-application-popovers> <viron-application-toasts></viron-application-toasts> <viron-progress-linear isactive="{isNavigating || isNetworking}"></viron-progress-linear> <viron-progress-circular if="{isNetworking}"></viron-progress-circular> <viron-application-blocker if="{isNavigating}"></viron-application-blocker> <viron-application-splash if="{!isLaunched}"></viron-application-splash>',"","class=\"Application Application--{usingBrowser} Application--{layoutType} {isAsideClosed ? 'Application--asideClosed' : ''}\"",function(opts){this.external(script$47)});document.addEventListener("DOMContentLoaded",()=>{let mainStore;Promise.resolve().then(()=>i18n.init()).then(()=>mixin.init()).then(()=>store.init()).then(store$$1=>{mainStore=store$$1;window.store=store$$1}).then(()=>{riot$1.mount("viron")}).then(()=>Promise.all([mainStore.action("endpoints.tidyUpOrder"),mainStore.action("ua.setup")])).then(()=>router.init(mainStore)).catch(err=>mainStore.action("modals.add","viron-message",{message:"VironËµ∑Âãï„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇVironÊãÖÂΩìËÄÖ„Å´„ÅäÂïè„ÅÑÂêà„Çè„Åõ‰∏ã„Åï„ÅÑ„ÄÇ",error:err}))})})();
//# sourceMappingURL=app.min.js.map